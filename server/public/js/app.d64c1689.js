(function(t){function e(e){for(var s,n,i=e[0],l=e[1],c=e[2],m=0,u=[];m<i.length;m++)n=i[m],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},o={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00de":function(t,e,a){"use strict";var s=a("1f59"),o=a.n(s);o.a},"034f":function(t,e,a){"use strict";var s=a("1356"),o=a.n(s);o.a},"0509":function(t,e,a){"use strict";var s=a("d01e"),o=a.n(s);o.a},"0518":function(t,e,a){},"0813":function(t,e,a){},"08d9":function(t,e,a){},1356:function(t,e,a){},1818:function(t,e,a){},"1afc":function(t,e,a){"use strict";var s=a("636a"),o=a.n(s);o.a},"1d10":function(t,e,a){"use strict";var s=a("aa01"),o=a.n(s);o.a},"1f59":function(t,e,a){},"1f5d":function(t,e,a){"use strict";var s=a("2542"),o=a.n(s);o.a},"20c9":function(t,e,a){},"245a":function(t,e,a){},2542:function(t,e,a){},2663:function(t,e,a){},"297c0":function(t,e,a){},"2c48":function(t,e,a){},3082:function(t,e,a){"use strict";var s=a("0518"),o=a.n(s);o.a},3541:function(t,e,a){"use strict";var s=a("b299"),o=a.n(s);o.a},"35c4":function(t,e,a){"use strict";var s=a("2663"),o=a.n(s);o.a},3907:function(t,e,a){"use strict";var s=a("fef6"),o=a.n(s);o.a},"3e61":function(t,e,a){t.exports=a.p+"img/drawer-1.7dd35cfb.jpg"},"3e85":function(t,e,a){},"417f":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=r,t.exports=o,o.id="4678"},"4c8e":function(t,e,a){"use strict";var s=a("90ad"),o=a.n(s);o.a},"4f11":function(t,e,a){},"4fe4":function(t,e,a){},"513c":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Navbar"),a("v-content",{staticClass:"view-container"},[a("router-view")],1)],1)},r=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("v-app-bar",{staticClass:"nav-color",attrs:{flat:"",app:""}},[t.isAuth?s("v-app-bar-nav-icon",{on:{click:t.toggleDrawer}}):t._e(),t.isAuth?s("v-toolbar-title",{staticClass:"toolbar-title"},[s("span",{staticClass:"title font-weight-light grey--text text--darken-2"})]):s("v-toolbar-title",{staticClass:"toolbar-title"},[s("span",{staticClass:"title grey--text text--darken-2"},[t._v("DARBMUPCO")]),s("span",{staticClass:"hidden-sm-and-down font-weight-light title grey--text text--darken-2"},[t._v("Bookkeeping System")])]),s("v-spacer"),t.isAuth?s("v-toolbar-items",[s("v-menu",{attrs:{"offset-x":!0,"offset-y":!0,transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{text:""}},a),[s("span",{staticClass:"grey--text text--darken-2"},[s("span",{staticClass:"subtitle-1 font-weight-light text-capitalize"},[t._v("\n                "+t._s(t.auth.user.userName)+"\n              ")]),s("v-icon",{attrs:{right:"",medium:""}},[t._v("expand_more")])],1)])]}}])},[s("v-list",["bookkeeper"==t.auth.user.account?s("v-list-item",{on:{click:function(e){t.$router.push("/bookkeeper/profile",function(){})}}},[s("v-list-item-title",{staticClass:"subtitle-2 font-weight-light"},[t._v("Profile")])],1):t._e(),"admin"==t.auth.user.account?s("v-list-item",[s("v-list-item-title",{staticClass:"subtitle-2 font-weight-light"},[t._v("Profile")])],1):t._e(),s("v-list-item",{on:{click:t.logout}},[s("v-list-item-title",{staticClass:"subtitle-2 font-weight-light"},[t._v("Logout")])],1)],1)],1)],1):s("v-toolbar-items",[s("v-dialog",{attrs:{persistent:"","max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({staticClass:"font-weight-light",attrs:{text:""}},a),[t._v("Login")])]}}],null,!1,2067144200),model:{value:t.loginDialog,callback:function(e){t.loginDialog=e},expression:"loginDialog"}},[s("LoginDialog",{on:{"close-dialog":function(e){return t.close("login")},"submit-login":t.login,"submit-loginAdmin":t.adminLogin,"goto-admin":t.gotoAdmin}})],1)],1)],1),t.isAuth?s("v-navigation-drawer",{attrs:{"expand-on-hover":t.hover,app:"",dark:"",floating:"",src:a("3e61"),width:"260"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("NavDrawer",{attrs:{hover:t.hover}})],1):t._e(),s("ErrorSnackbar",{attrs:{snackbar:t.hasError,text:t.getError},on:{"close-snackbar":function(e){t.hasError}}})],1)},i=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"blue-grey darken-1"}},[t.isAdmin?a("v-toolbar-title",[t._v("Admin Login")]):a("v-toolbar-title",[t._v("Bookkeeper Login")])],1),a("v-form",{on:{submit:function(e){return e.preventDefault(),t.submit(t.user)}}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Username",name:"username",type:"text"},model:{value:t.user.userName,callback:function(e){t.$set(t.user,"userName",e)},expression:"user.userName"}}),a("v-text-field",{attrs:{label:"Password",name:"password",type:"password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t.isAdmin?t._e():a("span",{staticClass:"blue--text\n      link\n      darken-4\n      subtitle-2\n      ml-5 font-weight-light",on:{click:function(e){return t.$emit("goto-admin")}}},[t._v("\n      Click here to sign in as admin\n    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[a("span",[t._v("Close")])]),a("v-btn",{attrs:{type:"submit",text:"",color:"blue-grey darken-1"}},[a("span",[t._v("Submit")])])],1)],1)],1)},c=[],d={name:"LoginDialog",data(){return{user:{userName:"",password:""}}},computed:{isAdmin(){return"homeAdmin"===this.$route.name}},methods:{submit(t){"homeAdmin"===this.$route.name?this.$emit("submit-loginAdmin",t):this.$emit("submit-login",t),this.user.userName="",this.user.password=""}}},m=d,u=(a("4c8e"),a("2877")),p=a("6544"),h=a.n(p),v=a("8336"),f=a("b0af"),b=a("99d9"),g=a("4bd4"),_=a("2fa4"),C=a("8654"),x=a("71d9"),k=a("2a7f"),y=Object(u["a"])(m,l,c,!1,null,"144e6148",null),w=y.exports;h()(y,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VForm:g["a"],VSpacer:_["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-group",{attrs:{color:"white"}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",{attrs:{hidden:1==t.hover}},[a("v-list-item-title",{staticClass:"headline text-lg-center"},[t._v("DARBMUPCO")]),a("v-list-item-subtitle",{staticClass:"text-lg-center"},[t._v("Bookkeeping System")])],1)],1),a("v-divider"),"bookkeeper"===t.auth.user.account?a("div",t._l(t.bookkeeperItems,function(e){return a("v-list-group",{key:e.title,attrs:{color:"white",disabled:e.disabled,"prepend-icon":e.action,"append-icon":e.items?void 0:"","no-action":""},on:{click:function(a){t.$router.push(e.route).catch(function(t){})}},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-medium",domProps:{textContent:t._s(e.title)}})],1)]},proxy:!0}],null,!0),model:{value:e.active,callback:function(a){t.$set(e,"active",a)},expression:"item.active"}},t._l(e.items,function(e){return a("v-list-item",{key:e.title,attrs:{to:e.route}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-medium",domProps:{textContent:t._s(e.title)}})],1)],1)}),1)}),1):a("div",t._l(t.adminItems,function(e){return a("v-list-group",{key:e.title,attrs:{color:"white",disabled:e.disabled,"prepend-icon":e.action,"append-icon":e.items?void 0:"","no-action":""},on:{click:function(a){t.$router.push(e.route).catch(function(t){})}},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light",domProps:{textContent:t._s(e.title)}})],1)]},proxy:!0}],null,!0),model:{value:e.active,callback:function(a){t.$set(e,"active",a)},expression:"item.active"}},t._l(e.items,function(e){return a("v-list-item",{key:e.title,attrs:{to:e.route}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light",domProps:{textContent:t._s(e.title)}})],1)],1)}),1)}),1)],1)},T=[],F=a("2f62"),B={name:"BookkeeperNavDrawer",props:["hover"],data(){return{bookkeeperItems:[{action:"dashboard",title:"Dashboard",route:"/bookkeeper/dashboard"},{action:"event_note",title:"Chart of Accounts",route:"/bookkeeper/chart_of_account"},{action:"chrome_reader_mode",title:"Bookkeeping",items:[{title:"General Journal Book",route:"/bookkeeper/general-journal"},{title:"Cash Receipt Book",route:"/bookkeeper/cash-receipt"},{title:"Cash Disbursement Book",route:"/bookkeeper/cash-disbursement"},{title:"Sales Book",route:"/bookkeeper/sales-book"},{title:"Purchase Book",route:"/bookkeeper/purchase-book"}]},{action:"local_atm",title:"Transactions",route:"/bookkeeper/transactions"},{action:"bar_chart",title:"Reports",items:[{title:"Journal",route:"/bookkeeper/reports/journal"},{title:"Ledger",route:"/bookkeeper/reports/ledger"},{title:"Trial Balance",route:"/bookkeeper/reports/trial-balance"},{title:"Balance Sheet",route:"/bookkeeper/reports/balance-sheet"},{title:"Income Statement",route:"/bookkeeper/reports/income-statement"},{title:"Notes and Summary",route:"/bookkeeper/reports/summary"}]}],adminItems:[{action:"dashboard",title:"Dashboard",route:"/admin/dashboard"},{action:"group",title:"Bookkeepers",route:"/admin/bookkeepers"},{action:"event_note",title:"Chart of Accounts",route:"/admin/chart_of_account"},{action:"local_atm",title:"Transactions",route:"/admin/transactions"},{action:"bar_chart",title:"Reports",items:[{title:"Journal",route:"/admin/reports/journal"},{title:"Ledger",route:"/admin/reports/ledger"},{title:"Trial Balance",route:"/admin/reports/trial-balance"},{title:"Balance Sheet",route:"/admin/reports/balance-sheet"},{title:"Income Statement",route:"/admin/reports/income-statement"},{title:"Notes and Summary",route:"/admin/reports/summary"}]}]}},computed:{...Object(F["c"])(["auth"])}},V=B,S=a("ce7e"),A=a("56b0"),j=a("da13"),I=a("5d23"),E=a("1baa"),O=Object(u["a"])(V,D,T,!1,null,"109cf026",null),$=O.exports;h()(O,{VDivider:S["a"],VListGroup:A["a"],VListItem:j["a"],VListItemContent:I["a"],VListItemGroup:E["a"],VListItemSubtitle:I["b"],VListItemTitle:I["c"]});var M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{"multi-line":t.multiline,bottom:"bottom",color:"red lighten-1",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.text)+"\n    "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.close}},[t._v("\n      Close\n    ")])],1)],1)},P=[],R={name:"ErrorSnackbar",props:["snackbar","text"],data(){return{multiline:!0,timeout:2e3}},methods:{...Object(F["b"])("errors",["clearError"]),close(){this.$emit("close-snackbar"),this.clearError()}}},L=R,N=a("2db4"),Y=Object(u["a"])(L,M,P,!1,null,"0cde14fc",null),G=Y.exports;h()(Y,{VBtn:v["a"],VSnackbar:N["a"]});var z={name:"Navbar",components:{LoginDialog:w,ErrorSnackbar:G,NavDrawer:$},data(){return{hover:!1,drawer:!0,loginDialog:!1,registerDialog:!1,width:200}},computed:{...Object(F["c"])(["auth","errors"]),isAuth(){return!(!this.auth.user||!0!==this.auth.isAuthenticated)},hasError(){return!0===this.errors.isError},getError(){return this.errors.msg.msg}},methods:{...Object(F["b"])("auth",["registerUser","loginUser","loginAdmin","logoutUser"]),toggleDrawer(){this.hover=!this.hover},close(t){"register"===t?this.registerDialog=!1:this.loginDialog=!1},register(t){this.registerUser(t),this.close("register")},login(t){this.loginUser(t),this.close("login")},adminLogin(t){this.loginAdmin(t),this.close("login")},gotoAdmin(){this.$router.push("/admin"),this.loginDialog=!0},logout(){this.logoutUser(),this.$router.push("/",()=>{})}}},U=z,q=(a("6332"),a("40dc")),J=a("5bc1"),W=a("169a"),H=a("132d"),Z=a("8860"),Q=a("e449"),K=a("f774"),X=Object(u["a"])(U,n,i,!1,null,"605f72a3",null),tt=X.exports;h()(X,{VAppBar:q["a"],VAppBarNavIcon:J["a"],VBtn:v["a"],VDialog:W["a"],VIcon:H["a"],VList:Z["a"],VListItem:j["a"],VListItemTitle:I["c"],VMenu:Q["a"],VNavigationDrawer:K["a"],VSpacer:_["a"],VToolbarItems:k["a"],VToolbarTitle:k["b"]});var et={name:"App",components:{Navbar:tt},computed:{...Object(F["c"])(["auth"])},beforeCreate(){this.$store.dispatch("auth/loadUser")}},at=et,st=(a("034f"),a("7496")),ot=a("a75b"),rt=Object(u["a"])(at,o,r,!1,null,null,null),nt=rt.exports;h()(rt,{VApp:st["a"],VContent:ot["a"]});var it=a("8c4f"),lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center ma-12 mt-12"},[null!==t.auth&&t.auth.isLoading?a("v-overlay",{attrs:{value:!t.overlay}}):t._e(),null!==t.auth&&t.auth.isLoading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1)},ct=[],dt={name:"Home",data(){return{overlay:!1}},computed:{...Object(F["c"])(["auth"])}},mt=dt,ut=a("a797"),pt=a("490a"),ht=Object(u["a"])(mt,lt,ct,!1,null,null,null),vt=ht.exports;h()(ht,{VOverlay:ut["a"],VProgressCircular:pt["a"]});var ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center ma-12 mt-12"},[null!==t.auth&&t.auth.isLoading?a("v-overlay",{attrs:{value:!t.overlay}}):t._e(),null!==t.auth&&t.auth.isLoading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e(),a("h1")],1)},bt=[],gt={name:"HomeAdmin",data(){return{overlay:!1}},computed:{...Object(F["c"])(["auth"])}},_t=gt,Ct=Object(u["a"])(_t,ft,bt,!1,null,"707ce988",null),xt=Ct.exports;h()(Ct,{VOverlay:ut["a"],VProgressCircular:pt["a"]});var kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found"},[a("v-container",{staticClass:"my-6",attrs:{fluid:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[a("v-card",{staticClass:"mt-8"},[a("v-toolbar",{staticClass:"error",attrs:{flat:"",dark:""}},[a("v-toolbar-title",[a("span",[t._v("Error")])])],1),a("v-card-text",[a("v-alert",{staticClass:"text-center mx-4",attrs:{dense:"",text:"",type:"error"}},[t._v("\n              404 The page you requested was not found.\n            ")])],1)],1)],1)],1)],1)],1)},yt=[],wt={name:"PageNotFound"},Dt=wt,Tt=a("0798"),Ft=a("a523"),Bt=a("0e8f"),Vt=a("a722"),St=Object(u["a"])(Dt,kt,yt,!1,null,"31a296e2",null),At=St.exports;h()(St,{VAlert:Tt["a"],VCard:f["a"],VCardText:b["b"],VContainer:Ft["a"],VFlex:Bt["a"],VLayout:Vt["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var jt={token:localStorage.getItem("token"),user:null,isAuthenticated:!1,isLoading:!1},It={AUTH_USER:(t,e)=>{localStorage.setItem("token",e.token),t.token=e.token,t.isLoading=!1,t.isAuthenticated=!0,t.user=e.user},LOGOUT_USER:t=>{localStorage.removeItem("token"),t.token=null,t.user=null,t.isAuthenticated=!1,t.isLoading=!1},USER_LOADED:(t,e)=>{t.isLoading=!1,t.isAuthenticated=!0,t.user=e,t.token=e.token},USER_LOADING:t=>{t.isLoading=!0}},Et=a("bc3a"),Ot=a.n(Et),$t={registerUser:({commit:t,dispatch:e},a)=>{const{firstName:s,lastName:o,email:r,password:n}=a,i={headers:{"Content-Type":"application/json"}},l=JSON.stringify({firstName:s,lastName:o,email:r,password:n});Ot.a.post("/api/bookkeepers",l,i).then(e=>t("AUTH_USER",e.data)).catch(a=>{t("LOGOUT_USER"),e("errors/getError",a.response.data,{root:!0})})},loginUser:({commit:t,dispatch:e},a)=>{t("USER_LOADING");const{userName:s,password:o}=a,r={headers:{"Content-Type":"application/json"}},n=JSON.stringify({userName:s,password:o});Ot.a.post("/api/bookkeepers/login",n,r).then(e=>{t("AUTH_USER",e.data),$m.push("/bookkeeper/dashboard",()=>{})}).catch(a=>{t("LOGOUT_USER"),e("errors/getError",a.response.data,{root:!0})})},loginAdmin:({commit:t,dispatch:e},a)=>{t("USER_LOADING");const{userName:s,password:o}=a,r={headers:{"Content-Type":"application/json"}},n=JSON.stringify({userName:s,password:o});Ot.a.post("/api/admin/login",n,r).then(e=>{t("AUTH_USER",e.data),$m.push("/admin/dashboard",()=>{})}).catch(a=>{t("LOGOUT_USER"),e("errors/getError",a.response.data,{root:!0})})},loadUser:({commit:t,state:e})=>{t("USER_LOADING");const a={headers:{Authorization:localStorage.getItem("token")}};e.user?"bookkeeper"===e.user.account?Ot.a.get("/api/bookkeepers",a).then(e=>{t("USER_LOADED",e.data)}).catch(e=>t("LOGOUT_USER")):"admin"===e.user.account&&Ot.a.get("/api/admin",a).then(e=>{t("USER_LOADED",e.data)}).catch(e=>t("LOGOUT_USER")):t("LOGOUT_USER")},logoutUser:({commit:t})=>{t("LOGOUT_USER")}},Mt={isLogged:t=>{return!0===t.isAuthenticated}},Pt={namespaced:!0,state:jt,mutations:It,actions:$t,getters:Mt},Rt={namespaced:!0,state:{isError:!1,msg:""},mutations:{error:(t,e)=>{t.isError=!0,t.msg=e},clearError:t=>{t.isError=!1,t.msg=""}},actions:{getError:({commit:t},e)=>{t("error",e),setTimeout(()=>{t("clearError")},2e3)},clearError:({commit:t})=>{t("clearError")}},getters:{errorMsg:t=>{return t.msg}}},Lt=a("0e44");s["a"].use(F["a"]);var Nt=new F["a"].Store({modules:{auth:Pt,errors:Rt},plugins:[Object(Lt["a"])()]}),Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[null===t.auth||!1===t.auth.isAuthenticated||"bookkeeper"!==t.auth.user.account?a("div",[a("RestrictedResource")],1):a("div",[a("DashboardBookkeeperComponent")],1)])},Gt=[],zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restricted"},[a("v-container",{staticClass:"my-6",attrs:{fluid:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[a("v-card",{staticClass:"elevation-12 mt-8"},[a("v-toolbar",{staticClass:"error",attrs:{flat:"",dark:""}},[a("v-toolbar-title",[a("span",[t._v("Error")])])],1),a("v-card-text",[a("v-alert",{staticClass:"mx-4",attrs:{dense:"",text:"",type:"error"}},[t._v("\n              This is a restricted page. You will need to register or login an account.\n            ")])],1)],1)],1)],1)],1)],1)},Ut=[],qt={name:"RestrictedResource"},Jt=qt,Wt=Object(u["a"])(Jt,zt,Ut,!1,null,"20a0e755",null),Ht=Wt.exports;h()(Wt,{VAlert:Tt["a"],VCard:f["a"],VCardText:b["b"],VContainer:Ft["a"],VFlex:Bt["a"],VLayout:Vt["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Zt,Qt,Kt,Xt,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("SalesThisMonth")],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("ExpensesThisMonth")],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("TransactionsRecorded")],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-text",[a("Barchart")],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-text",[a("ExpenseBarChart")],1)],1)],1)],1)],1)],1)],1)},ee=[],ae=a("1fca"),se={name:"Barchart",extends:ae["a"],data(){return{loading:!1,year:(new Date).getFullYear(),sales:[]}},methods:{...Object(F["b"])("errors",["getError"]),formatBalance(t){const e=-1*t;return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(F["c"])(["auth"])},async mounted(){try{const t=await Ot.a.get(`/api/graphs/sales/${this.auth.user.BranchId}/${this.year}`);this.sales=t.data}catch(a){}const t={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Sales",data:[this.formatBalance(this.sales[0].january),this.formatBalance(this.sales[0].february),this.formatBalance(this.sales[0].march),this.formatBalance(this.sales[0].april),this.formatBalance(this.sales[0].may),this.formatBalance(this.sales[0].june),this.formatBalance(this.sales[0].july),this.formatBalance(this.sales[0].august),this.formatBalance(this.sales[0].september),this.formatBalance(this.sales[0].october),this.formatBalance(this.sales[0].november),this.formatBalance(this.sales[0].december)],backgroundColor:"#039be5"}]},e={scales:{xAxes:[{barPercentage:.5,gridLines:{offsetGridLines:!0}}],yAxes:[{ticks:{beginAtZero:!0}}]}};this.renderChart(t,e)}},oe=se,re=Object(u["a"])(oe,Zt,Qt,!1,null,"20edbeb3",null),ne=re.exports,ie={name:"ExpenseBarChart",extends:ae["a"],data(){return{loading:!1,year:(new Date).getFullYear(),expenses:[]}},methods:{...Object(F["b"])("errors",["getError"]),formatBalance(t){const e=1*t;return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(F["c"])(["auth"])},async mounted(){try{const t=await Ot.a.get(`/api/graphs/expenses/${this.auth.user.BranchId}/${this.year}`);this.expenses=t.data}catch(a){}const t={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Expenses",data:[this.formatBalance(this.expenses[0].january),this.formatBalance(this.expenses[0].february),this.formatBalance(this.expenses[0].march),this.formatBalance(this.expenses[0].april),this.formatBalance(this.expenses[0].may),this.formatBalance(this.expenses[0].june),this.formatBalance(this.expenses[0].july),this.formatBalance(this.expenses[0].august),this.formatBalance(this.expenses[0].september),this.formatBalance(this.expenses[0].october),this.formatBalance(this.expenses[0].november),this.formatBalance(this.expenses[0].december)],backgroundColor:"#f44336"}]},e={scales:{xAxes:[{barPercentage:.5,gridLines:{offsetGridLines:!0}}],yAxes:[{ticks:{beginAtZero:!0}}]}};this.renderChart(t,e)}},le=ie,ce=Object(u["a"])(le,Kt,Xt,!1,null,"d64bc074",null),de=ce.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{dark:"",color:"primary","min-height":"150"}},[a("v-card-title",[a("span",{staticClass:"title font-weight-medium"},[t._v("Sales this month")])]),a("v-card-text",[!0===t.loading?a("p"):a("p",{staticClass:"text-center headline font-weight-medium"},[t._v("₱"+t._s(t.formatSales))])])],1)],1)},ue=[],pe=a("c1df"),he=a.n(pe),ve={name:"SalesThisMonth",data(){return{sales:"",date:new Date,loading:!1}},methods:{...Object(F["b"])("errors",["getError"])},computed:{...Object(F["c"])(["auth"]),formatSales(){return-1*parseFloat(this.sales)},formatDate(){return he()(this.date).format("M")}},async mounted(){try{this.loading=!0;const e=await Ot.a.get(`/api/dashboard/sales/${this.auth.user.BranchId}/${this.formatDate}`);e.data.length<1?this.sales=0:this.sales=e.data[0].balance,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}}},fe=ve,be=Object(u["a"])(fe,me,ue,!1,null,"67c03729",null),ge=be.exports;h()(be,{VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"]});var _e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{dark:"",color:"error","min-height":"150"}},[a("v-card-title",[a("span",{staticClass:"title font-weight-medium"},[t._v("Expenses this month")])]),a("v-card-text",[!0===t.loading?a("p"):a("p",{staticClass:"text-center headline font-weight-medium"},[t._v("₱"+t._s(t.formatExpenses))])])],1)],1)},Ce=[],xe={name:"ExpensesThisMonth",data(){return{expenses:"",date:new Date,loading:!1}},methods:{...Object(F["b"])("errors",["getError"])},computed:{...Object(F["c"])(["auth"]),formatExpenses(){return 1*parseFloat(this.expenses)},formatDate(){return he()(this.date).format("M")}},async mounted(){try{this.loading=!0;const e=await Ot.a.get(`/api/dashboard/expenses/${this.auth.user.BranchId}/${this.formatDate}`);e.data.length<1?this.expenses=0:this.expenses=e.data[0].balance,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}}},ke=xe,ye=Object(u["a"])(ke,_e,Ce,!1,null,"e09ecbf4",null),we=ye.exports;h()(ye,{VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"]});var De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{dark:"",color:"success","min-height":"150"}},[a("v-card-title",[a("span",{staticClass:"title font-weight-medium"},[t._v("Transactions Recorded")])]),a("v-card-text",[!0===t.loading?a("p"):a("p",{staticClass:"text-center headline font-weight-medium"},[t._v(t._s(t.count))])])],1)],1)},Te=[],Fe={name:"TransactionsRecorded",data(){return{count:"",loading:!1}},methods:{...Object(F["b"])("errors",["getError"])},computed:{...Object(F["c"])(["auth"])},async mounted(){try{this.loading=!0;const e=await Ot.a.get(`/api/dashboard/transactions-recorded/${this.auth.user.BranchId}`);this.count=e.data[0].count,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}}},Be=Fe,Ve=Object(u["a"])(Be,De,Te,!1,null,"5d65fa60",null),Se=Ve.exports;h()(Ve,{VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"]});var Ae={name:"DashboardBookkeeperComponent",components:{Barchart:ne,ExpenseBarChart:de,SalesThisMonth:ge,ExpensesThisMonth:we,TransactionsRecorded:Se}},je=Ae,Ie=a("62ad"),Ee=a("0fd9"),Oe=Object(u["a"])(je,te,ee,!1,null,"7b7b094a",null),$e=Oe.exports;h()(Oe,{VCard:f["a"],VCardText:b["b"],VCol:Ie["a"],VFlex:Bt["a"],VLayout:Vt["a"],VRow:Ee["a"]});var Me,Pe,Re,Le,Ne={name:"DashboardBookkeeper",components:{RestrictedResource:Ht,DashboardBookkeeperComponent:$e},computed:{...Object(F["c"])(["auth"])}},Ye=Ne,Ge=Object(u["a"])(Ye,Yt,Gt,!1,null,"839bb8fc",null),ze=Ge.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[null===t.$store.state.auth||!1===t.$store.state.auth.isAuthenticated||"bookkeeper"===t.$store.state.auth.user.account?a("div",{staticClass:"not-authenticated"},[a("RestrictedResource")],1):a("div",[a("DashboardAdminComponent")],1)])},qe=[],Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("AdminSalesThisMonth")],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("AdminExpensesThisMonth")],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("AdminTransactionsRecorded")],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"text-center"},[t._v("Sales This Month")])]),a("v-card-text",[a("AdminDoughnutChart")],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-text",[a("AdminBarchart")],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-text",[a("AdminExpenseBarChart")],1)],1)],1)],1)],1)],1)],1)},We=[],He={name:"AdminBarchart",extends:ae["a"],data(){return{loading:!1,year:(new Date).getFullYear(),sales:[]}},methods:{...Object(F["b"])("errors",["getError"]),formatBalance(t){const e=-1*t;return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(F["c"])(["auth"])},async mounted(){try{const t=await Ot.a.get(`/api/graphs/admin/sales/${this.year}`);this.sales=t.data}catch(a){}const t={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Sales",data:[this.formatBalance(this.sales[0].january),this.formatBalance(this.sales[0].february),this.formatBalance(this.sales[0].march),this.formatBalance(this.sales[0].april),this.formatBalance(this.sales[0].may),this.formatBalance(this.sales[0].june),this.formatBalance(this.sales[0].july),this.formatBalance(this.sales[0].august),this.formatBalance(this.sales[0].september),this.formatBalance(this.sales[0].october),this.formatBalance(this.sales[0].november),this.formatBalance(this.sales[0].december)],backgroundColor:"#039be5"}]},e={scales:{xAxes:[{barPercentage:.5,gridLines:{offsetGridLines:!0}}],yAxes:[{ticks:{beginAtZero:!0}}]}};this.renderChart(t,e)}},Ze=He,Qe=Object(u["a"])(Ze,Me,Pe,!1,null,"5611479e",null),Ke=Qe.exports,Xe={name:"AdminExpenseBarChart",extends:ae["a"],data(){return{loading:!1,year:(new Date).getFullYear(),expenses:[]}},methods:{...Object(F["b"])("errors",["getError"]),formatBalance(t){const e=1*t;return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(F["c"])(["auth"])},async mounted(){try{const t=await Ot.a.get(`/api/graphs/admin/expenses/${this.year}`);this.expenses=t.data}catch(a){}const t={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Expenses",data:[this.formatBalance(this.expenses[0].january),this.formatBalance(this.expenses[0].february),this.formatBalance(this.expenses[0].march),this.formatBalance(this.expenses[0].april),this.formatBalance(this.expenses[0].may),this.formatBalance(this.expenses[0].june),this.formatBalance(this.expenses[0].july),this.formatBalance(this.expenses[0].august),this.formatBalance(this.expenses[0].september),this.formatBalance(this.expenses[0].october),this.formatBalance(this.expenses[0].november),this.formatBalance(this.expenses[0].december)],backgroundColor:"#f44336"}]},e={scales:{xAxes:[{barPercentage:.5,gridLines:{offsetGridLines:!0}}],yAxes:[{ticks:{beginAtZero:!0}}]}};this.renderChart(t,e)}},ta=Xe,ea=Object(u["a"])(ta,Re,Le,!1,null,"79a3fc37",null),aa=ea.exports,sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{dark:"",color:"primary","min-height":"150"}},[a("v-card-title",[a("span",{staticClass:"title font-weight-medium"},[t._v("Sales this month")])]),a("v-card-text",[!0===t.loading?a("p"):a("p",{staticClass:"text-center headline font-weight-medium"},[t._v("₱"+t._s(t.formatSales))])])],1)],1)},oa=[],ra={name:"SalesThisMonth",data(){return{sales:"",date:new Date,loading:!1}},methods:{...Object(F["b"])("errors",["getError"])},computed:{...Object(F["c"])(["auth"]),formatSales(){return-1*parseFloat(this.sales)},formatDate(){return he()(this.date).format("M")}},async mounted(){try{this.loading=!0;const e=await Ot.a.get(`/api/dashboard/admin/sales/${this.formatDate}`);e.data.length<1?this.sales=0:this.sales=e.data[0].balance,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}}},na=ra,ia=Object(u["a"])(na,sa,oa,!1,null,"58c16d57",null),la=ia.exports;h()(ia,{VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"]});var ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{dark:"",color:"error","min-height":"150"}},[a("v-card-title",[a("span",{staticClass:"title font-weight-medium"},[t._v("Expenses this month")])]),a("v-card-text",[!0===t.loading?a("p"):a("p",{staticClass:"text-center headline font-weight-medium"},[t._v("₱"+t._s(t.formatExpenses))])])],1)],1)},da=[],ma={name:"AdminExpensesThisMonth",data(){return{expenses:"",date:new Date,loading:!1}},methods:{...Object(F["b"])("errors",["getError"])},computed:{...Object(F["c"])(["auth"]),formatExpenses(){return 1*parseFloat(this.expenses)},formatDate(){return he()(this.date).format("M")}},async mounted(){try{this.loading=!0;const e=await Ot.a.get(`/api/dashboard/admin/expenses/${this.formatDate}`);e.data.length<1?this.expenses=0:this.expenses=e.data[0].balance,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}}},ua=ma,pa=Object(u["a"])(ua,ca,da,!1,null,"e916f1b6",null),ha=pa.exports;h()(pa,{VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"]});var va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{dark:"",color:"success","min-height":"150"}},[a("v-card-title",[a("span",{staticClass:"title font-weight-medium"},[t._v("Transactions Recorded")])]),a("v-card-text",[!0===t.loading?a("p"):a("p",{staticClass:"text-center headline font-weight-medium"},[t._v(t._s(t.count))])])],1)],1)},fa=[],ba={name:"AdminTransactionsRecorded",data(){return{count:"",loading:!1}},methods:{...Object(F["b"])("errors",["getError"])},computed:{...Object(F["c"])(["auth"])},async mounted(){try{this.loading=!0;const e=await Ot.a.get("/api/dashboard/admin/transactions-recorded");this.count=e.data[0].count,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}}},ga=ba,_a=Object(u["a"])(ga,va,fa,!1,null,"d6bfaffe",null),Ca=_a.exports;h()(_a,{VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"]});var xa,ka,ya={name:"AdminDoughnutChart",extends:ae["b"],data(){return{loading:!1,date:new Date,sales:[]}},methods:{...Object(F["b"])("errors",["getError"]),formatBalance(t){const e=-1*t;return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(F["c"])(["auth"]),formatDate(){return he()(this.date).format("M")},salesLabel(){return this.sales.map(t=>{return t.branchName})},salesData(){return this.sales.map(t=>{return this.formatBalance(t.balance)})}},async mounted(){try{const t=await Ot.a.get(`/api/dashboard/admin/sales/by-branch/${this.formatDate}`);this.sales=t.data}catch(a){this.getError(a.response.data)}const t={labels:this.salesLabel,datasets:[{label:"Sales",data:this.salesData,backgroundColor:["#ff6384","#36a2eb","#ffcd56"]}]},e={maintainAspectRatio:!1};this.renderChart(t,e)}},wa=ya,Da=Object(u["a"])(wa,xa,ka,!1,null,null,null),Ta=Da.exports,Fa={name:"DashboardAdminComponent",components:{AdminBarchart:Ke,AdminExpenseBarChart:aa,AdminSalesThisMonth:la,AdminExpensesThisMonth:ha,AdminTransactionsRecorded:Ca,AdminDoughnutChart:Ta}},Ba=Fa,Va=(a("8750"),Object(u["a"])(Ba,Je,We,!1,null,"72edb88f",null)),Sa=Va.exports;h()(Va,{VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VFlex:Bt["a"],VLayout:Vt["a"],VRow:Ee["a"]});var Aa={name:"DashboardAdmin",components:{RestrictedResource:Ht,DashboardAdminComponent:Sa}},ja=Aa,Ia=Object(u["a"])(ja,Ue,qe,!1,null,"1ea1cca8",null),Ea=Ia.exports,Oa=[{path:"/bookkeeper/dashboard",name:"dashboard-bookkeeper",component:ze,meta:{title:"Dashboard"}},{path:"/admin/dashboard",name:"dashboard-admin",component:Ea,meta:{title:"Dashboard"}}],$a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[null===t.$store.state.auth||!1===t.$store.state.auth.isAuthenticated||"bookkeeper"!==t.$store.state.auth.user.account?a("div",{staticClass:"not-authenticated"},[a("RestrictedResource")],1):a("div",[a("ChartOfAccount")],1)])},Ma=[],Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-of-account"},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{outlined:"","append-icon":"search",label:"Filter accounts","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"primary",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[a("span",[t._v("Add")])])]}}]),model:{value:t.addDialog,callback:function(e){t.addDialog=e},expression:"addDialog"}},[a("v-card",[a("v-card-title",[t._v("\n                  Add Account\n                ")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-combobox",{attrs:{items:t.types,"item-text":"name",label:"Select Account Type","return-object":""},model:{value:t.selectedType,callback:function(e){t.selectedType=e},expression:"selectedType"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-combobox",{attrs:{items:t.filterSubTypes,"item-text":"name",label:"Select Account SubType","return-object":""},model:{value:t.selectedSubType,callback:function(e){t.selectedSubType=e},expression:"selectedSubType"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Account Name"},model:{value:t.accountName,callback:function(e){t.accountName=e},expression:"accountName"}})],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.addDialog=!1}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.addAccount}},[t._v("Add")])],1)],1)],1)],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"elevation-3",attrs:{dense:"","item-key":"code",headers:t.headers,items:t.accounts,"items-per-page":15,search:t.search,loading:t.loading,"loading-text":"Loading..."}})],1)],1)],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n     Account added!\n    ")])],1)],1)},Ra=[],La={name:"ChartOfAccount",data(){return{addDialog:!1,search:"",types:[],subTypes:[],accounts:[],selectedType:"",selectedSubType:"",accountName:"",loading:!1,headers:[{text:"Account Name",value:"name"},{text:"Account Subtype",value:"SubType.name"},{text:"Account Type",value:"SubType.Type.name"}],snackbar:!1,timeout:2e3,update:0}},methods:{...Object(F["b"])("errors",["getError"]),async addAccount(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}},e=JSON.stringify({name:this.accountName,SubTypeId:this.selectedSubType.id});try{await Ot.a.post("/api/accounts",e,t),this.snackbar=!0,this.update++,this.addDialog=!1}catch(a){this.getError(a.response.data),this.addDialog=!1}}},computed:{filterSubTypes(){return""===this.selectedType||null===this.selectedType?this.subType:this.subType.filter(t=>{return t.TypeId===this.selectedType.id})}},watch:{async update(){const t={headers:{Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Ot.a.get("/api/charts",t),s=await Ot.a.get("/api/accounts/types"),o=await Ot.a.get("/api/accounts/subtypes");this.accounts=a.data,this.types=s.data,this.subType=o.data,this.loading=!1}catch(e){this.loading=!1,console.log(e)}}},async mounted(){const t={headers:{Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Ot.a.get("/api/charts",t),s=await Ot.a.get("/api/accounts/types"),o=await Ot.a.get("/api/accounts/subtypes");this.accounts=a.data,this.types=s.data,this.subType=o.data,this.loading=!1}catch(e){this.loading=!1,console.log(e)}}},Na=La,Ya=a("2b5d"),Ga=a("8fea"),za=a("3a2f"),Ua=Object(u["a"])(Na,Pa,Ra,!1,null,"0deec340",null),qa=Ua.exports;h()(Ua,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VDataTable:Ga["a"],VDialog:W["a"],VFlex:Bt["a"],VIcon:H["a"],VLayout:Vt["a"],VRow:Ee["a"],VSnackbar:N["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"],VTooltip:za["a"]});var Ja={name:"ChartofAccountBookkeeper",components:{ChartOfAccount:qa,RestrictedResource:Ht}},Wa=Ja,Ha=Object(u["a"])(Wa,$a,Ma,!1,null,"6067cffe",null),Za=Ha.exports,Qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[null===t.$store.state.auth||0==t.$store.state.auth.isAuthenticated||"bookkeeper"===t.$store.state.auth.user.account?a("div",{staticClass:"not-authenticated"},[a("RestrictedResource")],1):a("div",[a("ChartOfAccount")],1)])},Ka=[],Xa={name:"ChartofAccountAdmin",components:{ChartOfAccount:qa,RestrictedResource:Ht}},ts=Xa,es=Object(u["a"])(ts,Qa,Ka,!1,null,"797c5643",null),as=es.exports,ss=[{path:"/bookkeeper/chart_of_account",name:"chart-bookkeeper",component:Za,meta:{title:"Chart of Accounts"}},{path:"/admin/chart_of_account",name:"chart-admin",component:as,meta:{title:"Chart of Accounts"}}],os=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[null===t.$store.state.auth||!1===t.$store.state.auth.isAuthenticated||"admin"===t.$store.state.auth.user.account?a("div",{staticClass:"not-authenticated"},[a("RestrictedResource")],1):a("div",[a("GeneralJournal")],1)])},rs=[],ns=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"general-journal"},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{height:"4",outlined:"",label:"Description"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"primary",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[a("span",[t._v("Add")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("GeneralJournalDialog",{on:{"close-dialog":function(e){t.dialog=!1},"add-transaction":t.add}})],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.deleteItems},attrs:{color:"red",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("remove")])],1)]}}],null,!0)},[a("span",[t._v("Remove")])])]}}]),model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Remove")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to remove?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialogDelete=!1}}},[t._v("\n                      Cancel\n                    ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.clear}},[t._v("\n                      Remove\n                    ")])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.selectedItems},attrs:{color:"success",dark:"",fab:"",small:""},on:{click:t.save}},s),[a("v-icon",[t._v("save")])],1)]}}])},[a("span",[t._v("Save")])])],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"show-select":"","hide-default-footer":"","disable-sort":"",headers:t.headers,items:t.indexedItems,"item-key":"id","no-data-text":"Add General Journal transactions"},scopedSlots:t._u([{key:"body.append",fn:function(e){e.headers;return[a("tr",[a("td"),a("td",[a("span",{staticClass:"font-weight-bold caption"},[t._v("Total:")])]),a("td",[0===t.sumDebit?a("span"):a("span",{class:{"red--text":t.isNotTheSame}},[t._v(t._s(t.sumDebit))])]),a("td",[0===t.sumCredit?a("span"):a("span",{class:{"red--text":t.isNotTheSame}},[t._v(t._s(t.sumCredit))])])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("RecordStatus",{attrs:{hidden:t.hidden,statusId:t.statusId},on:{"close-status":function(e){t.hidden=!0}}})],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      Saved!\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("\n        Close\n      ")])],1)],1)],1)},is=[],ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mt-4 mb-10",attrs:{hidden:t.hidden}},[a("v-card-title",[a("v-progress-linear",{attrs:{active:t.loading,indeterminate:t.loading,absolute:"",top:"",color:"blue darken-2"}}),a("span",{staticClass:"blue--text text--darken-3 title font-weight-medium"},[t._v("\n      Saved!\n    ")]),a("v-spacer"),a("v-btn",{attrs:{text:"",fab:"",color:"red","x-small":""},on:{click:function(e){return t.$emit("close-status")}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",[a("v-data-table",{attrs:{dense:"",headers:t.headers,items:t.items,"hide-default-footer":"","disable-sort":"","item-key":"id"},scopedSlots:t._u([{key:"body",fn:function(e){var s=e.items;return[a("tbody",t._l(s,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.name))]),a("td",[0==e.debit?a("span"):a("span",[t._v(t._s(e.debit))])]),a("td",[0==e.credit?a("span"):a("span",[t._v(t._s(e.credit))])])])}),0)]}}])})],1)],1)},cs=[],ds={name:"RecordStatus",props:["hidden","statusId"],data(){return{loading:!1,items:[],headers:[{text:"AccountName",align:"left",sortable:!1,value:"name"},{text:"Debit",align:"left",sortable:!1,value:"debit"},{text:"Credit",align:"left",sortable:!1,value:"credit"}]}},methods:{...Object(F["b"])("errors",["getError"])},computed:{...Object(F["c"])(["auth"])},watch:{async statusId(){try{this.loading=!0;const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}},a=await Ot.a.get(`/api/bookkeeping/transactions/latest/${this.auth.user.id}`),s=a.data[0].id,o=await Ot.a.get(`/api/bookkeeping/transaction-records/trans_id/${s}`,e);this.items=o.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}}}},ms=ds,us=a("8e36"),ps=Object(u["a"])(ms,ls,cs,!1,null,"0bbcdf58",null),hs=ps.exports;h()(ps,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VDataTable:Ga["a"],VIcon:H["a"],VProgressLinear:us["a"],VSpacer:_["a"]});var vs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n      Please stand by\n      "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-combobox",{attrs:{items:t.accounts,"item-text":"name",label:"Select Account Name","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{disabled:t.creditNotNull,label:"Debit"},model:{value:t.$v.debit.$model,callback:function(e){t.$set(t.$v.debit,"$model",e)},expression:"$v.debit.$model"}}),t.$v.debit.decimal?t._e():a("p",{staticClass:"error--text"},[t._v("\n                Please input a number\n              ")])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{disabled:t.debitNotNull,label:"Credit"},model:{value:t.$v.credit.$model,callback:function(e){t.$set(t.$v.credit,"$model",e)},expression:"$v.credit.$model"}}),t.$v.credit.decimal?t._e():a("p",{staticClass:"error--text"},[t._v("\n                Please input a number\n              ")])],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isIncomplete||t.$v.$invalid},on:{click:t.add}},[t._v("Add")])],1)],1)],1)],1)},fs=[],bs=a("b5ae"),gs={name:"GeneralJournalDialog",data(){return{loading:!1,selected:"",debit:"",credit:"",accounts:[]}},methods:{...Object(F["b"])("errors",["getError"]),add(){const t={AccountId:this.selected.id,AccountName:this.selected.name,debit:this.debit,credit:this.credit};this.$emit("add-transaction",t),this.$emit("close-dialog"),this.selected="",this.debit="",this.credit=""}},async mounted(){try{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};this.loading=!0;const a=await Ot.a.get("/api/accounts",e);this.accounts=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}},computed:{...Object(F["c"])(["auth"]),creditNotNull(){return this.credit.length>0},debitNotNull(){return this.debit.length>0},isIncomplete(){return""===this.selected||""===this.debit&&""===this.credit}},validations:{debit:{decimal:bs["decimal"]},credit:{decimal:bs["decimal"]}}},_s=gs,Cs=Object(u["a"])(_s,vs,fs,!1,null,"02a2f21a",null),xs=Cs.exports;h()(Cs,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VContainer:Ft["a"],VForm:g["a"],VProgressLinear:us["a"],VRow:Ee["a"],VTextField:C["a"]});var ks={name:"GeneralJournal",components:{GeneralJournalDialog:xs,RecordStatus:hs},data(){return{selected:[],snackbar:!1,timeout:2e3,BookId:1,dialog:!1,dialogDelete:!1,memo:"",menu:!1,date:(new Date).toISOString().substr(0,10),headers:[{text:"AccountName",value:"AccountName"},{text:"Debit",value:"debit"},{text:"Credit",value:"credit"}],items:[],hidden:!0,statusId:0}},methods:{...Object(F["b"])("errors",["getError"]),add(t){this.items=[...this.items,t]},clearAll(){this.memo="",this.items=[]},clear(){for(let t=0;t<this.selected.length;t++){const e=this.items.indexOf(this.selected[t]);this.items.splice(e,1)}this.selected=[],this.dialogDelete=!1},closeSnackBar(){this.snackbar=!1,this.clearAll()},deleteItem(t){const e=this.items.indexOf(t);this.items.splice(e,1)},async save(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=JSON.stringify({BookkeeperId:this.auth.user.id,BookId:this.BookId,memo:this.memo,date:this.date,data:this.formatItems}),s=await Ot.a.post("/api/bookkeeping/general-journal",a,t),o=s.data;o||console.log("Failed"),this.snackbar=!0,this.clearAll(),this.statusId++,this.hidden=!1}catch(e){this.getError(e.response.data)}}},computed:{...Object(F["c"])(["auth"]),formatItems(){const t=this.items.map(t=>{return t.debit.length<=0?t.debit=null:t.credit.length<=0&&(t.credit=null),t});return t},totalDebit(){const t=this.items.map(t=>{return+t.debit});return t},totalCredit(){const t=this.items.map(t=>{return+t.credit});return t},sumDebit(){let t=0;for(let e=0;e<this.totalDebit.length;e++)t+=this.totalDebit[e];return t},sumCredit(){let t=0;for(let e=0;e<this.totalCredit.length;e++)t+=this.totalCredit[e];return t},isNotTheSame(){return this.sumDebit!==this.sumCredit},indexedItems(){return this.items.map((t,e)=>({id:e,...t}))},selectedItems(){return this.items<=0},deleteItems(){return this.selected<=0}}},ys=ks,ws=(a("bae3"),a("2e4b")),Ds=Object(u["a"])(ys,ns,is,!1,null,"562a7fd0",null),Ts=Ds.exports;h()(Ds,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCol:Ie["a"],VDataTable:Ga["a"],VDatePicker:ws["a"],VDialog:W["a"],VFlex:Bt["a"],VIcon:H["a"],VLayout:Vt["a"],VMenu:Q["a"],VRow:Ee["a"],VSnackbar:N["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"],VTooltip:za["a"]});var Fs={name:"GeneralJournalPage",components:{GeneralJournal:Ts,RestrictedResource:Ht}},Bs=Fs,Vs=Object(u["a"])(Bs,os,rs,!1,null,"01b7bcf4",null),Ss=Vs.exports,As=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CashReceipt")],1)},js=[],Is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"OR number"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{outlined:"",label:"Description"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"primary",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[a("span",[t._v("Add")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("CashReceiptDialog",{on:{"add-transaction":t.add,"close-dialog":function(e){t.dialog=!1}}})],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.deleteItems},attrs:{color:"red",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("remove")])],1)]}}],null,!0)},[a("span",[t._v("Remove")])])]}}]),model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Remove")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to remove?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialogDelete=!1}}},[t._v("\n                      Cancel\n                    ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.clear}},[t._v("\n                      Remove\n                    ")])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.selectedItems},attrs:{color:"success",dark:"",fab:"",small:""},on:{click:t.save}},s),[a("v-icon",[t._v("save")])],1)]}}])},[a("span",[t._v("Save")])])],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"show-select":"","item-key":"id","hide-default-footer":"","disable-sort":"",headers:t.headers,items:t.indexedItems,"no-data-text":"Add Cash Receipt Book Transactions"},scopedSlots:t._u([{key:"body.append",fn:function(e){e.headers;return[a("tr",[a("td"),a("td",[a("span",{staticClass:"font-weight-bold"},[t._v("Total:")])]),a("td",[0===t.totalCash?a("span"):a("span",[t._v(t._s(t.totalCash))])])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("RecordStatus",{attrs:{hidden:t.hidden,statusId:t.statusId},on:{"close-status":function(e){t.hidden=!0}}})],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      Saved!\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("\n        Close\n      ")])],1)],1)],1)},Es=[],Os=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n      Please stand by\n      "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-combobox",{attrs:{items:t.accounts,"item-text":"name",label:"Select Account Name","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Amount"},model:{value:t.$v.amount.$model,callback:function(e){t.$set(t.$v.amount,"$model",e)},expression:"$v.amount.$model"}}),t.$v.amount.decimal?t._e():a("p",{staticClass:"error--text"},[t._v("\n                Please input a number\n              ")])],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isIncomplete||t.$v.$invalid},on:{click:t.add}},[t._v("Add")])],1)],1)],1)],1)},$s=[],Ms={name:"CashReceiptDialog",data(){return{loading:!1,selected:"",amount:"",accounts:[]}},methods:{...Object(F["b"])("errors",["getError"]),add(){const t={AccountId:this.selected.id,AccountName:this.selected.name,debit:null,credit:this.amount};this.$emit("add-transaction",t),this.$emit("close-dialog"),this.selected="",this.amount=""}},async mounted(){try{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};this.loading=!0;const a=await Ot.a.get("/api/accounts",e);this.accounts=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}},computed:{...Object(F["c"])(["auth"]),isIncomplete(){return""===this.selected||""===this.amount}},validations:{amount:{decimal:bs["decimal"]}}},Ps=Ms,Rs=Object(u["a"])(Ps,Os,$s,!1,null,"5ac1e108",null),Ls=Rs.exports;h()(Rs,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VContainer:Ft["a"],VForm:g["a"],VProgressLinear:us["a"],VRow:Ee["a"],VTextField:C["a"]});var Ns={name:"CashReceipt",components:{CashReceiptDialog:Ls,RecordStatus:hs},data(){return{selected:[],dialogDelete:!1,snackbar:!1,timeout:2e3,menu:!1,date:(new Date).toISOString().substr(0,10),BookId:2,dialog:!1,num:"",memo:"",headers:[{text:"AccountName",value:"AccountName"},{text:"Amount",value:"credit"}],items:[],hidden:!0,statusId:0}},methods:{...Object(F["b"])("errors",["getError"]),add(t){this.items=[...this.items,t]},async save(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a={AccountId:1,debit:this.totalCash,credit:null},s=[a,...this.items],o=JSON.stringify({BookkeeperId:this.auth.user.id,BookId:this.BookId,memo:this.memo,num:this.num,date:this.date,data:s}),r=await Ot.a.post("/api/bookkeeping/general-journal",o,t),n=r.data;n||console.log("Failed"),this.snackbar=!0,this.clearAll(),this.statusId++,this.hidden=!1}catch(e){this.getError(e.response.data)}},clearAll(){this.memo="",this.num="",this.items=[]},clear(){for(let t=0;t<this.selected.length;t++){const e=this.items.indexOf(this.selected[t]);this.items.splice(e,1)}this.selected=[],this.dialogDelete=!1},closeSnackBar(){this.snackbar=!1,this.clearAll()}},computed:{...Object(F["c"])(["auth"]),totalCash(){let t=this.items.map(t=>{let e=parseFloat(t.credit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},indexedItems(){return this.items.map((t,e)=>({id:e,...t}))},selectedItems(){return this.items<=0},deleteItems(){return this.selected<=0}}},Ys=Ns,Gs=(a("a572"),Object(u["a"])(Ys,Is,Es,!1,null,"bfa4e034",null)),zs=Gs.exports;h()(Gs,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCol:Ie["a"],VDataTable:Ga["a"],VDatePicker:ws["a"],VDialog:W["a"],VFlex:Bt["a"],VIcon:H["a"],VLayout:Vt["a"],VMenu:Q["a"],VRow:Ee["a"],VSnackbar:N["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"],VTooltip:za["a"]});var Us={name:"CashReceiptPage",components:{CashReceipt:zs}},qs=Us,Js=Object(u["a"])(qs,As,js,!1,null,"bceed8c4",null),Ws=Js.exports,Hs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CashDisbursement")],1)},Zs=[],Qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Check number"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{outlined:"",label:"Description"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"primary",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[a("span",[t._v("Add")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("CashDisbursementDialog",{on:{"add-transaction":t.add,"close-dialog":function(e){t.dialog=!1}}})],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.deleteItems},attrs:{color:"red",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("remove")])],1)]}}],null,!0)},[a("span",[t._v("Remove")])])]}}]),model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Remove")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to remove?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialogDelete=!1}}},[t._v("\n                      Cancel\n                    ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.clear}},[t._v("\n                      Remove\n                    ")])],1)],1)],1)],1),a("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"1"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({class:{"disable-events":t.selectedItems},attrs:{color:"success",dark:"",fab:"",small:""},on:{click:t.save}},s),[a("v-icon",[t._v("save")])],1)]}}])},[a("span",[t._v("Save")])])],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"show-select":"","item-key":"id","hide-default-footer":"","disable-sort":"",headers:t.headers,items:t.indexedItems,"no-data-text":"Add Cash Disbursement Book Transactions"},scopedSlots:t._u([{key:"body.append",fn:function(e){e.headers;return[a("tr",[a("td"),a("td",[a("span",{staticClass:"font-weight-bold"},[t._v("Total:")])]),a("td",[0===t.totalCash?a("span"):a("span",[t._v(t._s(t.totalCash))])])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("RecordStatus",{attrs:{hidden:t.hidden,statusId:t.statusId},on:{"close-status":function(e){t.hidden=!0}}})],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      Saved!\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("\n        Close\n      ")])],1)],1)],1)},Ks=[],Xs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n    Please stand by\n    "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-combobox",{attrs:{items:t.accounts,"item-text":"name",label:"Select Account Name","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Amount"},model:{value:t.$v.amount.$model,callback:function(e){t.$set(t.$v.amount,"$model",e)},expression:"$v.amount.$model"}}),t.$v.amount.decimal?t._e():a("p",{staticClass:"error--text"},[t._v("\n              Please input a number\n            ")])],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isIncomplete||t.$v.$invalid},on:{click:t.add}},[t._v("Add")])],1)],1)],1)},to=[],eo={name:"CashDisbursementDialog",data(){return{loading:!1,selected:"",amount:"",accounts:[]}},methods:{...Object(F["b"])("errors",["getError"]),add(){const t={AccountId:this.selected.id,AccountName:this.selected.name,debit:this.amount,credit:null};this.$emit("add-transaction",t),this.$emit("close-dialog"),this.selected="",this.amount=""}},async mounted(){try{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};this.loading=!0;const a=await Ot.a.get("/api/accounts",e);this.accounts=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}},computed:{...Object(F["c"])(["auth"]),isIncomplete(){return""===this.selected||""===this.amount}},validations:{amount:{decimal:bs["decimal"]}}},ao=eo,so=Object(u["a"])(ao,Xs,to,!1,null,"386f84aa",null),oo=so.exports;h()(so,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VContainer:Ft["a"],VForm:g["a"],VProgressLinear:us["a"],VRow:Ee["a"],VTextField:C["a"]});var ro={name:"CashDisbursement",components:{CashDisbursementDialog:oo,RecordStatus:hs},data(){return{selected:[],dialogDelete:!1,snackbar:!1,timeout:2e3,menu:!1,date:(new Date).toISOString().substr(0,10),BookId:3,dialog:!1,num:"",memo:"",headers:[{text:"AccountName",value:"AccountName"},{text:"Amount",value:"debit"}],items:[],hidden:!0,statusId:0}},methods:{...Object(F["b"])("errors",["getError"]),add(t){this.items=[...this.items,t]},async save(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a={AccountId:3,debit:null,credit:this.totalCash},s=[...this.items,a],o=JSON.stringify({BookkeeperId:this.auth.user.id,BookId:this.BookId,memo:this.memo,num:this.num,date:this.date,data:s}),r=await Ot.a.post("/api/bookkeeping/general-journal",o,t),n=r.data;n||console.log("Failed"),this.snackbar=!0,this.clearAll(),this.statusId++,this.hidden=!1}catch(e){this.getError(e.response.data)}},clearAll(){this.memo="",this.num="",this.items=[]},clear(){for(let t=0;t<this.selected.length;t++){const e=this.items.indexOf(this.selected[t]);this.items.splice(e,1)}this.selected=[],this.dialogDelete=!1},closeSnackBar(){this.snackbar=!1,this.clearAll()}},computed:{...Object(F["c"])(["auth"]),totalCash(){let t=this.items.map(t=>{let e=parseFloat(t.debit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},indexedItems(){return this.items.map((t,e)=>({id:e,...t}))},selectedItems(){return this.items<=0},deleteItems(){return this.selected<=0}}},no=ro,io=(a("00de"),Object(u["a"])(no,Qs,Ks,!1,null,"a14b6156",null)),lo=io.exports;h()(io,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCol:Ie["a"],VDataTable:Ga["a"],VDatePicker:ws["a"],VDialog:W["a"],VFlex:Bt["a"],VIcon:H["a"],VLayout:Vt["a"],VMenu:Q["a"],VRow:Ee["a"],VSnackbar:N["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"],VTooltip:za["a"]});var co={name:"CashDisbursementPage",components:{CashDisbursement:lo}},mo=co,uo=Object(u["a"])(mo,Hs,Zs,!1,null,"e9ce54b0",null),po=uo.exports,ho=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("SalesBook")],1)},vo=[],fo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Sales slip number"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{outlined:"",label:"Description"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{persistent:"","max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"primary",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[a("span",[t._v("Add")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("SalesBookDialog",{on:{"add-transaction":t.add,"close-dialog":function(e){t.dialog=!1}}})],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.deleteItems},attrs:{color:"red",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("remove")])],1)]}}],null,!0)},[a("span",[t._v("Remove")])])]}}]),model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Remove")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to remove?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialogDelete=!1}}},[t._v("\n                      Cancel\n                    ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.clear}},[t._v("\n                      Remove\n                    ")])],1)],1)],1)],1),a("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"1"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({class:{"disable-events":t.selectedItems},attrs:{color:"success",dark:"",fab:"",small:""},on:{click:t.save}},s),[a("v-icon",[t._v("save")])],1)]}}])},[a("span",[t._v("Save")])])],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"show-select":"","item-key":"id","hide-default-footer":"","disable-sort":"",headers:t.headers,items:t.indexedItems,"no-data-text":"Add Sales Book Transactions"},scopedSlots:t._u([{key:"body.append",fn:function(e){e.headers;return[a("tr",[a("td"),a("td",[a("span",{staticClass:"font-weight-bold"},[t._v("Total:")])]),a("td",[0===t.totalCash?a("span"):a("span",[t._v(t._s(t.totalCash))])])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("RecordStatus",{attrs:{hidden:t.hidden,statusId:t.statusId},on:{"close-status":function(e){t.hidden=!0}}})],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      Saved!\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("\n        Close\n      ")])],1)],1)],1)},bo=[],go=function(){var t=this,e=t.$createElement,a=t._self._c||e;return!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n    Please stand by\n    "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Amount"},model:{value:t.$v.amount.$model,callback:function(e){t.$set(t.$v.amount,"$model",e)},expression:"$v.amount.$model"}}),t.$v.amount.decimal?t._e():a("p",{staticClass:"error--text"},[t._v("\n              Please input a number\n            ")])],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isIncomplete||t.$v.$invalid},on:{click:t.add}},[t._v("Add")])],1)],1)],1)},_o=[],Co={name:"SalesBookDialog",data(){return{loading:!1,selected:"",amount:"",AccountId:160,AccountName:"40310-Sales"}},methods:{...Object(F["b"])("errors",["getError"]),add(){const t={AccountId:this.AccountId,AccountName:this.AccountName,debit:null,credit:this.amount};this.$emit("add-transaction",t),this.$emit("close-dialog"),this.selected="",this.amount=""}},computed:{...Object(F["c"])(["auth"]),isIncomplete(){return""===this.amount}},validations:{amount:{decimal:bs["decimal"]}}},xo=Co,ko=Object(u["a"])(xo,go,_o,!1,null,"4711766a",null),yo=ko.exports;h()(ko,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VContainer:Ft["a"],VForm:g["a"],VProgressLinear:us["a"],VRow:Ee["a"],VTextField:C["a"]});var wo={name:"SalesBook",components:{SalesBookDialog:yo,RecordStatus:hs},data(){return{selected:[],dialogDelete:!1,snackbar:!1,timeout:2e3,menu:!1,date:(new Date).toISOString().substr(0,10),BookId:5,dialog:!1,num:"",memo:"",headers:[{text:"AccountName",value:"AccountName"},{text:"Amount",value:"credit"}],items:[],hidden:!0,statusId:0}},methods:{...Object(F["b"])("errors",["getError"]),add(t){this.items=[...this.items,t]},async save(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a={AccountId:15,debit:this.totalCash,credit:null,date:this.date},s=[a,...this.items],o=JSON.stringify({BookkeeperId:this.auth.user.id,BookId:this.BookId,memo:this.memo,num:this.num,date:this.date,data:s}),r=await Ot.a.post("/api/bookkeeping/general-journal",o,t),n=r.data;n||console.log("Failed"),this.snackbar=!0,this.clearAll(),this.statusId++,this.hidden=!1}catch(e){this.getError(e.response.data)}},clearAll(){this.memo="",this.num="",this.items=[]},clear(){for(let t=0;t<this.selected.length;t++){const e=this.items.indexOf(this.selected[t]);this.items.splice(e,1)}this.selected=[],this.dialogDelete=!1},closeSnackBar(){this.snackbar=!1,this.clearAll()}},computed:{...Object(F["c"])(["auth"]),totalCash(){let t=this.items.map(t=>{let e=parseFloat(t.credit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},indexedItems(){return this.items.map((t,e)=>({id:e,...t}))},selectedItems(){return this.items<=0},deleteItems(){return this.selected<=0}}},Do=wo,To=(a("cfa1"),Object(u["a"])(Do,fo,bo,!1,null,"1beff402",null)),Fo=To.exports;h()(To,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCol:Ie["a"],VDataTable:Ga["a"],VDatePicker:ws["a"],VDialog:W["a"],VFlex:Bt["a"],VIcon:H["a"],VLayout:Vt["a"],VMenu:Q["a"],VRow:Ee["a"],VSnackbar:N["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"],VTooltip:za["a"]});var Bo={name:"SalesBookPage",components:{SalesBook:Fo}},Vo=Bo,So=Object(u["a"])(Vo,ho,vo,!1,null,"98e0b544",null),Ao=So.exports,jo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PurchaseBook")],1)},Io=[],Eo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{outlined:"",label:"Description"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"primary",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[a("span",[t._v("Add")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("PurchaseBookDialog",{on:{"add-transaction":t.add,"close-dialog":function(e){t.dialog=!1}}})],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.deleteItems},attrs:{color:"red",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("remove")])],1)]}}],null,!0)},[a("span",[t._v("Remove")])])]}}]),model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Remove")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to remove?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialogDelete=!1}}},[t._v("\n                      Cancel\n                    ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.clear}},[t._v("\n                      Remove\n                    ")])],1)],1)],1)],1),a("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"1"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({class:{"disable-events":t.selectedItems},attrs:{color:"success",dark:"",fab:"",small:""},on:{click:t.save}},s),[a("v-icon",[t._v("save")])],1)]}}])},[a("span",[t._v("Save")])])],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"show-select":"","item-key":"id","hide-default-footer":"","disable-sort":"",headers:t.headers,items:t.indexedItems,"no-data-text":"Add Purchase Book Transactions"},scopedSlots:t._u([{key:"body.append",fn:function(e){e.headers;return[a("tr",[a("td"),a("td",[a("span",{staticClass:"font-weight-bold"},[t._v("Total:")])]),a("td",[0===t.totalCash?a("span"):a("span",[t._v(t._s(t.totalCash))])])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("RecordStatus",{attrs:{hidden:t.hidden,statusId:t.statusId},on:{"close-status":function(e){t.hidden=!0}}})],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      Saved!\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("\n        Close\n      ")])],1)],1)],1)},Oo=[],$o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n      Please stand by\n      "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-combobox",{attrs:{items:t.accounts,"item-text":"name",label:"Select Account Name","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Amount"},model:{value:t.$v.amount.$model,callback:function(e){t.$set(t.$v.amount,"$model",e)},expression:"$v.amount.$model"}}),t.$v.amount.decimal?t._e():a("p",{staticClass:"error--text"},[t._v("\n                Please input a number\n              ")])],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isIncomplete||t.$v.$invalid},on:{click:t.add}},[t._v("Add")])],1)],1)],1)],1)},Mo=[],Po={name:"PurchaseBookDialog",data(){return{loading:!1,selected:"",amount:"",accounts:[]}},methods:{...Object(F["b"])("errors",["getError"]),add(){const t={AccountId:this.selected.id,AccountName:this.selected.name,debit:this.amount,credit:null};this.$emit("add-transaction",t),this.$emit("close-dialog"),this.selected="",this.amount=""}},async mounted(){try{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};this.loading=!0;const a=await Ot.a.get("/api/accounts",e);this.accounts=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}},computed:{...Object(F["c"])(["auth"]),isIncomplete(){return""===this.selected||""===this.amount}},validations:{amount:{decimal:bs["decimal"]}}},Ro=Po,Lo=Object(u["a"])(Ro,$o,Mo,!1,null,"062e2580",null),No=Lo.exports;h()(Lo,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VContainer:Ft["a"],VForm:g["a"],VProgressLinear:us["a"],VRow:Ee["a"],VTextField:C["a"]});var Yo={name:"PurchaseBook",components:{PurchaseBookDialog:No,RecordStatus:hs},data(){return{selected:[],dialogDelete:!1,snackbar:!1,timeout:2e3,menu:!1,date:(new Date).toISOString().substr(0,10),BookId:4,dialog:!1,memo:"",headers:[{text:"AccountName",value:"AccountName"},{text:"Amount",value:"debit"}],items:[],hidden:!0,statusId:0}},methods:{...Object(F["b"])("errors",["getError"]),add(t){this.items=[...this.items,t]},async save(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a={AccountId:105,debit:null,credit:this.totalCash},s=[...this.items,a],o=JSON.stringify({BookkeeperId:this.auth.user.id,BookId:this.BookId,memo:this.memo,num:this.num,date:this.date,data:s}),r=await Ot.a.post("/api/bookkeeping/general-journal",o,t),n=r.data;n||console.log("Failed"),this.snackbar=!0,this.clearAll(),this.statusId++,this.hidden=!1}catch(e){this.getError(e.response.data)}},clearAll(){this.memo="",this.items=[]},clear(){for(let t=0;t<this.selected.length;t++){const e=this.items.indexOf(this.selected[t]);this.items.splice(e,1)}this.selected=[],this.dialogDelete=!1},closeSnackBar(){this.snackbar=!1,this.clearAll()}},computed:{...Object(F["c"])(["auth"]),totalCash(){let t=this.items.map(t=>{let e=parseFloat(t.debit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},indexedItems(){return this.items.map((t,e)=>({id:e,...t}))},selectedItems(){return this.items<=0},deleteItems(){return this.selected<=0}}},Go=Yo,zo=(a("b002"),Object(u["a"])(Go,Eo,Oo,!1,null,"0ee9571b",null)),Uo=zo.exports;h()(zo,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCol:Ie["a"],VDataTable:Ga["a"],VDatePicker:ws["a"],VDialog:W["a"],VFlex:Bt["a"],VIcon:H["a"],VLayout:Vt["a"],VMenu:Q["a"],VRow:Ee["a"],VSnackbar:N["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"],VTooltip:za["a"]});var qo={name:"PurchaseBookPage",components:{PurchaseBook:Uo}},Jo=qo,Wo=Object(u["a"])(Jo,jo,Io,!1,null,"11f7d408",null),Ho=Wo.exports,Zo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TransactionList")],1)},Qo=[],Ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-combobox",{attrs:{items:t.prependBook,"item-text":"name",label:"Select Book","return-object":""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}}),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{outlined:"","append-icon":"search",label:"Filter transactions","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Delete")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to delete?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n                  Cancel\n                ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("\n                  Delete\n                ")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"item-key":"TransId",headers:t.headers,items:t.formatTransactions,"items-per-page":5,search:t.search,loading:t.loading,"loading-text":"Loading..."},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{dark:"",small:"",color:"green"},on:{click:function(e){return t.goToItem(s)}}},[a("v-icon",{attrs:{small:""}},[t._v("search")])],1),a("v-btn",{staticClass:"mx-1",attrs:{dark:"",small:"",color:"red"},on:{click:function(e){return t.prepareDelete(s)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)]}}])})],1)],1),a("v-snackbar",{attrs:{bottom:"bottom",color:"red",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n        Deleted!\n        "),a("v-btn",{attrs:{color:"white",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)],1)],1)},Xo=[],tr={name:"TransactionList",data(){return{select:{id:0,name:"All"},books:[],search:"",transactions:[],loading:!1,dialog:!1,headers:[{text:"Date",value:"date"},{text:"TransactionID",value:"id"},{text:"Book",value:"name"},{text:"Description",value:"memo"},{text:"Actions",value:"action",align:"center",sortable:!1}],timeout:2e3,snackbar:!1,itemToDelete:""}},methods:{...Object(F["b"])("errors",["getError"]),prepareDelete(t){this.itemToDelete=t,this.dialog=!0},async deleteItem(){const t=this.transactions.indexOf(this.itemToDelete);try{const a=await Ot.a.delete(`/api/bookkeeping/transactions/${this.itemToDelete.id}`);console.log(a.data),this.transactions.splice(t,1),this.dialog=!1,this.snackbar=!0}catch(e){this.getError(e.response.data)}},goToItem(t){this.$router.push(`/bookkeeper/transactions/${t.id}`)}},computed:{...Object(F["c"])(["auth"]),prependBook(){const t=[{id:0,name:"All"},...this.books];return t},formatTransactions(){return this.transactions.map(t=>{return t.date=he()(t.date).format("MMM DD"),t})},deleteItems(){return this.selected<=0}},watch:{async select(){if(0===this.select.id){const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Ot.a.get(`/api/bookkeeping/transactions/branch/${this.auth.user.BranchId}`,e);this.loading=!1,this.transactions=a.data}catch(t){this.loading=!1,this.getError(t.response.data)}}else{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Ot.a.get(`/api/bookkeeping/transactions/book/${this.auth.user.BranchId}/${this.select.id}`,e);this.loading=!1,this.transactions=a.data}catch(t){this.loading=!1,this.getError(t.response.data)}}}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get("/api/books",t);this.loading=!0;const s=await Ot.a.get(`/api/bookkeeping/transactions/branch/${this.auth.user.BranchId}`,t);this.books=a.data,this.loading=!1,this.transactions=s.data}catch(e){this.getError(e.response.data)}}},er=tr,ar=(a("1f5d"),Object(u["a"])(er,Ko,Xo,!1,null,"7b6e84ac",null)),sr=ar.exports;h()(ar,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCol:Ie["a"],VCombobox:Ya["a"],VDataTable:Ga["a"],VDialog:W["a"],VFlex:Bt["a"],VIcon:H["a"],VLayout:Vt["a"],VRow:Ee["a"],VSnackbar:N["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var or={name:"TransactionListPage",components:{TransactionList:sr}},rr=or,nr=Object(u["a"])(rr,Zo,Qo,!1,null,"17908f22",null),ir=nr.exports,lr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TransactionFilter")],1)},cr=[],dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px",disabled:!t.editable},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Num",readonly:!t.editable},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"Edit"},model:{value:t.editable,callback:function(e){t.editable=e},expression:"editable"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-btn",{staticClass:"mt-2",attrs:{color:"primary",disabled:!t.editable},on:{click:t.transactionUpdated}},[t._v("\n                Update\n              ")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{outlined:"",label:"Description",readonly:!t.editable},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("TransactionFilterDialog",{attrs:{transaction:t.propTransaction},on:{"close-dialog":t.closeUpdateDialog}})],1),a("v-simple-table",{staticClass:"mb-10",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Account")]),a("th",{staticClass:"text-left"},[t._v("Debit")]),a("th",{staticClass:"text-left"},[t._v("Credit")]),a("th",{staticClass:"text-left"},[t._v("Action")])])]),a("tbody",t._l(t.transactions,function(e,s){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.name))]),a("td",[0==e.debit?a("p"):a("p",[t._v(t._s(e.debit))])]),a("td",[0==e.credit?a("p"):a("p",[t._v(t._s(e.credit))])]),a("td",[a("v-btn",{staticClass:"mt-0",attrs:{dark:"","x-small":"",color:"primary",disabled:!t.editable},on:{click:function(e){return t.openUpdateDialog(s)}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1)],1)])}),0)]},proxy:!0}])}),"created"==t.status?a("div",[a("p",{staticClass:"caption"},[t._v("Transaction recorded on "+t._s(t.createdAt)+" by "+t._s(t.userName))])]):a("div",[a("p",{staticClass:"caption"},[t._v("Transaction updated on "+t._s(t.updatedAt)+" by "+t._s(t.userName))])])],1)],1),a("v-snackbar",{attrs:{bottom:"bottom",color:"primary",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n        Updated!\n        "),a("v-btn",{attrs:{color:"white",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)],1)],1)},mr=[],ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n      Please stand by\n      "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-combobox",{attrs:{items:t.accounts,"item-text":"name",label:"Select Account Name","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Debit"},model:{value:t.transaction.debit,callback:function(e){t.$set(t.transaction,"debit",e)},expression:"transaction.debit"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Credit"},model:{value:t.transaction.credit,callback:function(e){t.$set(t.transaction,"credit",e)},expression:"transaction.credit"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.updateTransaction}},[t._v("Close")])],1)],1)],1)],1)},pr=[],hr={name:"TransactionFilterDialog",props:["transaction"],data(){return{loading:!1,selected:"",accounts:[]}},methods:{...Object(F["b"])("errors",["getError"]),closeDialog(){this.$emit("close-dialog"),this.selected=""},updateTransaction(){this.transaction.account_id=this.selected.id,this.transaction.name=this.selected.name,this.closeDialog()}},computed:{...Object(F["c"])(["auth"])},async mounted(){this.selected={id:this.transaction.account_id,name:this.transaction.name};try{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};this.loading=!0;const a=await Ot.a.get("/api/accounts",e);this.accounts=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}},watch:{transaction(){this.selected={id:this.transaction.account_id,name:this.transaction.name}}}},vr=hr,fr=Object(u["a"])(vr,ur,pr,!1,null,null,null),br=fr.exports;h()(fr,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VContainer:Ft["a"],VForm:g["a"],VProgressLinear:us["a"],VRow:Ee["a"],VTextField:C["a"]});var gr={name:"TransactionFilter",components:{TransactionFilterDialog:br},data(){return{menu:!1,dialog:!1,date:"",num:"",memo:"",status:"",createdAt:"",updatedAt:"",userName:"",search:"",transactions:[],loading:!1,headers:[{text:"Account",value:"name"},{text:"Debit",value:"debit"},{text:"Credit",value:"credit"}],propTransaction:"",update:0,timeout:2e3,snackbar:!1,editable:!1}},methods:{...Object(F["b"])("errors",["getError"]),openUpdateDialog(t){this.propTransaction=this.transactions[t],this.dialog=!0},closeUpdateDialog(){this.dialog=!1,this.propTransaction=""},async transactionUpdated(){const t=JSON.stringify({transaction:{BookkeeperId:this.auth.user.id,date:this.date,num:this.num,memo:this.memo,updatedAt:new Date},transRecord:this.formatTransactions}),e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{await Ot.a.put(`/api/bookkeeping/transactions/transaction/${this.$route.params.transId}`,t,e)}catch(a){this.getError(a.response.data)}this.update++,this.editable=!1,this.snackbar=!0},formatDate(t){return he()(t).format("YYYY-M-D")},formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(F["c"])(["auth"]),formatTransactions(){return this.transactions.map(t=>{return null==t.credit||0==t.credit?(t.debit=parseInt(t.debit),t.credit=null):(t.credit=parseInt(t.credit),t.debit=null),t})},totalDebit(){let t=this.transactions.map(t=>{let e=parseFloat(t.debit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(a)},totalCredit(){let t=this.transactions.map(t=>{let e=parseFloat(t.credit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(a)}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Ot.a.get(`/api/bookkeeping/transaction-records/trans_id/${this.$route.params.transId}`),s=await Ot.a.get(`/api/bookkeeping/transactions/trans_id/${this.$route.params.transId}`,t);this.loading=!1,this.transactions=a.data,this.date=this.formatDate(s.data[0].date),this.num=s.data[0].num,this.memo=s.data[0].memo,this.status=s.data[0].status,this.createdAt=he()(s.data[0].createdAt).format("LLLL"),this.updatedAt=he()(s.data[0].updatedAt).format("LLLL"),this.userName=s.data[0].username}catch(e){this.getError(e.response.data)}},watch:{async update(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Ot.a.get(`/api/bookkeeping/transaction-records/trans_id/${this.$route.params.transId}`),s=await Ot.a.get(`/api/bookkeeping/transactions/trans_id/${this.$route.params.transId}`,t);this.loading=!1,this.transactions=a.data,this.date=this.formatDate(s.data[0].date),this.num=s.data[0].num,this.memo=s.data[0].memo,this.status=s.data[0].status,this.createdAt=he()(s.data[0].createdAt).format("LLLL"),this.updatedAt=he()(s.data[0].updatedAt).format("LLLL"),this.userName=s.data[0].username}catch(e){this.getError(e.response.data)}}}},_r=gr,Cr=a("1f4f"),xr=a("b73d"),kr=Object(u["a"])(_r,dr,mr,!1,null,"7bcfdef2",null),yr=kr.exports;h()(kr,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCol:Ie["a"],VDatePicker:ws["a"],VDialog:W["a"],VFlex:Bt["a"],VIcon:H["a"],VLayout:Vt["a"],VMenu:Q["a"],VRow:Ee["a"],VSimpleTable:Cr["a"],VSnackbar:N["a"],VSwitch:xr["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var wr={name:"TransactionFilterPage",components:{TransactionFilter:yr}},Dr=wr,Tr=Object(u["a"])(Dr,lr,cr,!1,null,"3ddc373a",null),Fr=Tr.exports,Br=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminTransactionList")],1)},Vr=[],Sr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-combobox",{attrs:{items:t.prependBook,"item-text":"name",label:"Select Book","return-object":""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}}),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{outlined:"","append-icon":"search",label:"Filter transactions","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"item-key":"TransId",headers:t.headers,items:t.formatTransactions,"items-per-page":5,search:t.search,loading:t.loading,"loading-text":"Loading..."},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{dark:"",small:"",color:"green"},on:{click:function(e){return t.goToItem(s)}}},[a("v-icon",{attrs:{small:""}},[t._v("search")])],1)]}}])})],1)],1)],1)],1)],1)},Ar=[],jr={name:"AdminTransactionList",data(){return{select:{id:0,name:"All"},books:[],search:"",transactions:[],loading:!1,headers:[{text:"Date",value:"date"},{text:"TransactionID",value:"id"},{text:"Branch",value:"branchName"},{text:"Description",value:"memo"},{text:"Action",value:"action",align:"center",sortable:!1}]}},methods:{...Object(F["b"])("errors",["getError"]),goToItem(t){this.$router.push(`/admin/transactions/${t.id}`)}},computed:{...Object(F["c"])(["auth"]),prependBook(){const t=[{id:0,name:"All"},...this.books];return t},formatTransactions(){return this.transactions.map(t=>{return t.date=he()(t.date).format("MMM DD"),t})},deleteItems(){return this.selected<=0}},watch:{async select(){if(0===this.select.id){const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Ot.a.get("/api/transactions/admin-transactions",e);this.loading=!1,this.transactions=a.data}catch(t){this.loading=!1,this.getError(t.response.data)}}else{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Ot.a.get(`/api/transactions/admin-transactions/book/${this.select.id}`,e);this.loading=!1,this.transactions=a.data}catch(t){this.loading=!1,this.getError(t.response.data)}}}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get("/api/books",t);this.loading=!0;const s=await Ot.a.get("/api/transactions/admin-transactions",t);this.books=a.data,this.loading=!1,this.transactions=s.data}catch(e){this.getError(e.response.data)}}},Ir=jr,Er=(a("35c4"),Object(u["a"])(Ir,Sr,Ar,!1,null,"7f21bcea",null)),Or=Er.exports;h()(Er,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCol:Ie["a"],VCombobox:Ya["a"],VDataTable:Ga["a"],VFlex:Bt["a"],VIcon:H["a"],VLayout:Vt["a"],VRow:Ee["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var $r={name:"AdminTransactionListPage",components:{AdminTransactionList:Or}},Mr=$r,Pr=Object(u["a"])(Mr,Br,Vr,!1,null,"599e3314",null),Rr=Pr.exports,Lr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminTransactionFilter")],1)},Nr=[],Yr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px",disabled:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Num",readonly:""},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{outlined:"",label:"Description",readonly:""},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1)],1),a("v-simple-table",{staticClass:"mb-10",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Account")]),a("th",{staticClass:"text-left"},[t._v("Debit")]),a("th",{staticClass:"text-left"},[t._v("Credit")])])]),a("tbody",t._l(t.transactions,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.name))]),a("td",[0==e.debit?a("p"):a("p",[t._v(t._s(e.debit))])]),a("td",[0==e.credit?a("p"):a("p",[t._v(t._s(e.credit))])])])}),0)]},proxy:!0}])}),"created"==t.status?a("div",[a("p",{staticClass:"caption"},[t._v("Transaction recorded on "+t._s(t.createdAt)+" by "+t._s(t.userName))])]):a("div",[a("p",{staticClass:"caption"},[t._v("Transaction updated on "+t._s(t.updatedAt)+" by "+t._s(t.userName))])])],1)],1)],1)],1)],1)},Gr=[],zr={name:"AdminTransactionFilter",data(){return{menu:!1,date:"",num:"",memo:"",status:"",createdAt:"",updatedAt:"",userName:"",search:"",transactions:[],loading:!1,headers:[{text:"Account",value:"name"},{text:"Debit",value:"debit"},{text:"Credit",value:"credit"}],propTransaction:"",update:0,timeout:2e3,snackbar:!1,editable:!1}},methods:{...Object(F["b"])("errors",["getError"]),openUpdateDialog(t){this.propTransaction=this.transactions[t],this.dialog=!0},closeUpdateDialog(){this.dialog=!1,this.propTransaction=""},async transactionUpdated(){const t=JSON.stringify({transaction:{BookkeeperId:this.auth.user.id,date:this.date,num:this.num,memo:this.memo,updatedAt:new Date},transRecord:this.formatTransactions}),e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{await Ot.a.put(`/api/bookkeeping/transactions/transaction/${this.$route.params.transId}`,t,e)}catch(a){this.getError(a.response.data)}this.update++,this.editable=!1,this.snackbar=!0},formatDate(t){return he()(t).format("YYYY-M-D")},formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(F["c"])(["auth"]),formatTransactions(){return this.transactions.map(t=>{return null==t.credit||0==t.credit?(t.debit=parseInt(t.debit),t.credit=null):(t.credit=parseInt(t.credit),t.debit=null),t})},totalDebit(){let t=this.transactions.map(t=>{let e=parseFloat(t.debit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(a)},totalCredit(){let t=this.transactions.map(t=>{let e=parseFloat(t.credit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(a)}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Ot.a.get(`/api/bookkeeping/transaction-records/trans_id/${this.$route.params.transId}`),s=await Ot.a.get(`/api/bookkeeping/transactions/trans_id/${this.$route.params.transId}`,t);this.loading=!1,this.transactions=a.data,this.date=this.formatDate(s.data[0].date),this.num=s.data[0].num,this.memo=s.data[0].memo,this.status=s.data[0].status,this.createdAt=he()(s.data[0].createdAt).format("LLLL"),this.updatedAt=he()(s.data[0].updatedAt).format("LLLL"),this.userName=s.data[0].username}catch(e){this.getError(e.response.data)}}},Ur=zr,qr=Object(u["a"])(Ur,Yr,Gr,!1,null,"58e683d9",null),Jr=qr.exports;h()(qr,{VCard:f["a"],VCardText:b["b"],VCol:Ie["a"],VDatePicker:ws["a"],VFlex:Bt["a"],VLayout:Vt["a"],VMenu:Q["a"],VRow:Ee["a"],VSimpleTable:Cr["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Wr={name:"AdminTransactionFilterPage",components:{AdminTransactionFilter:Jr}},Hr=Wr,Zr=Object(u["a"])(Hr,Lr,Nr,!1,null,"cf4b1e7c",null),Qr=Zr.exports,Kr=[{path:"/bookkeeper/general-journal",name:"general-journal-bookkeeper",component:Ss,meta:{title:"General Journal"}},{path:"/bookkeeper/cash-receipt",name:"cash-receipt-bookkeeper",component:Ws,meta:{title:"Cash Receipt Books"}},{path:"/bookkeeper/cash-disbursement",name:"cash-disbursement-bookkeeper",component:po,meta:{title:"Cash Disbursement Books"}},{path:"/bookkeeper/sales-book",name:"sales-book-bookkeeper",component:Ao,meta:{title:"Sales Book"}},{path:"/bookkeeper/purchase-book",name:"purchase-book-bookkeeper",component:Ho,meta:{title:"Purchase Book"}},{path:"/bookkeeper/transactions",name:"transactions-bookkeeper",component:ir,meta:{title:"Transactions"}},{path:"/bookkeeper/transactions/:transId",name:"transactions-filter",component:Fr,meta:{title:"Transactions"}},{path:"/admin/transactions",name:"transactions-admin",component:Rr,meta:{title:"Transactions"}},{path:"/admin/transactions/:transId",name:"transactions-filter-admin",component:Qr,meta:{title:"Transactions"}}],Xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.$store.state.auth.isAuthenticated||"bookkeeper"!==t.$store.state.auth.user.account?a("div",[a("RestrictedResource")],1):a("div",[a("JournalReport")],1)])},tn=[],en=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"journal-report",attrs:{id:"journal"}},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-menu",{ref:"fromMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"From","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.books,"item-text":"name",label:"Select Book","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"5"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"text-center"},[!0===t.loading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1),!1===t.loading?a("div",{staticClass:"mx-12",attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[null===t.selected||""===t.selected||1===t.selected.id?a("div",[a("GeneralJournalComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems}})],1):2===t.selected.id?a("div",[a("CashReceiptComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems}})],1):3===t.selected.id?a("div",[a("CashDisbursementComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems}})],1):4===t.selected.id?a("div",[a("PurchaseComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems}})],1):5===t.selected.id?a("div",[a("SalesComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems}})],1):t._e()])],1):t._e()],1)],1)],1)],1)},an=[],sn=a("d67e"),on=a.n(sn),rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"general-journal"},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.selectedBranch.branchName)+"\n      ")]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),t._m(0),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])]),a("hr")]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"1"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Date")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("TransId")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Description")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Account")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Credit")])])],1),a("hr"),t._l(t.formatItems,function(e){return a("div",{key:e.id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"1"}},[null===e.debit||0==e.debit?a("span"):a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.date))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[null===e.debit||0==e.debit?a("span"):a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.trans_id))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[null===e.debit||0==e.debit?a("span"):a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.memo))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.accountname))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[0===e.debit?a("p",{staticClass:"caption font-weight-medium text-right"}):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.debit))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[0===e.credit?a("p",{staticClass:"caption font-weight-medium text-right"}):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.credit))])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Total")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(t.formatBalance(t.totalDebit)))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(t.formatBalance(t.totalCredit)))])])],1)],2)},nn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-1"},[t._v("General Journal")])])}],ln={name:"GeneralJournalComponent",props:["formatFromDate","formatToDate","formatItems","selectedBranch"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(F["c"])(["auth"]),totalDebit(){let t=this.formatItems.map(t=>{return null===t.debit&&(t.debit=0),t}),e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalCredit(){let t=this.formatItems.map(t=>{return null===t.credit&&(t.credit=0),t}),e=t.map(t=>{let e=parseFloat(t.credit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s}}},cn=ln,dn=Object(u["a"])(cn,rn,nn,!1,null,"2f346c4e",null),mn=dn.exports;h()(dn,{VCol:Ie["a"],VRow:Ee["a"]});var un=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"general-journal"},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.selectedBranch.branchName)+"\n      ")]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),t._m(0),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])]),a("hr")]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("TransId")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Account Credited")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Cash Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Sales Credit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("A/R Credit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Others")])])],1),a("hr"),t._l(t.filterCredits,function(e){return a("div",{key:e.id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.trans_id))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.accountname))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.credit))])]),a("v-col",{attrs:{cols:"12",md:"2"}},["sales"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.credit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["a/r"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.credit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["others"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.credit)+"\n        ")])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Total")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalCash))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalSales))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalAR))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalOthers))+"\n      ")])])],1)],2)},pn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Cash Receipts Journal")])])}],hn={name:"CashReceiptComponent",props:["formatFromDate","formatToDate","formatItems","selectedBranch"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(F["c"])(["auth"]),filterCredits(){const t=this.formatItems.filter(t=>{return null===t.debit||0===t.debit}),e=t.map(t=>{return t.account_id>=40300&&t.account_id<=40390?t.tags="sales":t.account_id>=11200&&t.account_id<=11280?t.tags="a/r":t.tags="others",t});return e},totalCash(){let t=this.filterCredits.map(t=>{let e=parseFloat(t.credit);return parseFloat(this.formatBalance(e))});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},totalSales(){const t=this.filterCredits.filter(t=>{return"sales"===t.tags});let e=t.map(t=>{let e=parseFloat(t.credit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalAR(){const t=this.filterCredits.filter(t=>{return"a/r"===t.tags});let e=t.map(t=>{let e=parseFloat(t.credit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalOthers(){const t=this.filterCredits.filter(t=>{return"others"===t.tags});let e=t.map(t=>{let e=parseFloat(t.credit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s}}},vn=hn,fn=Object(u["a"])(vn,un,pn,!1,null,"6e05099b",null),bn=fn.exports;h()(fn,{VCol:Ie["a"],VRow:Ee["a"]});var gn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.selectedBranch.branchName)+"\n      ")]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),t._m(0),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])]),a("hr")]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"1"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("TransId")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Account Debited")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Cash Paid")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("A/P Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Salaries Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Expenses Debit")])]),a("v-col",{attrs:{cols:"12",md:"1"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Others")])])],1),a("hr"),t._l(t.filterDebits,function(e){return a("div",{key:e.id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"1"}},[a("p",[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.trans_id))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.accountname))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.debit))])]),a("v-col",{attrs:{cols:"12",md:"2"}},["a/p"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["salaries"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["expenses"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"1"}},["others"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"1"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Total")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"})]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalCash))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalAP))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalSalaries))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalExpenses))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"1"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalOthers))+"\n      ")])])],1)],2)},_n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Cash Disbursements Journal")])])}],Cn={name:"CashDisbursementComponent",props:["formatFromDate","formatToDate","formatItems","selectedBranch"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(F["c"])(["auth"]),filterDebits(){const t=this.formatItems.filter(t=>{return null===t.credit||0===t.credit}),e=t.map(t=>{return t.account_id>=21210&&t.account_id<=21220?t.tags="a/p":61210===t.account_id||62210===t.account_id||72210===t.account_id||73210===t.account_id?t.tags="salaries":t.account_id>=7e4&&t.account_id<8e4?t.tags="expenses":t.tags="others",t});return e},totalCash(){let t=this.filterDebits.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},totalAP(){const t=this.filterDebits.filter(t=>{return"a/p"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalSalaries(){const t=this.filterDebits.filter(t=>{return"salaries"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalExpenses(){const t=this.filterDebits.filter(t=>{return"expenses"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalOthers(){const t=this.filterDebits.filter(t=>{return"others"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s}}},xn=Cn,kn=(a("bc82"),Object(u["a"])(xn,gn,_n,!1,null,"5d9a7d94",null)),yn=kn.exports;h()(kn,{VCol:Ie["a"],VRow:Ee["a"]});var wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.selectedBranch.branchName)+"\n      ")]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),t._m(0),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])]),a("hr")]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"1"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Date")])]),a("v-col",{attrs:{cols:"12",md:"1"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("TransId")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Description")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("A/P Credit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Inventory Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Office Supplies Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Others")])])],1),a("hr"),t._l(t.filterDebits,function(e){return a("div",{key:e.id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"1"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.date))])]),a("v-col",{attrs:{cols:"12",md:"1"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.trans_id))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.memo))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.debit))])]),a("v-col",{attrs:{cols:"12",md:"2"}},["inventory"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["office"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["others"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"1"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Total")])]),a("v-col",{attrs:{cols:"12",md:"1"}},[a("p",{staticClass:"caption font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalDebit))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalInventory))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalOffice))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalOthers))+"\n      ")])])],1)],2)},Dn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Purchases Journal")])])}],Tn={name:"PurchaseComponent",props:["formatFromDate","formatToDate","formatItems","selectedBranch"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(F["c"])(["auth"]),filterDebits(){const t=this.formatItems.filter(t=>{return null===t.credit||0===t.credit}),e=t.map(t=>{return t.account_id>=11510&&t.account_id<=11590?t.tags="inventory":73370===t.account_id?t.tags="office":t.tags="others",t});return e},totalDebit(){let t=this.filterDebits.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},totalInventory(){const t=this.filterDebits.filter(t=>{return"inventory"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalOffice(){const t=this.filterDebits.filter(t=>{return"office"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalOthers(){const t=this.filterDebits.filter(t=>{return"others"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s}}},Fn=Tn,Bn=Object(u["a"])(Fn,wn,Dn,!1,null,"6fc59df1",null),Vn=Bn.exports;h()(Bn,{VCol:Ie["a"],VRow:Ee["a"]});var Sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.selectedBranch.branchName)+"\n      ")]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),t._m(0),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])]),a("hr")]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Date")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("TransId")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Description")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("A/R Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Sales Credit")])])],1),a("hr"),t._l(t.filterDebits,function(e){return a("div",{key:e.id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.date))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.trans_id))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.memo))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.debit))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.debit))])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Total")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalDebit))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalDebit))+"\n      ")])])],1)],2)},An=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Sales Journal")])])}],jn={name:"SalesComponent",props:["formatFromDate","formatToDate","formatItems","selectedBranch"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(F["c"])(["auth"]),filterDebits(){const t=this.formatItems.filter(t=>{return null===t.credit||0==t.credit}),e=t.map(t=>{return t.account_id>=11510&&t.account_id<=11590?t.tags="inventory":73370===t.account_id?t.tags="office":t.tags="others",t});return e},totalDebit(){let t=this.filterDebits.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a}}},In=jn,En=Object(u["a"])(In,Sn,An,!1,null,"566e61df",null),On=En.exports;h()(En,{VCol:Ie["a"],VRow:Ee["a"]});var $n={name:"JournalReport",components:{GeneralJournalComponent:mn,CashReceiptComponent:bn,CashDisbursementComponent:yn,PurchaseComponent:Vn,SalesComponent:On},data(){return{selected:{id:1,name:"General Journal"},books:[],fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),headers:[{text:"Date",value:"date",width:"20%"},{text:"Memo",value:"memo",width:"30%"},{text:"AccountId",value:"Account.name",width:"20%"},{text:"Debit",value:"debit",width:"15%"},{text:"Credit",value:"credit",width:"15%"}],items:[],hidden:!0,loading:!1}},methods:{...Object(F["b"])("errors",["getError"]),async generate(){this.loading=!0;const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get(`/api/reports/journal/${this.auth.user.BranchId}/${this.selected.id}/${this.fromDate}/${this.toDate}`,t);this.items=a.data,this.loading=!1}catch(e){e.response.data&&this.getError(e.response.data),this.getError("Can't fetch journal"),this.loading=!1}this.hidden=!1},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"Journal.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:4,canvas:t},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}};on()().from(t).set(e).save()}},computed:{...Object(F["c"])(["auth"]),formatFromDate(){return he()(this.fromDate).format("MMMM DD")},formatToDate(){return he()(this.toDate).format("MMMM DD YYYY")},formatItems(){const t=this.items.map(t=>{return t.date=he()(t.date).format("MMM DD"),t});return t}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get("/api/books",t);this.books=a.data}catch(e){this.getError(e.response.data)}},watch:{selected(){null===this.selected&&""===this.selected||this.generate()}}},Mn=$n,Pn=(a("b2aa"),Object(u["a"])(Mn,en,an,!1,null,"aef8dd20",null)),Rn=Pn.exports;h()(Pn,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VDatePicker:ws["a"],VFlex:Bt["a"],VLayout:Vt["a"],VMenu:Q["a"],VProgressCircular:pt["a"],VRow:Ee["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Ln={name:"JournalReportPage",components:{JournalReport:Rn,RestrictedResource:Ht}},Nn=Ln,Yn=Object(u["a"])(Nn,Xr,tn,!1,null,"343b53e5",null),Gn=Yn.exports,zn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("LedgerReport")],1)},Un=[],qn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger-report"},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"From","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"text-center"},[!0===t.loading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1),!1===t.loading?a("div",{attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user?a("span",{staticClass:"headline text-center"},[t._v("DARBMUPCO")]):a("span",{staticClass:"headline text-center"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1 text-center"},[t._v("General Ledger")])]),a("p",[a("span",{staticClass:"subtitle-2 text-center"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])])]),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v("Account")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v("Debit")])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v("Credit")])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v("Balance")])])])],1),a("hr"),a("br"),a("CurrentAssets",{attrs:{currentAssets:t.currentAssets,balance:t.balanceCurrentAsset}}),a("NonCurrentAssets",{attrs:{nonCurrentAssets:t.nonCurrentAssets,balance:t.balanceNonCurrentAsset}}),a("CurrentLiabilities",{attrs:{currentLiabilities:t.currentLiabilities,balance:t.balanceCurrentLiabilities}}),a("NonCurrentLiabilities",{attrs:{nonCurrentLiabilities:t.nonCurrentLiabilities,balance:t.balanceNonCurrentLiabilities}}),a("Equity",{attrs:{equity:t.equity,balance:t.balanceEquity}}),a("Revenue",{attrs:{revenue:t.revenue,balance:t.balanceRevenue}}),a("CostOfGoodsSold",{attrs:{costOfGoods:t.costOfGoods,balance:t.balanceCostOfGoods}}),a("CostOfServices",{attrs:{costOfServices:t.costOfServices,balance:t.balanceCostOfServices}}),a("Expenses",{attrs:{expenses:t.expenses,balance:t.balanceExpenses}})],1)],1):t._e()],1)],1)],1)],1)},Jn=[],Wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.currentAssets,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Current Assets:")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.currentAssets.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},Hn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Current Assets")])])}],Zn={name:"CurrentAssetsLedger",props:["currentAssets","balance"]},Qn=Zn,Kn=(a("f0de"),Object(u["a"])(Qn,Wn,Hn,!1,null,"2583e615",null)),Xn=Kn.exports;h()(Kn,{VCol:Ie["a"],VRow:Ee["a"]});var ti=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.nonCurrentAssets,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Non-Current Assets: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.nonCurrentAssets.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},ei=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Non Current Assets")])])}],ai={name:"NonCurrentAssets",props:["nonCurrentAssets","balance"]},si=ai,oi=(a("1d10"),Object(u["a"])(si,ti,ei,!1,null,"01c4e734",null)),ri=oi.exports;h()(oi,{VCol:Ie["a"],VRow:Ee["a"]});var ni=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.currentLiabilities,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(e.balance)))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Current Liabilities: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.currentLiabilities.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(t.balance)))])])])],1),a("br")],2)},ii=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Current Liabilities")])])}],li={name:"CurrentLiabilities",props:["currentLiabilities","balance"],methods:{formatBalance(t){const e=-1*parseFloat(t);return parseFloat(e).toFixed(2)}}},ci=li,di=(a("852f"),Object(u["a"])(ci,ni,ii,!1,null,"7433789d",null)),mi=di.exports;h()(di,{VCol:Ie["a"],VRow:Ee["a"]});var ui=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.nonCurrentLiabilities,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(e.balance)))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Non Current Liabilities: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.nonCurrentLiabilities.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(t.balance)))])])])],1),a("br")],2)},pi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Non Current Liabilities")])])}],hi={name:"NonCurrentLiabilities",props:["nonCurrentLiabilities","balance"],methods:{formatBalance(t){const e=-1*parseFloat(t);return parseFloat(e).toFixed(2)}}},vi=hi,fi=(a("cf5c"),Object(u["a"])(vi,ui,pi,!1,null,"2e7df8c0",null)),bi=fi.exports;h()(fi,{VCol:Ie["a"],VRow:Ee["a"]});var gi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.equity,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(e.balance)))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Equity: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.equity.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(t.balance)))])])])],1),a("br")],2)},_i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Equity")])])}],Ci={name:"Equity",props:["equity","balance"],methods:{formatBalance(t){const e=-1*parseFloat(t);return parseFloat(e).toFixed(2)}}},xi=Ci,ki=(a("1afc"),Object(u["a"])(xi,gi,_i,!1,null,"695c7c38",null)),yi=ki.exports;h()(ki,{VCol:Ie["a"],VRow:Ee["a"]});var wi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.revenue,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(e.balance)))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Revenue: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.revenue.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(t.balance)))])])])],1),a("br")],2)},Di=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Revenue")])])}],Ti={name:"Revenue",props:["revenue","balance"],methods:{formatBalance(t){const e=-1*parseFloat(t);return parseFloat(e).toFixed(2)}}},Fi=Ti,Bi=(a("b700"),Object(u["a"])(Fi,wi,Di,!1,null,"22296abd",null)),Vi=Bi.exports;h()(Bi,{VCol:Ie["a"],VRow:Ee["a"]});var Si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.costOfGoods,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Cost of Goods Sold: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.costOfGoods.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},Ai=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Cost of Goods Sold")])])}],ji={name:"CostOfGoodsSold",props:["costOfGoods","balance"]},Ii=ji,Ei=(a("3082"),Object(u["a"])(Ii,Si,Ai,!1,null,"0ba4c440",null)),Oi=Ei.exports;h()(Ei,{VCol:Ie["a"],VRow:Ee["a"]});var $i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.costOfServices,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Cost of Services: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.costOfServices.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},Mi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Cost of Services")])])}],Pi={name:"CostOfServices",props:["costOfServices","balance"]},Ri=Pi,Li=(a("f789"),Object(u["a"])(Ri,$i,Mi,!1,null,"8b70b3a4",null)),Ni=Li.exports;h()(Li,{VCol:Ie["a"],VRow:Ee["a"]});var Yi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.expenses,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Expenses: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.expenses.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},Gi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Expenses")])])}],zi={name:"Expenses",props:["expenses","balance"]},Ui=zi,qi=(a("8fe2"),Object(u["a"])(Ui,Yi,Gi,!1,null,"754e9c31",null)),Ji=qi.exports;h()(qi,{VCol:Ie["a"],VRow:Ee["a"]});var Wi={name:"LedgerReport",components:{CurrentAssets:Xn,NonCurrentAssets:ri,CurrentLiabilities:mi,NonCurrentLiabilities:bi,Equity:yi,Revenue:Vi,CostOfGoodsSold:Oi,CostOfServices:Ni,Expenses:Ji},data(){return{fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),items:[],hidden:!0,loading:!1}},methods:{async generate(){this.loading=!0;const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get(`/api/reports/ledger/${this.auth.user.BranchId}/${this.fromDate}/${this.toDate}`,t);this.items=a.data,this.loading=!1}catch(e){this.getError(e.response.data),this.loading=!1}this.hidden=!1},pdf(){const t=document.getElementById("content"),e={margin:1,filename:"Ledger.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};on()().from(t).set(e).save()}},computed:{...Object(F["c"])(["auth"]),formatFromDate(){return he()(this.fromDate).format("MMMM DD")},formatToDate(){return he()(this.toDate).format("MMMM DD YYYY")},formatItems(){const t=this.items.map(t=>{return t.date=he()(t.date).format("MMM DD YYYY"),t});return t},currentAssets(){return this.items.filter(t=>{return 11e3===t.id})},nonCurrentAssets(){return this.items.filter(t=>{return 13e3===t.id})},currentLiabilities(){return this.items.filter(t=>{return 21e3===t.id})},nonCurrentLiabilities(){return this.items.filter(t=>{return 22e3===t.id})},equity(){return this.items.filter(t=>{return 30100===t.id})},revenue(){return this.items.filter(t=>{return 4e4===t.id})},costOfGoods(){return this.items.filter(t=>{return 5e4===t.id})},costOfServices(){return this.items.filter(t=>{return 6e4===t.id})},expenses(){return this.items.filter(t=>{return 7e4===t.id})},subsidy(){return this.items.filter(t=>{return 8e4===t.id})},balanceCurrentAsset(){let t=this.currentAssets.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceNonCurrentAsset(){let t=this.nonCurrentAssets.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceCurrentLiabilities(){let t=this.currentLiabilities.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceNonCurrentLiabilities(){let t=this.nonCurrentLiabilities.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceEquity(){let t=this.equity.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceRevenue(){let t=this.revenue.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceCostOfGoods(){let t=this.costOfGoods.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceCostOfServices(){let t=this.costOfServices.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceExpenses(){let t=this.expenses.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceSubsidy(){let t=this.subsidy.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)}}},Hi=Wi,Zi=(a("3907"),Object(u["a"])(Hi,qn,Jn,!1,null,"8f229acc",null)),Qi=Zi.exports;h()(Zi,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VDatePicker:ws["a"],VFlex:Bt["a"],VLayout:Vt["a"],VMenu:Q["a"],VProgressCircular:pt["a"],VRow:Ee["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Ki={name:"LedgerReportPage",components:{LedgerReport:Qi}},Xi=Ki,tl=Object(u["a"])(Xi,zn,Un,!1,null,"47af16d4",null),el=tl.exports,al=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TrialBalanceReport")],1)},sl=[],ol=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"From","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"text-center"},[!0===t.loading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1),!1===t.loading?a("div",{attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v(t._s(t.selectedBranch.branchName))]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Trial Balance")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])])]),a("hr"),a("div",{staticClass:"text-center"}),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"font-weight-medium small"},[t._v("Type")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"font-weight-medium small"},[t._v("Category")])]),a("v-col",{attrs:{cols:"12",md:"3 "}},[a("p",{staticClass:"font-weight-medium small"},[t._v("Account")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"font-weight-medium text-right small"},[t._v("Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"font-weight-medium text-right small"},[t._v("Credit")])])],1),a("hr"),t._l(t.filterNullItems,function(e){return a("div",{key:e.id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("span",{staticClass:"font-weight-medium x-small"},[t._v(t._s(e.type))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium x-small"},[t._v(t._s(e.subtype))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium x-small"},[t._v(t._s(e.account))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[e.balance>0?a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium x-small"},[t._v(t._s(t.formatBalance(e.balance)))])]):a("p",[a("span")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[e.balance<0?a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium x-small"},[t._v(t._s(t.formatBalance(e.balance)))])]):a("p",[a("span")])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("span",{staticClass:"font-weight-medium"},[t._v("TOTAL")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"2"}},[this.items.length<=0?a("p"):a("p",{staticClass:"underlined text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(this.formatBalance(this.totalDebit)))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[this.items.length<=0?a("p"):a("p",{staticClass:"underlined text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(this.formatBalance(this.totalCredit)))])])])],1)],2)],1)],1):t._e()],1)],1)],1)],1)},rl=[],nl={name:"TrialBalanceReport",data(){return{selectedBranch:{id:0,branchName:"DARBMUPCO"},fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),items:[],hidden:!0,branches:[],loading:!1}},methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"TrialBalance.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};on()().from(t).set(e).save()},async generate(){this.loading=!0;const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get(`/api/reports/trial-balance/${this.auth.user.BranchId}/${this.fromDate}/${this.toDate}`,t);this.items=a.data,this.loading=!1}catch(e){this.getError(e.response.data),this.loading=!1}this.hidden=!1}},computed:{...Object(F["c"])(["auth"]),formatFromDate(){return he()(this.fromDate).format("MMMM DD")},formatToDate(){return he()(this.toDate).format("MMMM DD YYYY")},filterNullItems(){return this.items.filter(t=>{return null!==t.balance})},filterDebit(){const t=this.items.filter(t=>{return t.balance>0}),e=t.map(t=>{return t.balance});return e},filterCredit(){const t=this.items.filter(t=>{return t.balance<0}),e=t.map(t=>{return t.balance});return e},totalDebit(){let t=this.filterDebit.map(t=>{let e=parseFloat(t);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},totalCredit(){let t=this.filterCredit.map(t=>{let e=parseFloat(t);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a}}},il=nl,ll=(a("bea2"),Object(u["a"])(il,ol,rl,!1,null,"d12fceae",null)),cl=ll.exports;h()(ll,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VDatePicker:ws["a"],VFlex:Bt["a"],VLayout:Vt["a"],VMenu:Q["a"],VProgressCircular:pt["a"],VRow:Ee["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var dl={name:"TrialBalanceReportPage",components:{TrialBalanceReport:cl}},ml=dl,ul=Object(u["a"])(ml,al,sl,!1,null,"35e00848",null),pl=ul.exports,hl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("IncomeStatementReport")],1)},vl=[],fl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"From","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"text-center"},[!0===t.loading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1),!1===t.loading?a("div",{attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user?a("span",{staticClass:"headline"},[t._v("DARBMUPCO")]):a("span",{staticClass:"headline"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Income Statement")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])])]),a("hr"),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Revenues")])]),a("IncomeComponent",{attrs:{accounts:t.filterItems(4e4),total:t.totalBalance(4e4),msg:t.totalMsg("Total Revenue")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Cost of Goods Sold")])]),a("ExpenseComponent",{attrs:{accounts:t.filterItems(5e4),total:t.totalBalance(5e4),msg:t.totalMsg("Total Cost of Goods Sold")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Cost of Services")])]),a("ExpenseComponent",{attrs:{accounts:t.filterItems(6e4),total:t.totalBalance(6e4),msg:t.totalMsg("Total Cost of Services")}}),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",{staticClass:"font-weight-medium"},[t._v("Gross Profit")])]),a("v-col",{attrs:{cols:"12",md:"3"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right font-weight-medium underlined"},[a("span",[t._v("₱"+t._s(t.grossProfit))])])])],1),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Operating Expenses")])]),a("ExpenseComponent",{attrs:{accounts:t.filterItems(7e4),total:t.totalBalance(7e4),msg:t.totalMsg("Less: Total Expenses")}}),a("hr"),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t.netProfit<0?a("span",{staticClass:"font-weight-bold red--text"},[t._v("Net Loss")]):a("span",{staticClass:"font-weight-bold"},[t._v("Net Income")])]),a("v-col",{attrs:{cols:"12",md:"3"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.netProfit<0?a("p",{staticClass:"text-right font-weight-bold red--text text--darken-2 underlined"},[a("span",[t._v("₱"+t._s(t.formatBalance(t.netProfit)))])]):a("p",{staticClass:"text-right font-weight-bold blue--text text--darken- underlined"},[a("span",[t._v("₱"+t._s(t.formatBalance(t.netProfit)))])])])],1)],1)],1)],1):t._e()],1)],1)],1)],1)},bl=[],gl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-12"},[t._l(t.subTypes,function(e,s){return a("div",{key:s},[a("span",[t._v(t._s(e))]),t._l(t.accounts,function(s){return a("div",{key:s.account_id},[a("v-row",{staticClass:"ml-10"},[s.subtype===e?a("v-col",{attrs:{cols:"12",md:"5"}},[t._v(t._s(s.account))]):t._e(),s.subtype===e?a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[t._v(t._s(t.formatBalance(s.balance)))])]):t._e()],1)],1)}),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total("+t._s(e)+")")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sum(e)))])])],1),a("hr")],2)}),a("v-row",[a("v-col",{attrs:{cols:"12",md:"7"}},[a("span",[t._v(t._s(t.msg))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right type-total"},[a("span",[t._v(t._s(t.formatBalance(t.total)))])])])],1)],2)},_l=[],Cl={name:"ExpenseComponent",props:["accounts","total","msg"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},sum(t){const e=this.accounts.filter(e=>{return e.subtype===t}),a=e.map(t=>{return parseFloat(t.balance)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)}},computed:{subTypes(){const t=this.accounts.map(t=>{const e=t.subtype;return e}),e=[...new Set(t)];return[...e]}}},xl=Cl,kl=(a("0509"),Object(u["a"])(xl,gl,_l,!1,null,"e6724184",null)),yl=kl.exports;h()(kl,{VCol:Ie["a"],VRow:Ee["a"]});var wl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-12"},[t._l(t.subTypes,function(e,s){return a("div",{key:s},[a("span",[t._v(t._s(e))]),t._l(t.accounts,function(s){return a("div",{key:s.account_id},[a("v-row",{staticClass:"ml-10"},[s.subtype===e?a("v-col",{attrs:{cols:"12",md:"5"}},[t._v(t._s(s.account))]):t._e(),s.subtype===e?a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[t._v(t._s(t.formatBalance(s.balance)))])]):t._e()],1)],1)}),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total("+t._s(e)+")")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sum(e)))])])],1),a("hr")],2)}),a("v-row",[a("v-col",{attrs:{cols:"12",md:"7"}},[a("span",[t._v(t._s(t.msg))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"type-total"},[t._v(t._s(t.formatBalance(t.total)))])])])],1)],2)},Dl=[],Tl={name:"IncomeComponent",props:["accounts","total","msg"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},sum(t){const e=this.accounts.filter(e=>{return e.subtype===t}),a=e.map(t=>{return parseFloat(t.balance)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a),r=-1*parseFloat(o);return parseFloat(r).toFixed(2)}},computed:{subTypes(){const t=this.accounts.map(t=>{const e=t.subtype;return e}),e=[...new Set(t)];return[...e]}}},Fl=Tl,Bl=(a("abf1"),Object(u["a"])(Fl,wl,Dl,!1,null,"797af9ca",null)),Vl=Bl.exports;h()(Bl,{VCol:Ie["a"],VRow:Ee["a"]});var Sl={name:"IncomeStatementReport",components:{ExpenseComponent:yl,IncomeComponent:Vl},data(){return{fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),items:[],hidden:!0,loading:!1}},methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},totalBalance(t){let e=this.items.filter(e=>{return e.id===t}),a=e.map(t=>{let e=parseFloat(t.balance);return e});const s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return o},totalMsg(t){return t},filterItems(t){const e=this.items.filter(e=>{return e.id===t});return e},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"IncomeStatement.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};on()().from(t).set(e).save()},async generate(){this.loading=!0;try{const e=await Ot.a.get(`/api/reports/income-statement/${this.auth.user.BranchId}/${this.fromDate}/${this.toDate}`);this.items=e.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}this.hidden=!1}},computed:{...Object(F["c"])(["auth"]),formatFromDate(){return he()(this.fromDate).format("MMMM DD")},formatToDate(){return he()(this.toDate).format("MMMM DD YYYY")},grossProfit(){const t=this.formatBalance(this.totalBalance(4e4,5e4)),e=this.formatBalance(this.totalBalance(5e4,6e4)),a=this.formatBalance(this.totalBalance(6e4,7e4)),s=parseFloat(t)-(parseFloat(e)+parseFloat(a));return parseFloat(s).toFixed(2)},netProfit(){const t=parseFloat(this.grossProfit)-parseFloat(this.formatBalance(this.totalBalance(7e4,8e4)));return parseFloat(t).toFixed(2)}}},Al=Sl,jl=(a("b7c3"),Object(u["a"])(Al,fl,bl,!1,null,"1e11bf3f",null)),Il=jl.exports;h()(jl,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VDatePicker:ws["a"],VFlex:Bt["a"],VLayout:Vt["a"],VMenu:Q["a"],VProgressCircular:pt["a"],VRow:Ee["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var El={name:"IncomeStatementPage",components:{IncomeStatementReport:Il}},Ol=El,$l=Object(u["a"])(Ol,hl,vl,!1,null,"781de370",null),Ml=$l.exports,Pl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("BalanceSheetReport")],1)},Rl=[],Ll=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Choose Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}}),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"text-center"},[!0===t.loading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1),!1===t.loading?a("div",{attrs:{hidden:t.hidden,id:"content"}},[a("v-card-text",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user?a("span",{staticClass:"headline"},[t._v("DARBMUPCO")]):a("span",{staticClass:"headline"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Statement of Financial Condition")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v("As of "+t._s(t.formatDate))])])])]),a("hr"),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Current Assets")])]),a("BalanceSheetComponent",{attrs:{accounts:t.filterItems(11e3),total:t.totalBalance(11e3),msg:t.totalMsg("Total Current Assets")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Non Current Assets")])]),a("BalanceSheetComponent",{attrs:{accounts:t.filterItems(13e3),total:t.totalBalance(13e3),msg:t.totalMsg("Total Non Current Assets")}}),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t.totalAssets<=0?a("div",[a("span",{staticClass:"font-weight-medium red--text text--darken-3"},[t._v("\n                    Total Assets\n                  ")])]):a("div",[a("span",{staticClass:"font-weight-medium blue--text text--darken-4"},[t._v("\n                    Total Assets\n                  ")])])]),a("v-col",{attrs:{cols:"12",md:"3"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.totalAssets<=0?a("div",[a("p",{staticClass:"text-right font-weight-medium underlined red--text text--darken-3"},[a("span",[t._v("₱"+t._s(t.totalAssets))])])]):a("div",[a("p",{staticClass:"text-right font-weight-medium underlined blue--text text--darken-3"},[a("span",[t._v("₱"+t._s(t.totalAssets))])])])])],1),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Current Liabilities")])]),a("LiabilityComponent",{attrs:{accounts:t.filterItems(21e3),total:t.totalBalance(21e3),msg:t.totalMsg("Total Current Liabilities")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Non Current Liabilities")])]),a("LiabilityComponent",{attrs:{accounts:t.filterItems(22e3),total:t.totalBalance(22e3),msg:t.totalMsg("Total Non Current Liabilities")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Equity")])]),a("EquityComponent",{attrs:{accounts:t.filterItems(30100),total:t.totalBalance(30100),msg:t.totalMsg("Total Equity"),netIncome:t.netProfit}}),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t.totalLiabilities<=0?a("div",[a("span",{staticClass:"font-weight-medium red--text text--darken-3"},[t._v("\n                    Total Liabilities and Equity\n                  ")])]):a("div",[a("span",{staticClass:"font-weight-medium blue--text text--darken-3"},[t._v("\n                    Total Liabilities and Equity\n                  ")])])]),a("v-col",{attrs:{cols:"12",md:"3"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.totalLiabilities<=0?a("div",[a("p",{staticClass:"text-right font-weight-medium red--text text--darken-3 underlined"},[a("span",[t._v("₱"+t._s(t.totalLiabilities))])])]):a("div",[a("p",{staticClass:"text-right font-weight-medium blue--text text--darken-3 underlined"},[a("span",[t._v("₱"+t._s(t.totalLiabilities))])])])])],1)],1)],1):t._e()],1)],1)],1)],1)},Nl=[],Yl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-12"},[t._l(t.subTypes,function(e,s){return a("div",{key:s},[a("span",[t._v(t._s(e))]),t._l(t.accounts,function(s){return a("div",{key:s.account_id},[a("v-row",{staticClass:"ml-10"},[s.subtype===e?a("v-col",{attrs:{cols:"12",md:"5"}},[t._v(t._s(s.account))]):t._e(),s.subtype===e?a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[t._v(t._s(t.formatBalance(s.balance)))])]):t._e()],1)],1)}),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total("+t._s(e)+")")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sum(e)))])])],1),a("hr")],2)}),a("v-row",[a("v-col",{attrs:{cols:"12",md:"7"}},[a("span",[t._v(t._s(t.msg))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right type-total"},[a("span",[t._v(t._s(t.formatBalance(t.total)))])])])],1)],2)},Gl=[],zl={name:"BalanceSheetComponent",props:["accounts","total","msg"],methods:{formatBalance(t){return parseFloat(t).toFixed(2)},sum(t){const e=this.accounts.filter(e=>{return e.subtype===t}),a=e.map(t=>{return parseFloat(t.balance)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)}},computed:{subTypes(){const t=this.accounts.map(t=>{const e=t.subtype;return e}),e=[...new Set(t)];return[...e]}}},Ul=zl,ql=(a("7d8e"),Object(u["a"])(Ul,Yl,Gl,!1,null,"4d67a3ab",null)),Jl=ql.exports;h()(ql,{VCol:Ie["a"],VRow:Ee["a"]});var Wl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-12"},[t._l(t.subTypes,function(e,s){return a("div",{key:s},[a("span",[t._v(t._s(e))]),t._l(t.accounts,function(s){return a("div",{key:s.account_id},[a("v-row",{staticClass:"ml-10"},[s.subtype===e?a("v-col",{attrs:{cols:"12",md:"5"}},[t._v(t._s(s.account))]):t._e(),s.subtype===e?a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[t._v(t._s(t.formatBalance(s.balance)))])]):t._e()],1)],1)}),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total("+t._s(e)+")")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sum(e)))])])],1),a("hr")],2)}),a("v-row",[a("v-col",{attrs:{cols:"12",md:"7"}},[a("span",[t._v(t._s(t.msg))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"type-total"},[t._v(t._s(t.formatBalance(t.total)))])])])],1)],2)},Hl=[],Zl={name:"LiabilityComponent",props:["accounts","total","msg"],methods:{formatBalance(t){return parseFloat(-1*t).toFixed(2)},sum(t){const e=this.accounts.filter(e=>{return e.subtype===t}),a=e.map(t=>{return parseFloat(t.balance)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a),r=-1*parseFloat(o);return parseFloat(r).toFixed(2)}},computed:{subTypes(){const t=this.accounts.map(t=>{const e=t.subtype;return e}),e=[...new Set(t)];return[...e]}}},Ql=Zl,Kl=(a("68fb"),Object(u["a"])(Ql,Wl,Hl,!1,null,"5d981118",null)),Xl=Kl.exports;h()(Kl,{VCol:Ie["a"],VRow:Ee["a"]});var tc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-12"},[t._l(t.subTypes,function(e,s){return a("div",{key:s},[a("span",[t._v(t._s(e))]),t._l(t.accounts,function(s){return a("div",{key:s.account_id},[a("v-row",{staticClass:"ml-10"},[s.subtype===e?a("v-col",{attrs:{cols:"12",md:"5"}},[t._v(t._s(s.account))]):t._e(),s.subtype===e?a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[t._v(t._s(t.formatBalance(s.balance)))])]):t._e()],1)],1)}),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total("+t._s(e)+")")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sum(e)))])])],1),a("hr")],2)}),a("v-row",{staticClass:"ml-10 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",[t._v("Add: Net Income")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[a("span",[t._v(t._s(t.netIncome))])])])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"7"}},[a("span",[t._v(t._s(t.msg))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"type-total"},[t._v(t._s(t.totalEquity))])])])],1)],2)},ec=[],ac={name:"EquityComponent",props:["accounts","total","msg","netIncome"],methods:{formatBalance(t){return parseFloat(-1*t).toFixed(2)},sum(t){const e=this.accounts.filter(e=>{return e.subtype===t}),a=e.map(t=>{return parseFloat(t.balance)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a),r=-1*parseFloat(o);return parseFloat(r).toFixed(2)}},computed:{subTypes(){const t=this.accounts.map(t=>{const e=t.subtype;return e}),e=[...new Set(t)];return[...e]},totalEquity(){const t=-1*parseFloat(this.total),e=parseFloat(t)+parseFloat(this.netIncome),a=parseFloat(e).toFixed(2);return a}}},sc=ac,oc=(a("762c"),Object(u["a"])(sc,tc,ec,!1,null,"490c7bea",null)),rc=oc.exports;h()(oc,{VCol:Ie["a"],VRow:Ee["a"]});var nc={name:"BalanceSheetReport",components:{BalanceSheetComponent:Jl,LiabilityComponent:Xl,EquityComponent:rc},data(){return{menu:!1,date:(new Date).toISOString().substr(0,10),items:[],profits:[],hidden:!0,loading:!1}},methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},totalBalance(t){let e=this.items.filter(e=>{return e.id===t}),a=e.map(t=>{let e=parseFloat(t.balance);return e});const s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},totalProfit(t){let e=this.profits.filter(e=>{return e.id===t}),a=e.map(t=>{let e=parseFloat(t.balance);return e});const s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},totalMsg(t){return t},filterItems(t){const e=this.items.filter(e=>{return e.id===t});return e},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"BalanceSheet.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};on()().from(t).set(e).save()},async generate(){this.loading=!0;try{const e=await Ot.a.get(`/api/reports/balance-sheet/${this.auth.user.BranchId}/${this.date}`),a=await Ot.a.get(`/api/reports/net-profit/${this.auth.user.BranchId}/${this.date}`);this.items=e.data,this.profits=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.getError(t.profit.data),this.loading=!1}this.hidden=!1}},computed:{...Object(F["c"])(["auth"]),formatDate(){return he()(this.date).format("MMMM DD YYYY")},totalAssets(){const t=parseFloat(this.totalBalance(11e3)),e=parseFloat(this.totalBalance(13e3));return parseFloat(t+e).toFixed(2)},totalLiabilities(){const t=-1*parseFloat(this.totalBalance(21e3)),e=-1*parseFloat(this.totalBalance(22e3)),a=-1*parseFloat(this.totalBalance(30100)),s=parseFloat(this.netProfit);return parseFloat(t+e+a+s).toFixed(2)},grossProfit(){const t=this.formatBalance(this.totalProfit(4e4)),e=this.formatBalance(this.totalProfit(5e4)),a=this.formatBalance(this.totalProfit(6e4)),s=parseFloat(t)-(parseFloat(e)+parseFloat(a));return parseFloat(s).toFixed(2)},netProfit(){const t=parseFloat(this.grossProfit)-parseFloat(this.formatBalance(this.totalProfit(7e4)));return parseFloat(t).toFixed(2)}}},ic=nc,lc=(a("81a0"),Object(u["a"])(ic,Ll,Nl,!1,null,"af752146",null)),cc=lc.exports;h()(lc,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VDatePicker:ws["a"],VFlex:Bt["a"],VLayout:Vt["a"],VMenu:Q["a"],VProgressCircular:pt["a"],VRow:Ee["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var dc={name:"BalanceSheetPage",components:{BalanceSheetReport:cc}},mc=dc,uc=Object(u["a"])(mc,Pl,Rl,!1,null,"4b2d2f8c",null),pc=uc.exports,hc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.$store.state.auth.isAuthenticated||"admin"!==t.$store.state.auth.user.account?a("div",[a("RestrictedResource")],1):a("div",[a("AdminJournalReport")],1)])},vc=[],fc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"journal-report",attrs:{id:"journal"}},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-menu",{ref:"fromMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"From","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.books,"item-text":"name",label:"Select Book","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",label:"Select Branch","return-object":""},model:{value:t.selectedBranch,callback:function(e){t.selectedBranch=e},expression:"selectedBranch"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"5"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"text-center"},[!0===t.loading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1),!1===t.loading?a("div",{staticClass:"mx-12",attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[null===t.selected||""===t.selected||1===t.selected.id?a("div",[a("GeneralJournalComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems,selectedBranch:t.selectedBranch}})],1):2===t.selected.id?a("div",[a("CashReceiptComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems,selectedBranch:t.selectedBranch}})],1):3===t.selected.id?a("div",[a("CashDisbursementComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems,selectedBranch:t.selectedBranch}})],1):4===t.selected.id?a("div",[a("PurchaseComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems,selectedBranch:t.selectedBranch}})],1):5===t.selected.id?a("div",[a("SalesComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems,selectedBranch:t.selectedBranch}})],1):t._e()])],1):t._e()],1)],1)],1)],1)},bc=[],gc={name:"AdminJournalReport",components:{GeneralJournalComponent:mn,CashReceiptComponent:bn,CashDisbursementComponent:yn,PurchaseComponent:Vn,SalesComponent:On},data(){return{selected:{id:1,name:"General Journal"},selectedBranch:{id:0,branchName:"DARBMUPCO-Common"},books:[],fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),headers:[{text:"Date",value:"date",width:"20%"},{text:"Memo",value:"memo",width:"30%"},{text:"AccountId",value:"Account.name",width:"20%"},{text:"Debit",value:"debit",width:"15%"},{text:"Credit",value:"credit",width:"15%"}],items:[],hidden:!0,branches:[],loading:!1}},methods:{...Object(F["b"])("errors",["getError"]),async generate(){this.loading=!0;const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get(`/api/reports/journal/${this.selectedBranch.id}/${this.selected.id}/${this.fromDate}/${this.toDate}`,t);this.items=a.data,this.loading=!1}catch(e){e.response.data&&this.getError(e.response.data),this.getError("Can't fetch journal"),this.loading=!1}this.hidden=!1},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"Journal.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:4,canvas:t},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}};on()().from(t).set(e).save()}},computed:{...Object(F["c"])(["auth"]),formatFromDate(){return he()(this.fromDate).format("MMMM DD")},formatToDate(){return he()(this.toDate).format("MMMM DD YYYY")},formatItems(){const t=this.items.map(t=>{return t.date=he()(t.date).format("MMM DD"),t});return t}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get("/api/books",t),s=await Ot.a.get("/api/admin/branches",t);this.books=a.data,this.branches=[{id:0,branchName:"DARBMUPCO-Common"},...s.data]}catch(e){this.getError(e.response.data)}},watch:{selected(){null===this.selected&&""===this.selected||this.generate()}}},_c=gc,Cc=(a("fc6c"),Object(u["a"])(_c,fc,bc,!1,null,"917d0222",null)),xc=Cc.exports;h()(Cc,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VDatePicker:ws["a"],VFlex:Bt["a"],VLayout:Vt["a"],VMenu:Q["a"],VProgressCircular:pt["a"],VRow:Ee["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var kc={name:"AdminJournal",components:{AdminJournalReport:xc,RestrictedResource:Ht}},yc=kc,wc=Object(u["a"])(yc,hc,vc,!1,null,"6de5e661",null),Dc=wc.exports,Tc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminLedgerReport")],1)},Fc=[],Bc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger-report"},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"From","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",label:"Select Branch","return-object":""},model:{value:t.selectedBranch,callback:function(e){t.selectedBranch=e},expression:"selectedBranch"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"text-center"},[!0===t.loading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1),!1===t.loading?a("div",{attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v(t._s(t.selectedBranch.branchName))]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("General Ledger")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])])]),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v("Account")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v("Debit")])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v("Credit")])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v("Balance")])])])],1),a("hr"),a("br"),a("CurrentAssets",{attrs:{currentAssets:t.currentAssets,balance:t.balanceCurrentAsset}}),a("NonCurrentAssets",{attrs:{nonCurrentAssets:t.nonCurrentAssets,balance:t.balanceNonCurrentAsset}}),a("CurrentLiabilities",{attrs:{currentLiabilities:t.currentLiabilities,balance:t.balanceCurrentLiabilities}}),a("NonCurrentLiabilities",{attrs:{nonCurrentLiabilities:t.nonCurrentLiabilities,balance:t.balanceNonCurrentLiabilities}}),a("Equity",{attrs:{equity:t.equity,balance:t.balanceEquity}}),a("Revenue",{attrs:{revenue:t.revenue,balance:t.balanceRevenue}}),a("CostOfGoodsSold",{attrs:{costOfGoods:t.costOfGoods,balance:t.balanceCostOfGoods}}),a("CostOfServices",{attrs:{costOfServices:t.costOfServices,balance:t.balanceCostOfServices}}),a("Expenses",{attrs:{expenses:t.expenses,balance:t.balanceExpenses}})],1)],1):t._e()],1)],1)],1)],1)},Vc=[],Sc={name:"AdminLedgerReport",components:{CurrentAssets:Xn,NonCurrentAssets:ri,CurrentLiabilities:mi,NonCurrentLiabilities:bi,Equity:yi,Revenue:Vi,CostOfGoodsSold:Oi,CostOfServices:Ni,Expenses:Ji},data(){return{selectedBranch:{id:0,branchName:"DARBMUPCO-Common"},fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),items:[],hidden:!0,branches:[],loading:!1}},methods:{...Object(F["b"])("errors",["getError"]),async generate(){this.loading=!0;const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get(`/api/reports/ledger/${this.selectedBranch.id}/${this.fromDate}/${this.toDate}`,t);this.items=a.data,this.loading=!1}catch(e){this.getError(e.response.data),this.loading=!1}this.hidden=!1},pdf(){const t=document.getElementById("content"),e={margin:1,filename:"Ledger.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};on()().from(t).set(e).save()}},computed:{...Object(F["c"])(["auth"]),formatFromDate(){return he()(this.fromDate).format("MMMM DD")},formatToDate(){return he()(this.toDate).format("MMMM DD YYYY")},formatItems(){const t=this.items.map(t=>{return t.date=he()(t.date).format("MMM DD YYYY"),t});return t},currentAssets(){return this.items.filter(t=>{return 11e3===t.id})},nonCurrentAssets(){return this.items.filter(t=>{return 13e3===t.id})},currentLiabilities(){return this.items.filter(t=>{return 21e3===t.id})},nonCurrentLiabilities(){return this.items.filter(t=>{return 22e3===t.id})},equity(){return this.items.filter(t=>{return 30100===t.id})},revenue(){return this.items.filter(t=>{return 4e4===t.id})},costOfGoods(){return this.items.filter(t=>{return 5e4===t.id})},costOfServices(){return this.items.filter(t=>{return 6e4===t.id})},expenses(){return this.items.filter(t=>{return 7e4===t.id})},subsidy(){return this.items.filter(t=>{return 8e4===t.id})},balanceCurrentAsset(){let t=this.currentAssets.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceNonCurrentAsset(){let t=this.nonCurrentAssets.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceCurrentLiabilities(){let t=this.currentLiabilities.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceNonCurrentLiabilities(){let t=this.nonCurrentLiabilities.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceEquity(){let t=this.equity.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceRevenue(){let t=this.revenue.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceCostOfGoods(){let t=this.costOfGoods.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceCostOfServices(){let t=this.costOfServices.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceExpenses(){let t=this.expenses.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceSubsidy(){let t=this.subsidy.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get("/api/admin/branches",t);this.branches=[{id:0,branchName:"DARBMUPCO-Common"},...a.data]}catch(e){this.getError(e.response.data)}}},Ac=Sc,jc=(a("ee34"),Object(u["a"])(Ac,Bc,Vc,!1,null,"0e48f670",null)),Ic=jc.exports;h()(jc,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VDatePicker:ws["a"],VFlex:Bt["a"],VLayout:Vt["a"],VMenu:Q["a"],VProgressCircular:pt["a"],VRow:Ee["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Ec={name:"AdminLedgerPage",components:{AdminLedgerReport:Ic}},Oc=Ec,$c=Object(u["a"])(Oc,Tc,Fc,!1,null,"3d6995aa",null),Mc=$c.exports,Pc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminTrialBalanceReport")],1)},Rc=[],Lc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"From","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",label:"Select Branch","return-object":""},model:{value:t.selectedBranch,callback:function(e){t.selectedBranch=e},expression:"selectedBranch"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"text-center"},[!0===t.loading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1),!1===t.loading?a("div",{attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v(t._s(t.selectedBranch.branchName))]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Trial Balance")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])])]),a("hr"),a("div",{staticClass:"text-center"}),a("v-row",{staticClass:"ml-4"},[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"font-weight-medium"},[t._v("Type")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"font-weight-medium"},[t._v("Category")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"font-weight-medium"},[t._v("Account")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"font-weight-medium text-right"},[t._v("Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"font-weight-medium text-right"},[t._v("Credit")])])],1),a("hr"),t._l(t.filterNullItems,function(e){return a("div",{key:e.id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.type))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.subtype))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.account))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[e.balance>0?a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(e.balance)))])]):a("p",[a("span")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[e.balance<0?a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(e.balance)))])]):a("p",[a("span")])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("span",{staticClass:"font-weight-medium"},[t._v("TOTAL")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"2"}},[this.items.length<=0?a("p"):a("p",{staticClass:"underlined text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(this.formatBalance(this.totalDebit)))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[this.items.length<=0?a("p"):a("p",{staticClass:"underlined text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(this.formatBalance(this.totalCredit)))])])])],1)],2)],1)],1):t._e()],1)],1)],1)],1)},Nc=[],Yc={name:"AdminTrialBalanceReport",data(){return{selectedBranch:{id:0,branchName:"DARBMUPCO-Common"},fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),items:[],hidden:!0,branches:[],loading:!1}},methods:{...Object(F["b"])("errors",["getError"]),formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"TrialBalance.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};on()().from(t).set(e).save()},async generate(){this.loading=!0;const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get(`/api/reports/trial-balance/${this.selectedBranch.id}/${this.fromDate}/${this.toDate}`,t);this.items=a.data,this.loading=!1}catch(e){this.getError(e.response.data),this.loading=!1}this.hidden=!1}},computed:{...Object(F["c"])(["auth"]),formatFromDate(){return he()(this.fromDate).format("MMMM DD")},formatToDate(){return he()(this.toDate).format("MMMM DD YYYY")},filterNullItems(){return this.items.filter(t=>{return null!==t.balance})},filterDebit(){const t=this.items.filter(t=>{return t.balance>0}),e=t.map(t=>{return t.balance});return e},filterCredit(){const t=this.items.filter(t=>{return t.balance<0}),e=t.map(t=>{return t.balance});return e},totalDebit(){let t=this.filterDebit.map(t=>{let e=parseFloat(t);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},totalCredit(){let t=this.filterCredit.map(t=>{let e=parseFloat(t);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get("/api/admin/branches",t);this.branches=[{id:0,branchName:"DARBMUPCO-Common"},...a.data]}catch(e){this.getError(e.response.data)}}},Gc=Yc,zc=(a("8800"),Object(u["a"])(Gc,Lc,Nc,!1,null,"7f6529a8",null)),Uc=zc.exports;h()(zc,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VDatePicker:ws["a"],VFlex:Bt["a"],VLayout:Vt["a"],VMenu:Q["a"],VProgressCircular:pt["a"],VRow:Ee["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var qc={name:"AdminTrialBalancePage",components:{AdminTrialBalanceReport:Uc}},Jc=qc,Wc=Object(u["a"])(Jc,Pc,Rc,!1,null,"3c08bfd7",null),Hc=Wc.exports,Zc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminBalanceSheetReport")],1)},Qc=[],Kc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Choose Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",label:"Select Branch","return-object":""},model:{value:t.selectedBranch,callback:function(e){t.selectedBranch=e},expression:"selectedBranch"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"text-center"},[!0===t.loading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1),!1===t.loading?a("div",{attrs:{hidden:t.hidden,id:"content"}},[a("v-card-text",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v(t._s(t.selectedBranch.branchName))]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Balance Sheet")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v("As of "+t._s(t.formatDate))])])])]),a("hr"),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Current Assets")])]),a("BalanceSheetComponent",{attrs:{accounts:t.filterItems(11e3),total:t.totalBalance(11e3),msg:t.totalMsg("Total Current Assets")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Non Current Assets")])]),a("BalanceSheetComponent",{attrs:{accounts:t.filterItems(13e3),total:t.totalBalance(13e3),msg:t.totalMsg("Total Non Current Assets")}}),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t.totalAssets<=0?a("div",[a("span",{staticClass:"font-weight-bold red--text text--darken-3"},[t._v("\n                    Total Assets\n                  ")])]):a("div",[a("span",{staticClass:"font-weight-bold blue--text text--darken-3"},[t._v("\n                    Total Assets\n                  ")])])]),a("v-col",{attrs:{cols:"12",md:"3"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.totalAssets<=0?a("div",[a("p",{staticClass:"text-right font-weight-bold underlined red--text text--darken-3"},[a("span",[t._v("₱"+t._s(t.totalAssets))])])]):a("div",[a("p",{staticClass:"text-right font-weight-bold underlined blue--text text--darken-3"},[a("span",[t._v("₱"+t._s(t.totalAssets))])])])])],1),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Current Liabilities")])]),a("LiabilityComponent",{attrs:{accounts:t.filterItems(21e3),total:t.totalBalance(21e3),msg:t.totalMsg("Total Current Liabilities")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Non Current Liabilities")])]),a("LiabilityComponent",{attrs:{accounts:t.filterItems(22e3),total:t.totalBalance(22e3),msg:t.totalMsg("Total Non Current Liabilities")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Equity")])]),a("EquityComponent",{attrs:{accounts:t.filterItems(30100),total:t.totalBalance(30100),msg:t.totalMsg("Total Equity"),netIncome:t.netProfit}}),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t.totalLiabilities<=0?a("div",[a("span",{staticClass:"font-weight-bold red--text text--darken-3"},[t._v("\n                    Total Liabilities and Equity\n                  ")])]):a("div",[a("span",{staticClass:"font-weight-bold blue--text text--darken-3"},[t._v("\n                    Total Liabilities and Equity\n                  ")])])]),a("v-col",{attrs:{cols:"12",md:"3"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.totalLiabilities<=0?a("div",[a("p",{staticClass:"text-right font-weight-bold red--text text--darken-3 underlined"},[a("span",[t._v("₱"+t._s(t.totalLiabilities))])])]):a("div",[a("p",{staticClass:"text-right font-weight-bold blue--text text--darken-3 underlined"},[a("span",[t._v("₱"+t._s(t.totalLiabilities))])])])])],1)],1)],1):t._e()],1)],1)],1)],1)},Xc=[],td={name:"AdminBalanceSheetReport",components:{BalanceSheetComponent:Jl,LiabilityComponent:Xl,EquityComponent:rc},data(){return{selectedBranch:{id:0,branchName:"DARBMUPCO-Common"},menu:!1,date:(new Date).toISOString().substr(0,10),items:[],profits:[],hidden:!0,branches:[],loading:!1}},methods:{...Object(F["b"])("errors",["getError"]),formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},totalBalance(t){let e=this.items.filter(e=>{return e.id===t}),a=e.map(t=>{let e=parseFloat(t.balance);return e});const s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},totalProfit(t){let e=this.profits.filter(e=>{return e.id===t}),a=e.map(t=>{let e=parseFloat(t.balance);return e});const s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},totalMsg(t){return t},filterItems(t){const e=this.items.filter(e=>{return e.id===t});return e},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"BalanceSheet.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};on()().from(t).set(e).save()},async generate(){this.loading=!0;try{const e=await Ot.a.get(`/api/reports/balance-sheet/${this.selectedBranch.id}/${this.date}`),a=await Ot.a.get(`/api/reports/net-profit/${this.selectedBranch.id}/${this.date}`);this.items=e.data,this.profits=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.getError(t.profit.data),this.loading=!1}this.hidden=!1}},computed:{...Object(F["c"])(["auth"]),formatDate(){return he()(this.date).format("MMMM DD YYYY")},totalAssets(){const t=parseFloat(this.totalBalance(11e3)),e=parseFloat(this.totalBalance(13e3));return parseFloat(t+e).toFixed(2)},totalLiabilities(){const t=-1*parseFloat(this.totalBalance(21e3)),e=-1*parseFloat(this.totalBalance(22e3)),a=-1*parseFloat(this.totalBalance(30100)),s=parseFloat(this.netProfit);return parseFloat(t+e+a+s).toFixed(2)},grossProfit(){const t=this.formatBalance(this.totalProfit(4e4)),e=this.formatBalance(this.totalProfit(5e4)),a=this.formatBalance(this.totalProfit(6e4)),s=parseFloat(t)-(parseFloat(e)+parseFloat(a));return parseFloat(s).toFixed(2)},netProfit(){const t=parseFloat(this.grossProfit)-parseFloat(this.formatBalance(this.totalProfit(7e4)));return parseFloat(t).toFixed(2)}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get("/api/admin/branches",t);this.branches=[{id:0,branchName:"DARBMUPCO-Common"},...a.data]}catch(e){this.getError(e.response.data)}}},ed=td,ad=(a("7bc4"),Object(u["a"])(ed,Kc,Xc,!1,null,"84168734",null)),sd=ad.exports;h()(ad,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VDatePicker:ws["a"],VFlex:Bt["a"],VLayout:Vt["a"],VMenu:Q["a"],VProgressCircular:pt["a"],VRow:Ee["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var od={name:"AdminBalanceSheetPage",components:{AdminBalanceSheetReport:sd}},rd=od,nd=Object(u["a"])(rd,Zc,Qc,!1,null,"1205fec3",null),id=nd.exports,ld=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminIncomeStatementReport")],1)},cd=[],dd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"From","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",label:"Select Branch","return-object":""},model:{value:t.selectedBranch,callback:function(e){t.selectedBranch=e},expression:"selectedBranch"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"text-center"},[!0===t.loading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1),!1===t.loading?a("div",{attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v(t._s(t.selectedBranch.branchName))]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Income Statement")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])])]),a("hr"),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Revenues")])]),a("IncomeComponent",{attrs:{accounts:t.filterItems(4e4),total:t.totalBalance(4e4),msg:t.totalMsg("Total Revenue")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Cost of Goods Sold")])]),a("ExpenseComponent",{attrs:{accounts:t.filterItems(5e4),total:t.totalBalance(5e4),msg:t.totalMsg("Total Cost of Goods Sold")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Cost of Services")])]),a("ExpenseComponent",{attrs:{accounts:t.filterItems(6e4),total:t.totalBalance(6e4),msg:t.totalMsg("Total Cost of Services")}}),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",{staticClass:"font-weight-bold"},[t._v("Gross Profit")])]),a("v-col",{attrs:{cols:"12",md:"3"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right font-weight-bold underlined"},[a("span",[t._v("₱"+t._s(t.grossProfit))])])])],1),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Operating Expenses")])]),a("ExpenseComponent",{attrs:{accounts:t.filterItems(7e4),total:t.totalBalance(7e4),msg:t.totalMsg("Less: Total Expenses")}}),a("hr"),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t.netProfit<0?a("span",{staticClass:"font-weight-bold red--text"},[t._v("Net Loss")]):a("span",{staticClass:"font-weight-bold"},[t._v("Net Income")])]),a("v-col",{attrs:{cols:"12",md:"3"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.netProfit<0?a("p",{staticClass:"text-right font-weight-bold red--text underlined"},[a("span",[t._v("₱"+t._s(t.formatBalance(t.netProfit)))])]):a("p",{staticClass:"text-right font-weight-bold blue--text underlined"},[a("span",[t._v("₱"+t._s(t.formatBalance(t.netProfit)))])])])],1)],1)],1)],1):t._e()],1)],1)],1)],1)},md=[],ud={name:"AdminIncomeStatementReport",components:{ExpenseComponent:yl,IncomeComponent:Vl},data(){return{selectedBranch:{id:0,branchName:"DARBMUPCO-Common"},fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),items:[],hidden:!0,branches:[],loading:!1}},methods:{...Object(F["b"])("errors",["getError"]),formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},totalBalance(t){let e=this.items.filter(e=>{return e.id===t}),a=e.map(t=>{let e=parseFloat(t.balance);return e});const s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return o},totalMsg(t){return t},filterItems(t){const e=this.items.filter(e=>{return e.id===t});return e},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"IncomeStatement.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};on()().from(t).set(e).save()},async generate(){this.loading=!0;try{const e=await Ot.a.get(`/api/reports/income-statement/${this.selectedBranch.id}/${this.fromDate}/${this.toDate}`);this.items=e.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}this.hidden=!1}},computed:{...Object(F["c"])(["auth"]),formatFromDate(){return he()(this.fromDate).format("MMMM DD")},formatToDate(){return he()(this.toDate).format("MMMM DD YYYY")},grossProfit(){const t=this.formatBalance(this.totalBalance(4e4,5e4)),e=this.formatBalance(this.totalBalance(5e4,6e4)),a=this.formatBalance(this.totalBalance(6e4,7e4)),s=parseFloat(t)-(parseFloat(e)+parseFloat(a));return parseFloat(s).toFixed(2)},netProfit(){const t=parseFloat(this.grossProfit)-parseFloat(this.formatBalance(this.totalBalance(7e4,8e4)));return parseFloat(t).toFixed(2)}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get("/api/admin/branches",t);this.branches=[{id:0,branchName:"DARBMUPCO-Common"},...a.data]}catch(e){this.getError(e.response.data)}}},pd=ud,hd=(a("7271"),Object(u["a"])(pd,dd,md,!1,null,"57753fd1",null)),vd=hd.exports;h()(hd,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VDatePicker:ws["a"],VFlex:Bt["a"],VLayout:Vt["a"],VMenu:Q["a"],VProgressCircular:pt["a"],VRow:Ee["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var fd={name:"AdminIncomeStatementPage",components:{AdminIncomeStatementReport:vd}},bd=fd,gd=Object(u["a"])(bd,ld,cd,!1,null,"2b9200fd",null),_d=gd.exports,Cd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminNotesReport")],1)},xd=[],kd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.years,"item-text":"date_part",label:"Select Year","return-object":""},model:{value:t.firstYear,callback:function(e){t.firstYear=e},expression:"firstYear"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.years,"item-text":"date_part",label:"Select Year","return-object":""},model:{value:t.secondYear,callback:function(e){t.secondYear=e},expression:"secondYear"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.type,"item-text":"date_part",label:"Select Report Type","return-object":""},model:{value:t.selectType,callback:function(e){t.selectType=e},expression:"selectType"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",label:"Select Branch","return-object":""},model:{value:t.selectedBranch,callback:function(e){t.selectedBranch=e},expression:"selectedBranch"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-container",{staticClass:"mt-0",attrs:{fluid:""}},["Summary"===t.selectType?a("v-radio-group",{attrs:{row:""},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("v-radio",{attrs:{label:"Balance Sheet",value:"Balance Sheet"}}),a("v-radio",{attrs:{label:"Income Statement",value:"Income Statement"}})],1):t._e()],1)],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"text-center"},[!0===t.loading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1),a("v-card-text",[!1===t.loading?a("div",{attrs:{hidden:t.hidden,id:"content"}},[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v(t._s(t.selectedBranch.branchName))]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Statement of Financial Condition")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v("As of December 31, "+t._s(t.firstYear.date_part)+" and "+t._s(t.secondYear.date_part))])])])]),a("hr"),"Note"===t.selectType?a("div",{staticClass:"mx-12"},[a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[t._v(t._s(t.bigYear))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[t._v(t._s(t.smallYear))])])],1)],1):t._e(),"Note"===t.selectType?a("div",[a("AssetsNotes",{attrs:{accounts:t.formatItems}})],1):a("div",["Balance Sheet"===t.radio?a("div",[a("BalanceSummary",{attrs:{accounts:t.formatItems,profits:t.formatProfits,bigYear:t.bigYear,smallYear:t.smallYear}})],1):"Income Statement"===t.radio?a("div",[a("IncomeSummary",{attrs:{accounts:t.formatItems,bigYear:t.bigYear,smallYear:t.smallYear}})],1):t._e()])],1):t._e()])],1)],1)],1)],1)},yd=[],wd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-12"},t._l(t.subTypes,function(e,s){return a("div",{key:s},[a("span",[t._v(t._s(s+1)+". "+t._s(e))]),t._l(t.accounts,function(s){return a("div",{key:s.account_id},[a("v-row",{staticClass:"ml-10"},[s.subtype===e?a("v-col",{attrs:{cols:"12",md:"5"}},[t._v(t._s(s.account))]):t._e(),s.subtype===e?a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[t._v(t._s(t.formatBalance(s.balance2)))])]):t._e(),s.subtype===e?a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[t._v(t._s(t.formatBalance(s.balance1)))])]):t._e()],1)],1)}),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total("+t._s(e)+")")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumSecondBalance(e)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumFirstBalance(e)))])])],1),a("hr")],2)}),0)},Dd=[],Td={name:"AssetsNotes",props:["accounts"],methods:{formatBalance(t){return parseFloat(t).toFixed(2)},sumSecondBalance(t){const e=this.accounts.filter(e=>{return e.subtype===t}),a=e.map(t=>{return parseFloat(t.balance2)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},sumFirstBalance(t){const e=this.accounts.filter(e=>{return e.subtype===t}),a=e.map(t=>{return parseFloat(t.balance1)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)}},computed:{subTypes(){const t=this.accounts.map(t=>{const e=t.subtype;return e}),e=[...new Set(t)];return[...e]}}},Fd=Td,Bd=Object(u["a"])(Fd,wd,Dd,!1,null,null,null),Vd=Bd.exports;h()(Bd,{VCol:Ie["a"],VRow:Ee["a"]});var Sd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mx-12"},[a("br"),a("p",{staticClass:"text-center sub-title font-weight-bold"},[t._v("ASSETS")]),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"1"}},[t._v("Notes")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.bigYear))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.smallYear))])])],1),a("p",{staticClass:"sub-title"},[t._v("Current Assets")]),t._l(t.filterCurrentAssets,function(e){return a("div",{key:e.number},[a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(t._s(e.name))]),a("v-col",{attrs:{cols:"12",md:"1"}},[t._v(t._s(e.number))]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumSecondBalance(e.name)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumFirstBalance(e.name)))])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeSecondBalance(11e3)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeFirstBalance(11e3)))])])],1),a("hr"),a("p",{staticClass:"sub-title"},[t._v("Non-Current Assets")]),t._l(t.filterNonCurrentAssets,function(e){return a("div",{key:e.number},[a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(t._s(e.name))]),a("v-col",{attrs:{cols:"12",md:"1"}},[t._v(t._s(e.number))]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumSecondBalance(e.name)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumFirstBalance(e.name)))])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeSecondBalance(13e3)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeFirstBalance(13e3)))])])],1),a("hr"),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("TOTAL ASSETS: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.totalAssetsSecond))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.totalAssetsFirst))])])],1),a("hr"),a("br"),a("p",{staticClass:"text-center sub-title font-weight-bold"},[t._v("LIABILITIES RESERVES AND MEMBERS EQUITY")]),a("p",{staticClass:"sub-title"},[t._v("Current Liabilities")]),t._l(t.filterCurrentLiabilities,function(e){return a("div",{key:e.number},[a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(t._s(e.name))]),a("v-col",{attrs:{cols:"12",md:"1"}},[t._v(t._s(e.number))]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumSecondBalance(e.name)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumFirstBalance(e.name)))])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeSecondBalance(21e3)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeFirstBalance(21e3)))])])],1),a("hr"),a("p",{staticClass:"sub-title"},[t._v("Non-Current Liabilities")]),t._l(t.filterNonCurrentLiabilities,function(e){return a("div",{key:e.number},[a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(t._s(e.name))]),a("v-col",{attrs:{cols:"12",md:"1"}},[t._v(t._s(e.number))]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumSecondBalance(e.name)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumFirstBalance(e.name)))])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeSecondBalance(22e3)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeFirstBalance(22e3)))])])],1),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("TOTAL LIABILITIES: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.totalLiabilitiesSecond))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.totalLiabilitiesFirst))])])],1),a("hr"),a("p",{staticClass:"sub-title"},[t._v("Member's Equity and Reserves")]),t._l(t.filterEquity,function(e){return a("div",{key:e.number},[a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(t._s(e.name))]),a("v-col",{attrs:{cols:"12",md:"1"}},[t._v(t._s(e.number))]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumSecondBalance(e.name)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumFirstBalance(e.name)))])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeSecondBalance(30100)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeFirstBalance(30100)))])])],1),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Reserves: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.netProfitSecond))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.netProfitFirst))])])],1),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("TOTAL EQUITY: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.totalEquitySecond))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.totalEquityFirst))])])],1),a("hr"),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("TOTAL LIABILITIES, EQUITY & RESERVES: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.totalLiabilitiesEquitySecond))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.totalLiabilitiesEquityFirst))])])],1),a("hr")],2)])},Ad=[],jd={name:"BalanceSummary",props:["accounts","profits","bigYear","smallYear"],methods:{formatBalance(t){return parseFloat(t).toFixed(2)},sumSecondBalance(t){const e=this.accounts.filter(e=>{return e.subtype===t}),a=e.map(t=>{return parseFloat(t.balance2)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},sumFirstBalance(t){const e=this.accounts.filter(e=>{return e.subtype===t}),a=e.map(t=>{return parseFloat(t.balance1)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},sumAccountTypeFirstBalance(t){const e=this.accounts.filter(e=>{return e.id===t}),a=e.map(t=>{return parseFloat(t.balance1)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},sumAccountTypeSecondBalance(t){const e=this.accounts.filter(e=>{return e.id===t}),a=e.map(t=>{return parseFloat(t.balance2)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},sumAccountTypeFirstProfit(t){const e=this.profits.filter(e=>{return e.id===t}),a=e.map(t=>{return parseFloat(t.balance1)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},sumAccountTypeSecondProfit(t){const e=this.profits.filter(e=>{return e.id===t}),a=e.map(t=>{return parseFloat(t.balance2)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)}},computed:{subTypes(){const t=this.accounts.map(t=>{const e={id:t.id,name:t.subtype};return e}),e=t.filter((t,e,a)=>e===a.findIndex(e=>e.id===t.id&&e.name===t.name));return e},subTypesWithIndex(){const t=this.subTypes.map((t,e)=>{const a={number:e+1,name:t.name,id:t.id};return a});return t},filterCurrentAssets(){const t=this.subTypesWithIndex.filter(t=>{return 11e3===t.id});return t},filterNonCurrentAssets(){const t=this.subTypesWithIndex.filter(t=>{return 13e3===t.id});return t},filterCurrentLiabilities(){const t=this.subTypesWithIndex.filter(t=>{return 21e3===t.id});return t},filterNonCurrentLiabilities(){const t=this.subTypesWithIndex.filter(t=>{return 22e3===t.id});return t},filterEquity(){const t=this.subTypesWithIndex.filter(t=>{return 30100===t.id});return t},totalAssetsFirst(){const t=parseFloat(this.sumAccountTypeFirstBalance(11e3))+parseFloat(this.sumAccountTypeFirstBalance(13e3));return parseFloat(t).toFixed(2)},totalAssetsSecond(){const t=parseFloat(this.sumAccountTypeSecondBalance(11e3))+parseFloat(this.sumAccountTypeSecondBalance(13e3));return parseFloat(t).toFixed(2)},totalLiabilitiesFirst(){const t=parseFloat(this.sumAccountTypeFirstBalance(21e3))+parseFloat(this.sumAccountTypeFirstBalance(22e3));return parseFloat(t).toFixed(2)},totalLiabilitiesSecond(){const t=parseFloat(this.sumAccountTypeSecondBalance(21e3))+parseFloat(this.sumAccountTypeSecondBalance(22e3));return parseFloat(t).toFixed(2)},totalEquityFirst(){const t=parseFloat(this.sumAccountTypeFirstBalance(30100))+parseFloat(this.netProfitFirst);return parseFloat(t).toFixed(2)},totalEquitySecond(){const t=parseFloat(this.sumAccountTypeSecondBalance(30100))+parseFloat(this.netProfitSecond);return parseFloat(t).toFixed(2)},totalLiabilitiesEquityFirst(){const t=parseFloat(this.totalEquityFirst)+parseFloat(this.totalLiabilitiesFirst);return parseFloat(t).toFixed(2)},totalLiabilitiesEquitySecond(){const t=parseFloat(this.totalEquitySecond)+parseFloat(this.totalLiabilitiesSecond);return parseFloat(t).toFixed(2)},netProfitFirst(){const t=parseFloat(this.sumAccountTypeFirstProfit(4e4))-(parseFloat(this.sumAccountTypeFirstProfit(5e4))+parseFloat(this.sumAccountTypeFirstProfit(6e4))),e=parseFloat(t)-parseFloat(this.sumAccountTypeFirstProfit(7e4));return parseFloat(e).toFixed(2)},netProfitSecond(){const t=parseFloat(this.sumAccountTypeSecondProfit(4e4))-(parseFloat(this.sumAccountTypeSecondProfit(5e4))+parseFloat(this.sumAccountTypeSecondProfit(6e4))),e=parseFloat(t)-parseFloat(this.sumAccountTypeSecondProfit(7e4));return parseFloat(e).toFixed(2)}}},Id=jd,Ed=Object(u["a"])(Id,Sd,Ad,!1,null,null,null),Od=Ed.exports;h()(Ed,{VCol:Ie["a"],VRow:Ee["a"]});var $d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mx-12"},[a("br"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"1"}},[t._v("Notes")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.bigYear))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.smallYear))])])],1),a("p",{staticClass:"sub-title"},[t._v("Revenues")]),t._l(t.filterRevenues,function(e){return a("div",{key:e.number},[a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(t._s(e.name))]),a("v-col",{attrs:{cols:"12",md:"1"}},[t._v(t._s(e.number))]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumSecondBalance(e.name)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumFirstBalance(e.name)))])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total Revenue: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeSecondBalance(4e4)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeFirstBalance(4e4)))])])],1),a("hr"),a("p",{staticClass:"sub-title"},[t._v("Cost of Goods Sold")]),t._l(t.filterCogs,function(e){return a("div",{key:e.number},[a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(t._s(e.name))]),a("v-col",{attrs:{cols:"12",md:"1"}},[t._v(t._s(e.number))]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumSecondBalance(e.name)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumFirstBalance(e.name)))])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeSecondBalance(5e4)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeFirstBalance(5e4)))])])],1),a("hr"),a("p",{staticClass:"sub-title"},[t._v("Cost of Services")]),t._l(t.filterCoServices,function(e){return a("div",{key:e.number},[a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(t._s(e.name))]),a("v-col",{attrs:{cols:"12",md:"1"}},[t._v(t._s(e.number))]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumSecondBalance(e.name)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumFirstBalance(e.name)))])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Total: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeSecondBalance(6e4)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeFirstBalance(6e4)))])])],1),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Less: Total Direct Cost ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.totalDirectCostSecond))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.totalDirectCostFirst))])])],1),a("hr"),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Gross Profit ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.grossProfitSecond))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.grossProfitFirst))])])],1),a("hr"),a("br"),a("p",{staticClass:"sub-title"},[t._v("Expenses")]),t._l(t.filterExpenses,function(e){return a("div",{key:e.number},[a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(t._s(e.name))]),a("v-col",{attrs:{cols:"12",md:"1"}},[t._v(t._s(e.number))]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumSecondBalance(e.name)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumFirstBalance(e.name)))])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Less: Total Expenses: ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeSecondBalance(7e4)))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.sumAccountTypeFirstBalance(7e4)))])])],1),a("hr"),a("hr"),a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t._v("Undistributed Net Surplus ")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.netProfitSecond))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right total"},[t._v(t._s(t.netProfitFirst))])])],1),a("hr")],2)])},Md=[],Pd={name:"IncomeSummary",props:["accounts","bigYear","smallYear"],methods:{formatBalance(t){return parseFloat(t).toFixed(2)},sumSecondBalance(t){const e=this.accounts.filter(e=>{return e.subtype===t}),a=e.map(t=>{return parseFloat(t.balance2)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},sumFirstBalance(t){const e=this.accounts.filter(e=>{return e.subtype===t}),a=e.map(t=>{return parseFloat(t.balance1)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},sumAccountTypeFirstBalance(t){const e=this.accounts.filter(e=>{return e.id===t}),a=e.map(t=>{return parseFloat(t.balance1)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)},sumAccountTypeSecondBalance(t){const e=this.accounts.filter(e=>{return e.id===t}),a=e.map(t=>{return parseFloat(t.balance2)}),s=t=>t.reduce((t,e)=>t+e,0),o=s(a);return parseFloat(o).toFixed(2)}},computed:{subTypes(){const t=this.accounts.map(t=>{const e={id:t.id,name:t.subtype};return e}),e=t.filter((t,e,a)=>e===a.findIndex(e=>e.id===t.id&&e.name===t.name));return e},subTypesWithIndex(){const t=this.subTypes.map((t,e)=>{const a={number:e+1,name:t.name,id:t.id};return a});return t},filterRevenues(){const t=this.subTypesWithIndex.filter(t=>{return 4e4===t.id});return t},filterCogs(){const t=this.subTypesWithIndex.filter(t=>{return 5e4===t.id});return t},filterCoServices(){const t=this.subTypesWithIndex.filter(t=>{return 6e4===t.id});return t},filterExpenses(){const t=this.subTypesWithIndex.filter(t=>{return 7e4===t.id});return t},totalDirectCostFirst(){const t=parseFloat(this.sumAccountTypeFirstBalance(5e4))+parseFloat(this.sumAccountTypeFirstBalance(6e4));return parseFloat(t).toFixed(2)},totalDirectCostSecond(){const t=parseFloat(this.sumAccountTypeSecondBalance(5e4))+parseFloat(this.sumAccountTypeSecondBalance(6e4));return parseFloat(t).toFixed(2)},grossProfitFirst(){const t=parseFloat(this.sumAccountTypeFirstBalance(4e4))-parseFloat(this.totalDirectCostFirst);return parseFloat(t).toFixed(2)},grossProfitSecond(){const t=parseFloat(this.sumAccountTypeSecondBalance(4e4))-parseFloat(this.totalDirectCostSecond);return parseFloat(t).toFixed(2)},netProfitFirst(){const t=parseFloat(this.grossProfitFirst)-parseFloat(this.sumAccountTypeFirstBalance(7e4));return parseFloat(t).toFixed(2)},netProfitSecond(){const t=parseFloat(this.grossProfitSecond)-parseFloat(this.sumAccountTypeSecondBalance(7e4));return parseFloat(t).toFixed(2)}}},Rd=Pd,Ld=Object(u["a"])(Rd,$d,Md,!1,null,null,null),Nd=Ld.exports;h()(Ld,{VCol:Ie["a"],VRow:Ee["a"]});var Yd={name:"AdminNotesReport",components:{AssetsNotes:Vd,BalanceSummary:Od,IncomeSummary:Nd},data(){return{loading:!1,hidden:!0,years:[],firstYear:{date_part:2019},secondYear:{date_part:2019},items:[],profits:[],type:["Summary","Note"],selectType:"Summary",radio:"Balance Sheet",branches:[],selectedBranch:{id:0,branchName:"DARBMUPCO-Common"}}},methods:{...Object(F["b"])("errors",["getError"]),async generate(){try{this.loading=!0;const e=await Ot.a.get(`/api/reports/notes/${this.selectedBranch.id}/${this.firstYear.date_part}/${this.secondYear.date_part}`),a=await Ot.a.get(`/api/reports/summary/net-profit/${this.selectedBranch.id}/${this.firstYear.date_part}/${this.secondYear.date_part}`);this.items=e.data,this.profits=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}this.hidden=!1},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"BalanceSheet.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};on()().from(t).set(e).save()},filterItems(t){const e=this.items.filter(e=>{return e.id===t});return e}},computed:{...Object(F["c"])(["auth"]),formatItems(){const t=this.items.map(t=>{return 11e3===t.id||13e3===t.id||5e4===t.id||6e4===t.id||7e4===t.id?(t.balance1=parseFloat(t.balance1),t.balance2=parseFloat(t.balance2)):(t.balance1=-1*parseFloat(t.balance1),t.balance2=-1*parseFloat(t.balance2)),t});return t},formatProfits(){const t=this.profits.map(t=>{return 11e3===t.id||13e3===t.id||5e4===t.id||6e4===t.id||7e4===t.id?(t.balance1=parseFloat(t.balance1),t.balance2=parseFloat(t.balance2)):(t.balance1=-1*parseFloat(t.balance1),t.balance2=-1*parseFloat(t.balance2)),t});return t},bigYear(){return this.firstYear.date_part>this.secondYear.date_part?this.firstYear.date_part:this.secondYear.date_part},smallYear(){return this.firstYear.date_part<this.secondYear.date_part?this.firstYear.date_part:this.secondYear.date_part}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get("/api/transactions/admin-years"),s=await Ot.a.get("/api/admin/branches",t);this.years=a.data,this.branches=[{id:0,branchName:"DARBMUPCO-Common"},...s.data]}catch(e){this.getError(e.response.data)}}},Gd=Yd,zd=(a("3541"),a("67b6")),Ud=a("43a6"),qd=Object(u["a"])(Gd,kd,yd,!1,null,"e1d9f586",null),Jd=qd.exports;h()(qd,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VContainer:Ft["a"],VFlex:Bt["a"],VLayout:Vt["a"],VProgressCircular:pt["a"],VRadio:zd["a"],VRadioGroup:Ud["a"],VRow:Ee["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Wd={name:"AdminNotesPage",components:{AdminNotesReport:Jd}},Hd=Wd,Zd=Object(u["a"])(Hd,Cd,xd,!1,null,null,null),Qd=Zd.exports,Kd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NotesReport")],1)},Xd=[],tm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.years,"item-text":"date_part",label:"Select Year","return-object":""},model:{value:t.firstYear,callback:function(e){t.firstYear=e},expression:"firstYear"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.years,"item-text":"date_part",label:"Select Year","return-object":""},model:{value:t.secondYear,callback:function(e){t.secondYear=e},expression:"secondYear"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.type,"item-text":"date_part",label:"Select Report Type","return-object":""},model:{value:t.selectType,callback:function(e){t.selectType=e},expression:"selectType"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-container",{staticClass:"mt-0",attrs:{fluid:""}},["Summary"===t.selectType?a("v-radio-group",{attrs:{row:""},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("v-radio",{attrs:{label:"Balance Sheet",value:"Balance Sheet"}}),a("v-radio",{attrs:{label:"Income Statement",value:"Income Statement"}})],1):t._e()],1)],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"text-center"},[!0===t.loading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1),a("v-card-text",[!1===t.loading?a("div",{attrs:{hidden:t.hidden,id:"content"}},[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v(t._s(t.selectedBranch.branchName))]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Statement of Financial Condition")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v("As of December 31, "+t._s(t.firstYear.date_part)+" and "+t._s(t.secondYear.date_part))])])])]),a("hr"),"Note"===t.selectType?a("div",{staticClass:"mx-12"},[a("v-row",{staticClass:"ml-10"},[a("v-col",{attrs:{cols:"12",md:"5"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[t._v(t._s(t.bigYear))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[t._v(t._s(t.smallYear))])])],1)],1):t._e(),"Note"===t.selectType?a("div",[a("AssetsNotes",{attrs:{accounts:t.formatItems}})],1):a("div",["Balance Sheet"===t.radio?a("div",[a("BalanceSummary",{attrs:{accounts:t.formatItems,profits:t.formatProfits,bigYear:t.bigYear,smallYear:t.smallYear}})],1):"Income Statement"===t.radio?a("div",[a("IncomeSummary",{attrs:{accounts:t.formatItems,bigYear:t.bigYear,smallYear:t.smallYear}})],1):t._e()])],1):t._e()])],1)],1)],1)],1)},em=[],am={name:"NotesReport",components:{AssetsNotes:Vd,BalanceSummary:Od,IncomeSummary:Nd},data(){return{loading:!1,hidden:!0,years:[],firstYear:{date_part:2019},secondYear:{date_part:2019},items:[],profits:[],type:["Summary","Note"],selectType:"Summary",radio:"Balance Sheet"}},methods:{...Object(F["b"])("errors",["getError"]),async generate(){try{this.loading=!0;const e=await Ot.a.get(`/api/reports/notes/${this.auth.user.BranchId}/${this.firstYear.date_part}/${this.secondYear.date_part}`),a=await Ot.a.get(`/api/reports/summary/net-profit/${this.auth.user.BranchId}/${this.firstYear.date_part}/${this.secondYear.date_part}`);this.items=e.data,this.profits=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}this.hidden=!1},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"BalanceSheet.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};on()().from(t).set(e).save()},filterItems(t){const e=this.items.filter(e=>{return e.id===t});return e}},computed:{...Object(F["c"])(["auth"]),formatItems(){const t=this.items.map(t=>{return 11e3===t.id||13e3===t.id||5e4===t.id||6e4===t.id||7e4===t.id?(t.balance1=parseFloat(t.balance1),t.balance2=parseFloat(t.balance2)):(t.balance1=-1*parseFloat(t.balance1),t.balance2=-1*parseFloat(t.balance2)),t});return t},formatProfits(){const t=this.profits.map(t=>{return 11e3===t.id||13e3===t.id||5e4===t.id||6e4===t.id||7e4===t.id?(t.balance1=parseFloat(t.balance1),t.balance2=parseFloat(t.balance2)):(t.balance1=-1*parseFloat(t.balance1),t.balance2=-1*parseFloat(t.balance2)),t});return t},bigYear(){return this.firstYear.date_part>this.secondYear.date_part?this.firstYear.date_part:this.secondYear.date_part},smallYear(){return this.firstYear.date_part<this.secondYear.date_part?this.firstYear.date_part:this.secondYear.date_part}},async mounted(){try{const e=await Ot.a.get("/api/transactions/admin-years");this.years=e.data}catch(t){this.getError(t.response.data)}}},sm=am,om=(a("5e39"),Object(u["a"])(sm,tm,em,!1,null,"19183fef",null)),rm=om.exports;h()(om,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VContainer:Ft["a"],VFlex:Bt["a"],VLayout:Vt["a"],VProgressCircular:pt["a"],VRadio:zd["a"],VRadioGroup:Ud["a"],VRow:Ee["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var nm={name:"NotesPage",components:{NotesReport:rm}},im=nm,lm=Object(u["a"])(im,Kd,Xd,!1,null,null,null),cm=lm.exports,dm=[{path:"/bookkeeper/reports/journal",name:"reports-journal",component:Gn,meta:{title:"Journal"}},{path:"/bookkeeper/reports/ledger",name:"reports-ledger",component:el,meta:{title:"Ledger"}},{path:"/bookkeeper/reports/trial-balance",name:"reports-trialBalance",component:pl,meta:{title:"Trial Balance"}},{path:"/bookkeeper/reports/income-statement",name:"reports-incomeStatement",component:Ml,meta:{title:"Income Statement"}},{path:"/bookkeeper/reports/balance-sheet",name:"reports-balanceSheet",component:pc,meta:{title:"Balance Sheet"}},{path:"/bookkeeper/reports/summary",name:"reports-notes-bookkeeper",component:cm,meta:{title:"Summary Report"}},{path:"/admin/reports/journal",name:"reports-journal-admin",component:Dc,meta:{title:"Journal"}},{path:"/admin/reports/ledger",name:"reports-ledger-admin",component:Mc,meta:{title:"Ledger"}},{path:"/admin/reports/trial-balance",name:"reports-trialBalance-admin",component:Hc,meta:{title:"Trial Balance"}},{path:"/admin/reports/balance-sheet",name:"reports-balanceSheet-admin",component:id,meta:{title:"Balance Sheet"}},{path:"/admin/reports/income-statement",name:"reports-incomeStatement-admin",component:_d,meta:{title:"Income Statement"}},{path:"/admin/reports/summary",name:"reports-notes-admin",component:Qd,meta:{title:"Summary Report"}}],mm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("BookkeeperAdmin")],1)},um=[],pm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mr-2",attrs:{depressed:"",dark:"",color:"primary"}},s),[t._v("Add Account")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Bookkeeper")])]),a("v-card-text",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Username"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{label:"First name"},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}}),a("v-text-field",{attrs:{label:"Last name"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}}),a("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",value:"branchId",label:"Select Branch"},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)],1)],1),a("v-card-text",[a("v-dialog",{attrs:{width:"500"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Delete")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to delete?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.deleteDialog=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("Delete")])],1)],1)],1),a("v-data-table",{attrs:{headers:t.headers,items:t.items,loading:t.loading},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{dark:"",small:"",color:"red"},on:{click:function(e){return t.prepareDelete(s)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)]}}])})],1)],1)],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.msg)+"\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("Close")])],1)],1)],1)},hm=[],vm={name:"BookkeeperAdmin",data(){return{firstName:"",lastName:"",name:"",password:"",branchId:"",select:"",dialog:!1,deleteDialog:!1,snackbar:!1,timeout:2e3,saved:1,loading:!1,msg:"",items:[],branches:[],headers:[{text:"ID",value:"id"},{text:"Username",value:"name"},{text:"Branch",value:"branch"},{text:"Actions",align:"center",value:"action",sortable:!1}],userToDelete:""}},methods:{...Object(F["b"])("errors",["getError"]),async save(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}},e=JSON.stringify({userName:this.name,firstName:this.firstName,lastName:this.lastName,password:this.password,account:"bookkeeper",BranchId:this.select.id});try{const s=await Ot.a.post("/api/bookkeepers",e,t),o=s.data;o||this.getError("Failed"),this.msg="Saved!",this.saved++,this.snackbar=!0,this.dialog=!1}catch(a){this.getError(a.response.data)}},prepareDelete(t){this.userToDelete=t,this.deleteDialog=!0},async deleteItem(){const t=this.items.indexOf(this.userToDelete),e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const s=await Ot.a.put(`/api/bookkeepers/${this.userToDelete.id}`,e);this.items.splice(t,1),this.deleteDialog=!1,this.msg=s.data.msg,this.snackbar=!0}catch(a){this.getError(a.response.data)}},closeSnackBar(){this.snackbar=!1,this.clear()},clear(){this.name="",this.password="",this.select="",this.msg=""}},async mounted(){this.loading=!0;const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Ot.a.get("/api/bookkeepers/all-bookkeepers",t),s=await Ot.a.get("/api/admin/branches",t);this.loading=!1,this.branches=s.data,this.items=a.data}catch(e){this.loading=!1,this.getError(e.response.data)}},watch:{async saved(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Ot.a.get("/api/bookkeepers/all-bookkeepers",t);this.loading=!1,this.items=a.data}catch(e){this.loading=!1,this.getError(e.response.data)}}}},fm=vm,bm=Object(u["a"])(fm,pm,hm,!1,null,"83b0ecf2",null),gm=bm.exports;h()(bm,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VCombobox:Ya["a"],VDataTable:Ga["a"],VDialog:W["a"],VFlex:Bt["a"],VIcon:H["a"],VLayout:Vt["a"],VRow:Ee["a"],VSnackbar:N["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var _m={name:"BookkeepersAdmin",components:{BookkeeperAdmin:gm}},Cm=_m,xm=Object(u["a"])(Cm,mm,um,!1,null,"6a9bcc4c",null),km=xm.exports,ym=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("BookkeeperProfileComponent")],1)},wm=[],Dm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md8:"","offset-md2":""}},[a("v-card",{attrs:{outlined:"",elevation:"5"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{"max-width":"500",persistent:""},model:{value:t.passwordDialog,callback:function(e){t.passwordDialog=e},expression:"passwordDialog"}},[a("v-card",[a("v-card-title",[t._v("Change Password")]),a("v-card-text",[a("v-text-field",{attrs:{"append-icon":t.showCurrentPassword?"visibility":"visibility_off",type:t.showCurrentPassword?"text":"password",label:"Current Password"},on:{"click:append":function(e){t.showCurrentPassword=!t.showCurrentPassword}},model:{value:t.$v.currentPassword.$model,callback:function(e){t.$set(t.$v.currentPassword,"$model",e)},expression:"$v.currentPassword.$model"}}),a("v-text-field",{attrs:{error:!t.$v.newPassword.minLength,"append-icon":t.showNewPassword?"visibility":"visibility_off",type:t.showNewPassword?"text":"password",label:"New Password"},on:{"click:append":function(e){t.showNewPassword=!t.showNewPassword}},model:{value:t.$v.newPassword.$model,callback:function(e){t.$set(t.$v.newPassword,"$model",e)},expression:"$v.newPassword.$model"}}),t.$v.newPassword.minLength?t._e():a("p",{staticClass:"error--text"},[t._v("\n                    password must be at least "+t._s(t.$v.newPassword.$params.minLength.min)+" letters\n                  ")]),a("v-text-field",{attrs:{error:t.retypePassword.length>0&&!t.$v.retypePassword.sameAsPassword,"append-icon":t.showRetypePassword?"visibility":"visibility_off",type:t.showRetypePassword?"text":"password",label:"Confirm Password"},on:{"click:append":function(e){t.showRetypePassword=!t.showRetypePassword}},model:{value:t.$v.retypePassword.$model,callback:function(e){t.$set(t.$v.retypePassword,"$model",e)},expression:"$v.retypePassword.$model"}}),t.retypePassword.length>0&&!t.$v.retypePassword.sameAsPassword?a("p",{staticClass:"error--text"},[t._v("\n                    password must be the same\n                  ")]):t._e()],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.passwordDialog=!1}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.changePassword}},[t._v("Save")])],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-btn",{attrs:{small:"",text:"",color:"primary"}},[t._v("\n                Edit Account\n              ")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("p",[t._v("ID: "+t._s(t.bookkeeper.id))]),a("p",[t._v("Username: "+t._s(t.bookkeeper.userName))]),a("p",[t._v("Fullname: "+t._s(t.bookkeeper.firstName)+" "+t._s(t.bookkeeper.lastName))]),a("p",[t._v("Branch: "+t._s(t.bookkeeper.branchName))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-btn",{attrs:{small:"",text:"",color:"primary"},on:{click:function(e){t.passwordDialog=!0}}},[t._v("\n                Change Password\n              ")])],1)],1)],1)],1)],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.changePasswordMessage)+"\n    ")])],1)],1)},Tm=[],Fm={name:"BookkeeperProfileComponent",data(){return{bookkeeper:"",passwordDialog:!1,currentPassword:"",newPassword:"",retypePassword:"",changePasswordMessage:"",snackbar:!1,timeout:2e3,showCurrentPassword:!1,showNewPassword:!1,showRetypePassword:!1}},methods:{...Object(F["b"])("errors",["getError"]),clearDialog(){this.currentPassword="",this.newPassword="",this.retypePassword=""},async changePassword(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}},e=JSON.stringify({currentPassword:this.currentPassword,newPassword:this.newPassword,retypePassword:this.retypePassword});try{const s=await Ot.a.post(`/api/bookkeepers/change-password/${this.auth.user.id}`,e,t);this.passwordDialog=!1,this.changePasswordMessage=s.data.msg,this.snackbar=!0,this.clearDialog()}catch(a){this.passwordDialog=!1,this.getError(a.response.data)}}},computed:{...Object(F["c"])(["auth"])},async mounted(){try{const e=await Ot.a.get(`/api/bookkeepers/profile/${this.auth.user.id}`);this.bookkeeper=e.data[0]}catch(t){this.getError(t.response.data)}},validations:{currentPassword:{required:bs["required"]},newPassword:{required:bs["required"],minLength:Object(bs["minLength"])(5)},retypePassword:{sameAsPassword:Object(bs["sameAs"])("newPassword")}}},Bm=Fm,Vm=Object(u["a"])(Bm,Dm,Tm,!1,null,null,null),Sm=Vm.exports;h()(Vm,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Ie["a"],VDialog:W["a"],VFlex:Bt["a"],VLayout:Vt["a"],VRow:Ee["a"],VSnackbar:N["a"],VTextField:C["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Am={name:"BookkeeperProfile",components:{BookkeeperProfileComponent:Sm}},jm=Am,Im=Object(u["a"])(jm,ym,wm,!1,null,null,null),Em=Im.exports,Om=[{path:"/admin/bookkeepers",name:"admin-bookkeepers",component:km,meta:{title:"Bookkeepers"}},{path:"/bookkeeper/profile",name:"bookkeeper-profile",component:Em,meta:{title:"Bookkeeper Profile"}}];s["a"].use(it["a"]);var $m=new it["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",beforeEnter(t,e,a){Nt.getters["auth/isLogged"]?a("/bookkeeper/dashboard"):a()},component:vt},{path:"/admin",name:"homeAdmin",beforeEnter(t,e,a){Nt.getters["auth/isLogged"]?a("/bookkeeper/dashboard"):a()},component:xt},...Oa,...ss,...Kr,...dm,...Om,{path:"*",name:"notFound",component:At,meta:{title:"Page Not Found"}}]}),Mm=a("f309");s["a"].use(Mm["a"]);var Pm=new Mm["a"]({icons:{iconfont:"mdi"}}),Rm=a("1dce"),Lm=a.n(Rm);s["a"].config.productionTip=!1,s["a"].use(Lm.a),new s["a"]({router:$m,store:Nt,vuetify:Pm,render:t=>t(nt)}).$mount("#app")},5825:function(t,e,a){},"5bb1":function(t,e,a){},"5e39":function(t,e,a){"use strict";var s=a("6636"),o=a.n(s);o.a},6332:function(t,e,a){"use strict";var s=a("6793"),o=a.n(s);o.a},"636a":function(t,e,a){},6636:function(t,e,a){},6793:function(t,e,a){},"68fb":function(t,e,a){"use strict";var s=a("8084"),o=a.n(s);o.a},7271:function(t,e,a){"use strict";var s=a("4f11"),o=a.n(s);o.a},"762c":function(t,e,a){"use strict";var s=a("f3c7"),o=a.n(s);o.a},"7bc4":function(t,e,a){"use strict";var s=a("debe"),o=a.n(s);o.a},"7d8e":function(t,e,a){"use strict";var s=a("417f"),o=a.n(s);o.a},8084:function(t,e,a){},"81a0":function(t,e,a){"use strict";var s=a("e248"),o=a.n(s);o.a},"81fa":function(t,e,a){},"82d8":function(t,e,a){},"852f":function(t,e,a){"use strict";var s=a("cb4f"),o=a.n(s);o.a},8750:function(t,e,a){"use strict";var s=a("20c9"),o=a.n(s);o.a},8800:function(t,e,a){"use strict";var s=a("3e85"),o=a.n(s);o.a},"8fe2":function(t,e,a){"use strict";var s=a("5bb1"),o=a.n(s);o.a},"90ad":function(t,e,a){},a572:function(t,e,a){"use strict";var s=a("afe0"),o=a.n(s);o.a},aa01:function(t,e,a){},ab6b:function(t,e,a){},abf1:function(t,e,a){"use strict";var s=a("08d9"),o=a.n(s);o.a},afe0:function(t,e,a){},b002:function(t,e,a){"use strict";var s=a("ab6b"),o=a.n(s);o.a},b299:function(t,e,a){},b2aa:function(t,e,a){"use strict";var s=a("81fa"),o=a.n(s);o.a},b658:function(t,e,a){},b700:function(t,e,a){"use strict";var s=a("5825"),o=a.n(s);o.a},b7c3:function(t,e,a){"use strict";var s=a("245a"),o=a.n(s);o.a},bae3:function(t,e,a){"use strict";var s=a("0813"),o=a.n(s);o.a},bc82:function(t,e,a){"use strict";var s=a("b658"),o=a.n(s);o.a},bea2:function(t,e,a){"use strict";var s=a("1818"),o=a.n(s);o.a},cb4f:function(t,e,a){},cf5c:function(t,e,a){"use strict";var s=a("2c48"),o=a.n(s);o.a},cfa1:function(t,e,a){"use strict";var s=a("82d8"),o=a.n(s);o.a},d01e:function(t,e,a){},debe:function(t,e,a){},e248:function(t,e,a){},e614:function(t,e,a){},ee34:function(t,e,a){"use strict";var s=a("4fe4"),o=a.n(s);o.a},f0de:function(t,e,a){"use strict";var s=a("e614"),o=a.n(s);o.a},f3c7:function(t,e,a){},f789:function(t,e,a){"use strict";var s=a("513c"),o=a.n(s);o.a},fc6c:function(t,e,a){"use strict";var s=a("297c0"),o=a.n(s);o.a},fef6:function(t,e,a){}});
//# sourceMappingURL=app.d64c1689.js.map