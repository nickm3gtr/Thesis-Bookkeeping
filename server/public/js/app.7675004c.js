/* eslint-disable */
(function(t){function e(e){for(var r,s,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(r=!1)}r&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},o={app:0},n=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("1356"),o=a.n(r);o.a},"08e6":function(t,e,a){"use strict";var r=a("f697"),o=a.n(r);o.a},1356:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Navbar"),a("v-content",{staticClass:"view-container"},[a("router-view")],1)],1)},n=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("v-app-bar",{staticClass:"grey lighten-3",attrs:{flat:"",app:""}},[t.isAuth?a("v-toolbar-title",{staticClass:"toolbar-title"},[a("span",{staticClass:"title font-weight-light grey--text text--darken-2"},[t._v(t._s(t.$route.meta.title))])]):a("v-toolbar-title",{staticClass:"toolbar-title"},[a("span",{staticClass:"title grey--text text--darken-2"},[t._v("DARBMUPCO")]),a("span",{staticClass:"font-weight-light title grey--text text--darken-2"},[t._v("Bookkeeping System")])]),a("v-spacer"),t.isAuth?a("v-toolbar-items",[a("v-menu",{attrs:{"offset-x":!0,"offset-y":!0,transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{text:""}},r),[a("span",{staticClass:"grey--text text--darken-2"},[a("span",{staticClass:"subtitle-1 font-weight-light text-capitalize"},[t._v("\n                "+t._s(t.auth.user.userName)+"\n              ")]),a("v-icon",{attrs:{right:"",medium:""}},[t._v("expand_more")])],1)])]}}])},[a("v-list",[a("v-list-item",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light"},[t._v("Profile")])],1),a("v-list-item",{on:{click:t.logout}},[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light"},[t._v("Logout")])],1)],1)],1)],1):a("v-toolbar-items",[a("v-dialog",{attrs:{persistent:"","max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({staticClass:"font-weight-light",attrs:{text:""}},r),[t._v("Login")])]}}],null,!1,2067144200),model:{value:t.loginDialog,callback:function(e){t.loginDialog=e},expression:"loginDialog"}},[a("LoginDialog",{on:{"close-dialog":function(e){return t.close("login")},"submit-login":t.login,"submit-loginAdmin":t.adminLogin,"goto-admin":t.gotoAdmin}})],1)],1)],1),t.isAuth?a("v-navigation-drawer",{attrs:{app:"",dark:"",floating:"",color:"blue-grey darken-1",width:"260"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("NavDrawer")],1):t._e(),a("ErrorSnackbar",{attrs:{snackbar:t.hasError,text:t.getError},on:{"close-snackbar":function(e){t.hasError}}})],1)},i=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"blue-grey darken-1"}},[t.isAdmin?a("v-toolbar-title",[t._v("Admin Login")]):a("v-toolbar-title",[t._v("Bookkeeper Login")])],1),a("v-form",{on:{submit:function(e){return e.preventDefault(),t.submit(t.user)}}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Username",name:"username",type:"text"},model:{value:t.user.userName,callback:function(e){t.$set(t.user,"userName",e)},expression:"user.userName"}}),a("v-text-field",{attrs:{label:"Password",name:"password",type:"password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t.isAdmin?t._e():a("span",{staticClass:"blue--text\n      link\n      darken-4\n      subtitle-2\n      ml-5 font-weight-light",on:{click:function(e){return t.$emit("goto-admin")}}},[t._v("\n      Click here to sign in as admin\n    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[a("span",[t._v("Close")])]),a("v-btn",{attrs:{type:"submit",text:"",color:"blue-grey darken-1"}},[a("span",[t._v("Submit")])])],1)],1)],1)},c=[],u={name:"LoginDialog",data(){return{user:{userName:"",password:""}}},computed:{isAdmin(){return"homeAdmin"===this.$route.name}},methods:{submit(t){"homeAdmin"===this.$route.name?this.$emit("submit-loginAdmin",t):this.$emit("submit-login",t),this.user.userName="",this.user.password=""}}},d=u,m=(a("08e6"),a("2877")),p=a("6544"),h=a.n(p),v=a("8336"),g=a("b0af"),b=a("99d9"),f=a("4bd4"),_=a("2fa4"),k=a("8654"),x=a("71d9"),y=a("2a7f"),O=Object(m["a"])(d,l,c,!1,null,"0d2c9e22",null),C=O.exports;h()(O,{VBtn:v["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VForm:f["a"],VSpacer:_["a"],VTextField:k["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-group",{attrs:{color:"white"}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline text-lg-center"},[t._v("DARBMUPCO")]),a("v-list-item-subtitle",{staticClass:"text-lg-center"},[t._v("Bookkeeping System")])],1)],1),a("v-divider"),"bookkeeper"===t.auth.user.account?a("div",t._l(t.links,function(e,r){return a("v-list-item",{key:r,staticClass:"my-2",attrs:{router:"",to:e.route}},[a("v-list-item-icon",[a("v-icon",[t._v("\n          "+t._s(e.icon)+"\n        ")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light"},[t._v(t._s(e.text))])],1)],1)}),1):a("div",t._l(t.adminLinks,function(e,r){return a("v-list-item",{key:r,staticClass:"my-2",attrs:{router:"",to:e.route}},[a("v-list-item-icon",[a("v-icon",[t._v("\n          "+t._s(e.icon)+"\n        ")])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light"},[t._v(t._s(e.text))])],1)],1)}),1)],1)},w=[],A=a("2f62"),V={name:"BookkeeperNavDrawer",data(){return{links:[{icon:"dashboard",text:"Dashboard",route:"/bookkeeper/dashboard"},{icon:"event_note",text:"Chart of Accounts",route:"/bookkeeper/chart_of_account"},{icon:"chrome_reader_mode",text:"Journals",route:"/journal/bookkeeper"}],adminLinks:[{icon:"dashboard",text:"Dashboard",route:"/admin/dashboard"},{icon:"event_note",text:"Chart of Accounts",route:"/admin/chart_of_account"}]}},computed:{...Object(A["c"])(["auth"]),sidebarOverlayGradiant(){return"'rgba(27, 27, 27, 0.74)', 'rgba(27, 27, 27, 0.74)'"}}},L=V,S=a("ce7e"),U=a("132d"),j=a("da13"),T=a("5d23"),D=a("1baa"),N=a("34c3"),R=Object(m["a"])(L,E,w,!1,null,"3a59ba82",null),$=R.exports;h()(R,{VDivider:S["a"],VIcon:U["a"],VListItem:j["a"],VListItemContent:T["a"],VListItemGroup:D["a"],VListItemIcon:N["a"],VListItemSubtitle:T["b"],VListItemTitle:T["c"]});var I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{"multi-line":t.multiline,bottom:"bottom",color:"red lighten-1",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.text)+"\n    "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.close}},[t._v("\n      Close\n    ")])],1)],1)},P=[],G={name:"ErrorSnackbar",props:["snackbar","text"],data(){return{multiline:!0,timeout:0}},methods:{...Object(A["b"])("errors",["clearError"]),close(){this.$emit("close-snackbar"),this.clearError()}}},B=G,M=a("2db4"),F=Object(m["a"])(B,I,P,!1,null,"ecd634ac",null),H=F.exports;h()(F,{VBtn:v["a"],VSnackbar:M["a"]});var J={name:"Navbar",components:{LoginDialog:C,ErrorSnackbar:H,NavDrawer:$},data(){return{drawer:!0,loginDialog:!1,registerDialog:!1,width:200}},computed:{...Object(A["c"])(["auth","errors"]),isAuth(){return!(!this.auth.user||!0!==this.auth.isAuthenticated)},hasError(){return!0===this.errors.isError},getError(){return this.errors.msg.msg}},methods:{...Object(A["b"])("auth",["registerUser","loginUser","loginAdmin","logoutUser"]),close(t){"register"===t?this.registerDialog=!1:this.loginDialog=!1},register(t){this.registerUser(t),this.close("register")},login(t){this.loginUser(t),this.close("login")},adminLogin(t){this.loginAdmin(t),this.close("login")},gotoAdmin(){this.$router.push("/admin"),this.loginDialog=!0},logout(){this.logoutUser(),this.$router.push("/")}}},z=J,q=a("40dc"),Y=a("169a"),K=a("8860"),Q=a("e449"),W=a("f774"),X=Object(m["a"])(z,s,i,!1,null,null,null),Z=X.exports;h()(X,{VAppBar:q["a"],VBtn:v["a"],VDialog:Y["a"],VIcon:U["a"],VList:K["a"],VListItem:j["a"],VListItemTitle:T["c"],VMenu:Q["a"],VNavigationDrawer:W["a"],VSpacer:_["a"],VToolbarItems:y["a"],VToolbarTitle:y["b"]});var tt={name:"App",components:{Navbar:Z},computed:{...Object(A["c"])(["auth"])}},et=tt,at=(a("034f"),a("7496")),rt=a("a75b"),ot=Object(m["a"])(et,o,n,!1,null,null,null),nt=ot.exports;h()(ot,{VApp:at["a"],VContent:rt["a"]});var st=a("8c4f"),it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center ma-12 mt-12"},[t.auth.isLoading?a("v-overlay",{attrs:{value:!t.overlay}}):t._e(),t.auth.isLoading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1)},lt=[],ct={name:"Home",data(){return{overlay:!1}},computed:{...Object(A["c"])(["auth"])}},ut=ct,dt=a("a797"),mt=a("490a"),pt=Object(m["a"])(ut,it,lt,!1,null,null,null),ht=pt.exports;h()(pt,{VOverlay:dt["a"],VProgressCircular:mt["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center ma-12 mt-12"},[t.auth.isLoading?a("v-overlay",{attrs:{value:!t.overlay}}):t._e(),t.auth.isLoading?a("v-progress-circular",{attrs:{size:"90",width:"15",indeterminate:"",color:"primary"}}):t._e(),a("h1")],1)},gt=[],bt={name:"HomeAdmin",data(){return{overlay:!1}},computed:{...Object(A["c"])(["auth"])}},ft=bt,_t=Object(m["a"])(ft,vt,gt,!1,null,"42c33e94",null),kt=_t.exports;h()(_t,{VOverlay:dt["a"],VProgressCircular:mt["a"]});var xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found"},[a("v-container",{staticClass:"my-6",attrs:{fluid:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[a("v-card",{staticClass:"mt-8"},[a("v-toolbar",{staticClass:"error",attrs:{flat:"",dark:""}},[a("v-toolbar-title",[a("span",[t._v("Error")])])],1),a("v-card-text",[a("v-alert",{staticClass:"text-center mx-4",attrs:{dense:"",text:"",type:"error"}},[t._v("\n              404 The page you requested was not found.\n            ")])],1)],1)],1)],1)],1)],1)},yt=[],Ot={name:"PageNotFound"},Ct=Ot,Et=a("0798"),wt=a("a523"),At=a("0e8f"),Vt=a("a722"),Lt=Object(m["a"])(Ct,xt,yt,!1,null,"932520de",null),St=Lt.exports;h()(Lt,{VAlert:Et["a"],VCard:g["a"],VCardText:b["b"],VContainer:wt["a"],VFlex:At["a"],VLayout:Vt["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var Ut={token:localStorage.getItem("token"),user:null,isAuthenticated:!1,isLoading:!1},jt={AUTH_USER:(t,e)=>{localStorage.setItem("token",e.token),t.token=e.token,t.isLoading=!1,t.isAuthenticated=!0,t.user=e.user},LOGOUT_USER:t=>{localStorage.removeItem("token"),t.token=null,t.user=null,t.isAuthenticated=!1,t.isLoading=!1},USER_LOADED:(t,e)=>{t.isLoading=!1,t.isAuthenticated=!0,t.user=e,t.token=e.token},USER_LOADING:t=>{t.isLoading=!0}},Tt=a("bc3a"),Dt=a.n(Tt),Nt={registerUser:({commit:t,dispatch:e},a)=>{const{firstName:r,lastName:o,email:n,password:s}=a,i={headers:{"Content-Type":"application/json"}},l=JSON.stringify({firstName:r,lastName:o,email:n,password:s});Dt.a.post("/api/bookkeepers",l,i).then(e=>t("AUTH_USER",e.data)).catch(a=>{t("LOGOUT_USER"),e("errors/getError",a.response.data,{root:!0})})},loginUser:({commit:t,dispatch:e},a)=>{t("USER_LOADING");const{userName:r,password:o}=a,n={headers:{"Content-Type":"application/json"}},s=JSON.stringify({userName:r,password:o});Dt.a.post("/api/bookkeepers/login",s,n).then(e=>{t("AUTH_USER",e.data),_e.push("/bookkeeper/dashboard")}).catch(a=>{t("LOGOUT_USER"),e("errors/getError",a.response.data,{root:!0})})},loginAdmin:({commit:t,dispatch:e},a)=>{t("USER_LOADING");const{userName:r,password:o}=a,n={headers:{"Content-Type":"application/json"}},s=JSON.stringify({userName:r,password:o});Dt.a.post("/api/admin/login",s,n).then(e=>{t("AUTH_USER",e.data),_e.push("/admin/dashboard")}).catch(a=>{t("LOGOUT_USER"),e("errors/getError",a.response.data,{root:!0})})},loadUser:({commit:t,state:e})=>{t("USER_LOADING");const a={headers:{Authorization:localStorage.getItem("token")}};"bookkeeper"===e.user.account?Dt.a.get("/api/bookkeepers",a).then(e=>{t("USER_LOADED",e.data)}).catch(e=>t("LOGOUT_USER")):Dt.a.get("/api/admin",a).then(e=>{t("USER_LOADED",e.data)}).catch(e=>t("LOGOUT_USER"))},logoutUser:({commit:t})=>{t("LOGOUT_USER")}},Rt={isLogged:t=>{return!0===t.isAuthenticated}},$t={namespaced:!0,state:Ut,mutations:jt,actions:Nt,getters:Rt},It={namespaced:!0,state:{isError:!1,msg:""},mutations:{error:(t,e)=>{t.isError=!0,t.msg=e},clearError:t=>{t.isError=!1,t.msg=""}},actions:{getError:({commit:t},e)=>{t("error",e)},clearError:({commit:t})=>{t("clearError")}},getters:{errorMsg:t=>{return t.msg}}},Pt=a("0e44");r["a"].use(A["a"]);var Gt=new A["a"].Store({modules:{auth:$t,errors:It},plugins:[Object(Pt["a"])()]}),Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[!0!==t.auth.isAuthenticated&&!1===t.auth.isLoading?a("div",[a("RestrictedResource")],1):a("div",[a("h1")])])},Mt=[],Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restricted"},[a("v-container",{staticClass:"my-6",attrs:{fluid:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[a("v-card",{staticClass:"elevation-12 mt-8"},[a("v-toolbar",{staticClass:"error",attrs:{flat:"",dark:""}},[a("v-toolbar-title",[a("span",[t._v("Error")])])],1),a("v-card-text",[a("v-alert",{staticClass:"mx-4",attrs:{dense:"",text:"",type:"error"}},[t._v("\n              This is a restricted page. You will need to register or login an account.\n            ")])],1)],1)],1)],1)],1)],1)},Ht=[],Jt={name:"RestrictedResource"},zt=Jt,qt=Object(m["a"])(zt,Ft,Ht,!1,null,"531f79c3",null),Yt=qt.exports;h()(qt,{VAlert:Et["a"],VCard:g["a"],VCardText:b["b"],VContainer:wt["a"],VFlex:At["a"],VLayout:Vt["a"],VToolbar:x["a"],VToolbarTitle:y["b"]});var Kt={name:"DashboardBookkeeper",components:{RestrictedResource:Yt},computed:{...Object(A["c"])(["auth"])}},Qt=Kt,Wt=Object(m["a"])(Qt,Bt,Mt,!1,null,"7a7d23b3",null),Xt=Wt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1")},te=[],ee={name:"DashboardAdmin"},ae=ee,re=Object(m["a"])(ae,Zt,te,!1,null,"156fc56d",null),oe=re.exports,ne=[{path:"/bookkeeper/dashboard",name:"dashboard-bookkeeper",component:Xt,meta:{title:"Dashboard"}},{path:"/admin/dashboard",name:"dashboard-admin",component:oe,meta:{title:"Dashboard"}}],se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1")},ie=[],le={name:"ChartofAccountBookkeeper"},ce=le,ue=Object(m["a"])(ce,se,ie,!1,null,"23fb46bd",null),de=ue.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1")},pe=[],he={name:"ChartofAccountAdmin"},ve=he,ge=Object(m["a"])(ve,me,pe,!1,null,"07ace6d6",null),be=ge.exports,fe=[{path:"/bookkeeper/chart_of_account",name:"chart-bookkeeper",component:de,meta:{title:"Chart of Accounts"}},{path:"/admin/chart_of_account",name:"chart-admin",component:be,meta:{title:"Chart of Accounts"}}];r["a"].use(st["a"]);var _e=new st["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",beforeEnter(t,e,a){Gt.getters["auth/isLogged"]?a("/dashboard/bookkeeper"):a()},component:ht},{path:"/admin",name:"homeAdmin",beforeEnter(t,e,a){Gt.getters["auth/isLogged"]?a("/dashboard/bookkeeper"):a()},component:kt},...ne,...fe,{path:"*",name:"notFound",component:St,meta:{title:"Page Not Found"}}]}),ke=a("f309");r["a"].use(ke["a"]);var xe=new ke["a"]({icons:{iconfont:"mdi"}});r["a"].config.productionTip=!1,new r["a"]({router:_e,store:Gt,vuetify:xe,render:t=>t(nt)}).$mount("#app")},f697:function(t,e,a){}});
//# sourceMappingURL=app.7675004c.js.map