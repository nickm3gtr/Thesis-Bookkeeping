(function(t){function e(e){for(var s,n,i=e[0],l=e[1],c=e[2],m=0,u=[];m<i.length;m++)n=i[m],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},o={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("1356"),o=a.n(s);o.a},"08e6":function(t,e,a){"use strict";var s=a("f697"),o=a.n(s);o.a},"09eb":function(t,e,a){"use strict";var s=a("44e0"),o=a.n(s);o.a},"0acb":function(t,e,a){"use strict";var s=a("8777"),o=a.n(s);o.a},"0c87":function(t,e,a){},1356:function(t,e,a){},"166e":function(t,e,a){},1855:function(t,e,a){},"23cd":function(t,e,a){"use strict";var s=a("30c4"),o=a.n(s);o.a},"2ae8":function(t,e,a){},"30c4":function(t,e,a){},"3e61":function(t,e,a){t.exports=a.p+"img/drawer-1.7dd35cfb.jpg"},"417a":function(t,e,a){"use strict";var s=a("bd54"),o=a.n(s);o.a},"44e0":function(t,e,a){},4629:function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=r,t.exports=o,o.id="4678"},"4a24":function(t,e,a){"use strict";var s=a("8043"),o=a.n(s);o.a},"52a8":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Navbar"),a("v-content",{staticClass:"view-container"},[a("router-view")],1)],1)},r=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("v-app-bar",{staticClass:"nav-color",attrs:{flat:"",app:""}},[t.isAuth?s("v-app-bar-nav-icon",{on:{click:t.toggleDrawer}}):t._e(),t.isAuth?s("v-toolbar-title",{staticClass:"toolbar-title"},[s("span",{staticClass:"title font-weight-light grey--text text--darken-2"})]):s("v-toolbar-title",{staticClass:"toolbar-title"},[s("span",{staticClass:"title grey--text text--darken-2"},[t._v("DARBMUPCO")]),s("span",{staticClass:"hidden-sm-and-down font-weight-light title grey--text text--darken-2"},[t._v("Bookkeeping System")])]),s("v-spacer"),t.isAuth?s("v-toolbar-items",[s("v-menu",{attrs:{"offset-x":!0,"offset-y":!0,transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({attrs:{text:""}},a),[s("span",{staticClass:"grey--text text--darken-2"},[s("span",{staticClass:"subtitle-1 font-weight-light text-capitalize"},[t._v("\n                "+t._s(t.auth.user.userName)+"\n              ")]),s("v-icon",{attrs:{right:"",medium:""}},[t._v("expand_more")])],1)])]}}])},[s("v-list",[s("v-list-item",[s("v-list-item-title",{staticClass:"subtitle-2 font-weight-light"},[t._v("Profile")])],1),s("v-list-item",{on:{click:t.logout}},[s("v-list-item-title",{staticClass:"subtitle-2 font-weight-light"},[t._v("Logout")])],1)],1)],1)],1):s("v-toolbar-items",[s("v-dialog",{attrs:{persistent:"","max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({staticClass:"font-weight-light",attrs:{text:""}},a),[t._v("Login")])]}}],null,!1,2067144200),model:{value:t.loginDialog,callback:function(e){t.loginDialog=e},expression:"loginDialog"}},[s("LoginDialog",{on:{"close-dialog":function(e){return t.close("login")},"submit-login":t.login,"submit-loginAdmin":t.adminLogin,"goto-admin":t.gotoAdmin}})],1)],1)],1),t.isAuth?s("v-navigation-drawer",{attrs:{"expand-on-hover":t.hover,app:"",dark:"",floating:"",src:a("3e61"),width:"260"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("NavDrawer",{attrs:{hover:t.hover}})],1):t._e(),s("ErrorSnackbar",{attrs:{snackbar:t.hasError,text:t.getError},on:{"close-snackbar":function(e){t.hasError}}})],1)},i=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"blue-grey darken-1"}},[t.isAdmin?a("v-toolbar-title",[t._v("Admin Login")]):a("v-toolbar-title",[t._v("Bookkeeper Login")])],1),a("v-form",{on:{submit:function(e){return e.preventDefault(),t.submit(t.user)}}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Username",name:"username",type:"text"},model:{value:t.user.userName,callback:function(e){t.$set(t.user,"userName",e)},expression:"user.userName"}}),a("v-text-field",{attrs:{label:"Password",name:"password",type:"password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t.isAdmin?t._e():a("span",{staticClass:"blue--text\n      link\n      darken-4\n      subtitle-2\n      ml-5 font-weight-light",on:{click:function(e){return t.$emit("goto-admin")}}},[t._v("\n      Click here to sign in as admin\n    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[a("span",[t._v("Close")])]),a("v-btn",{attrs:{type:"submit",text:"",color:"blue-grey darken-1"}},[a("span",[t._v("Submit")])])],1)],1)],1)},c=[],d={name:"LoginDialog",data(){return{user:{userName:"",password:""}}},computed:{isAdmin(){return"homeAdmin"===this.$route.name}},methods:{submit(t){"homeAdmin"===this.$route.name?this.$emit("submit-loginAdmin",t):this.$emit("submit-login",t),this.user.userName="",this.user.password=""}}},m=d,u=(a("08e6"),a("2877")),h=a("6544"),p=a.n(h),v=a("8336"),f=a("b0af"),b=a("99d9"),g=a("4bd4"),C=a("2fa4"),_=a("8654"),x=a("71d9"),k=a("2a7f"),w=Object(u["a"])(m,l,c,!1,null,"0d2c9e22",null),D=w.exports;p()(w,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VForm:g["a"],VSpacer:C["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-group",{attrs:{color:"white"}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",{attrs:{hidden:1==t.hover}},[a("v-list-item-title",{staticClass:"headline text-lg-center"},[t._v("DARBMUPCO")]),a("v-list-item-subtitle",{staticClass:"text-lg-center"},[t._v("Bookkeeping System")])],1)],1),a("v-divider"),"bookkeeper"===t.auth.user.account?a("div",t._l(t.bookkeeperItems,function(e){return a("v-list-group",{key:e.title,attrs:{color:"white",disabled:e.disabled,"prepend-icon":e.action,"append-icon":e.items?void 0:"","no-action":""},on:{click:function(a){t.$router.push(e.route).catch(function(t){})}},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light",domProps:{textContent:t._s(e.title)}})],1)]},proxy:!0}],null,!0),model:{value:e.active,callback:function(a){t.$set(e,"active",a)},expression:"item.active"}},t._l(e.items,function(e){return a("v-list-item",{key:e.title,attrs:{to:e.route}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light",domProps:{textContent:t._s(e.title)}})],1)],1)}),1)}),1):a("div",t._l(t.adminItems,function(e){return a("v-list-group",{key:e.title,attrs:{color:"white",disabled:e.disabled,"prepend-icon":e.action,"append-icon":e.items?void 0:"","no-action":""},on:{click:function(a){t.$router.push(e.route).catch(function(t){})}},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light",domProps:{textContent:t._s(e.title)}})],1)]},proxy:!0}],null,!0),model:{value:e.active,callback:function(a){t.$set(e,"active",a)},expression:"item.active"}},t._l(e.items,function(e){return a("v-list-item",{key:e.title,attrs:{to:e.route}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light",domProps:{textContent:t._s(e.title)}})],1)],1)}),1)}),1)],1)},V=[],B=a("2f62"),j={name:"BookkeeperNavDrawer",props:["hover"],data(){return{bookkeeperItems:[{action:"dashboard",title:"Dashboard",route:"/bookkeeper/dashboard"},{action:"event_note",title:"Chart of Accounts",route:"/bookkeeper/chart_of_account"},{action:"chrome_reader_mode",title:"Bookkeeping",items:[{title:"General Journal Book",route:"/bookkeeper/general-journal"},{title:"Cash Receipt Book",route:"/bookkeeper/cash-receipt"},{title:"Cash Disbursement Book",route:"/bookkeeper/cash-disbursement"},{title:"Sales Book",route:"/bookkeeper/sales-book"},{title:"Purchase Book",route:"/bookkeeper/purchase-book"}]},{action:"local_atm",title:"Transactions",route:"/bookkeeper/transactions"},{action:"bar_chart",title:"Reports",items:[{title:"Journal",route:"/bookkeeper/reports/journal"},{title:"Ledger",route:"/bookkeeper/reports/ledger"},{title:"Trial Balance",route:"/bookkeeper/reports/trial-balance"},{title:"Balance Sheet",route:"/bookkeeper/reports/balance-sheet"},{title:"Income Statement",route:"/bookkeeper/reports/income-statement"}]}],adminItems:[{action:"dashboard",title:"Dashboard",route:"/admin/dashboard"},{action:"group",title:"Bookkeepers",route:"/admin/bookkeepers"},{action:"event_note",title:"Chart of Accounts",route:"/admin/chart_of_account"},{action:"bar_chart",title:"Reports",items:[{title:"Journal",route:"/admin/reports/journal"},{title:"Ledger",route:"/admin/reports/ledger"},{title:"Trial Balance",route:"/admin/reports/trial-balance"},{title:"Balance Sheet",route:"/admin/reports/balance-sheet"},{title:"Income Statement",route:"/admin/reports/income-statement"}]}]}},computed:{...Object(B["c"])(["auth"])}},T=j,S=a("ce7e"),A=a("56b0"),F=a("da13"),I=a("5d23"),O=a("1baa"),M=Object(u["a"])(T,y,V,!1,null,"554a25c5",null),E=M.exports;p()(M,{VDivider:S["a"],VListGroup:A["a"],VListItem:F["a"],VListItemContent:I["a"],VListItemGroup:O["a"],VListItemSubtitle:I["b"],VListItemTitle:I["c"]});var $=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{"multi-line":t.multiline,bottom:"bottom",color:"red lighten-1",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.text)+"\n    "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.close}},[t._v("\n      Close\n    ")])],1)],1)},R=[],L={name:"ErrorSnackbar",props:["snackbar","text"],data(){return{multiline:!0,timeout:2e3}},methods:{...Object(B["b"])("errors",["clearError"]),close(){this.$emit("close-snackbar"),this.clearError()}}},P=L,N=a("2db4"),G=Object(u["a"])(P,$,R,!1,null,"603d56cc",null),U=G.exports;p()(G,{VBtn:v["a"],VSnackbar:N["a"]});var z={name:"Navbar",components:{LoginDialog:D,ErrorSnackbar:U,NavDrawer:E},data(){return{hover:!1,drawer:!0,loginDialog:!1,registerDialog:!1,width:200}},computed:{...Object(B["c"])(["auth","errors"]),isAuth(){return!(!this.auth.user||!0!==this.auth.isAuthenticated)},hasError(){return!0===this.errors.isError},getError(){return this.errors.msg.msg}},methods:{...Object(B["b"])("auth",["registerUser","loginUser","loginAdmin","logoutUser"]),toggleDrawer(){this.hover=!this.hover},close(t){"register"===t?this.registerDialog=!1:this.loginDialog=!1},register(t){this.registerUser(t),this.close("register")},login(t){this.loginUser(t),this.close("login")},adminLogin(t){this.loginAdmin(t),this.close("login")},gotoAdmin(){this.$router.push("/admin"),this.loginDialog=!0},logout(){this.logoutUser(),this.$router.push("/")}}},Y=z,J=(a("23cd"),a("40dc")),q=a("5bc1"),H=a("169a"),Z=a("132d"),K=a("8860"),Q=a("e449"),W=a("f774"),X=Object(u["a"])(Y,n,i,!1,null,"172e47ca",null),tt=X.exports;p()(X,{VAppBar:J["a"],VAppBarNavIcon:q["a"],VBtn:v["a"],VDialog:H["a"],VIcon:Z["a"],VList:K["a"],VListItem:F["a"],VListItemTitle:I["c"],VMenu:Q["a"],VNavigationDrawer:W["a"],VSpacer:C["a"],VToolbarItems:k["a"],VToolbarTitle:k["b"]});var et={name:"App",components:{Navbar:tt},computed:{...Object(B["c"])(["auth"])},beforeCreate(){this.$store.dispatch("auth/loadUser")}},at=et,st=(a("034f"),a("7496")),ot=a("a75b"),rt=Object(u["a"])(at,o,r,!1,null,null,null),nt=rt.exports;p()(rt,{VApp:st["a"],VContent:ot["a"]});var it=a("8c4f"),lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center ma-12 mt-12"},[null!==t.auth&&t.auth.isLoading?a("v-overlay",{attrs:{value:!t.overlay}}):t._e(),null!==t.auth&&t.auth.isLoading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1)},ct=[],dt={name:"Home",data(){return{overlay:!1}},computed:{...Object(B["c"])(["auth"])}},mt=dt,ut=a("a797"),ht=a("490a"),pt=Object(u["a"])(mt,lt,ct,!1,null,null,null),vt=pt.exports;p()(pt,{VOverlay:ut["a"],VProgressCircular:ht["a"]});var ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center ma-12 mt-12"},[null!==t.auth&&t.auth.isLoading?a("v-overlay",{attrs:{value:!t.overlay}}):t._e(),null!==t.auth&&t.auth.isLoading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e(),a("h1")],1)},bt=[],gt={name:"HomeAdmin",data(){return{overlay:!1}},computed:{...Object(B["c"])(["auth"])}},Ct=gt,_t=Object(u["a"])(Ct,ft,bt,!1,null,"6366e495",null),xt=_t.exports;p()(_t,{VOverlay:ut["a"],VProgressCircular:ht["a"]});var kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found"},[a("v-container",{staticClass:"my-6",attrs:{fluid:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[a("v-card",{staticClass:"mt-8"},[a("v-toolbar",{staticClass:"error",attrs:{flat:"",dark:""}},[a("v-toolbar-title",[a("span",[t._v("Error")])])],1),a("v-card-text",[a("v-alert",{staticClass:"text-center mx-4",attrs:{dense:"",text:"",type:"error"}},[t._v("\n              404 The page you requested was not found.\n            ")])],1)],1)],1)],1)],1)],1)},wt=[],Dt={name:"PageNotFound"},yt=Dt,Vt=a("0798"),Bt=a("a523"),jt=a("0e8f"),Tt=a("a722"),St=Object(u["a"])(yt,kt,wt,!1,null,"932520de",null),At=St.exports;p()(St,{VAlert:Vt["a"],VCard:f["a"],VCardText:b["b"],VContainer:Bt["a"],VFlex:jt["a"],VLayout:Tt["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Ft={token:localStorage.getItem("token"),user:null,isAuthenticated:!1,isLoading:!1},It={AUTH_USER:(t,e)=>{localStorage.setItem("token",e.token),t.token=e.token,t.isLoading=!1,t.isAuthenticated=!0,t.user=e.user},LOGOUT_USER:t=>{localStorage.removeItem("token"),t.token=null,t.user=null,t.isAuthenticated=!1,t.isLoading=!1},USER_LOADED:(t,e)=>{t.isLoading=!1,t.isAuthenticated=!0,t.user=e,t.token=e.token},USER_LOADING:t=>{t.isLoading=!0}},Ot=a("bc3a"),Mt=a.n(Ot),Et={registerUser:({commit:t,dispatch:e},a)=>{const{firstName:s,lastName:o,email:r,password:n}=a,i={headers:{"Content-Type":"application/json"}},l=JSON.stringify({firstName:s,lastName:o,email:r,password:n});Mt.a.post("/api/bookkeepers",l,i).then(e=>t("AUTH_USER",e.data)).catch(a=>{t("LOGOUT_USER"),e("errors/getError",a.response.data,{root:!0})})},loginUser:({commit:t,dispatch:e},a)=>{t("USER_LOADING");const{userName:s,password:o}=a,r={headers:{"Content-Type":"application/json"}},n=JSON.stringify({userName:s,password:o});Mt.a.post("/api/bookkeepers/login",n,r).then(e=>{t("AUTH_USER",e.data),zl.push("/bookkeeper/dashboard")}).catch(a=>{t("LOGOUT_USER"),e("errors/getError",a.response.data,{root:!0})})},loginAdmin:({commit:t,dispatch:e},a)=>{t("USER_LOADING");const{userName:s,password:o}=a,r={headers:{"Content-Type":"application/json"}},n=JSON.stringify({userName:s,password:o});Mt.a.post("/api/admin/login",n,r).then(e=>{t("AUTH_USER",e.data),zl.push("/admin/dashboard")}).catch(a=>{t("LOGOUT_USER"),e("errors/getError",a.response.data,{root:!0})})},loadUser:({commit:t,state:e})=>{t("USER_LOADING");const a={headers:{Authorization:localStorage.getItem("token")}};e.user?"bookkeeper"===e.user.account?Mt.a.get("/api/bookkeepers",a).then(e=>{t("USER_LOADED",e.data)}).catch(e=>t("LOGOUT_USER")):"admin"===e.user.account&&Mt.a.get("/api/admin",a).then(e=>{t("USER_LOADED",e.data)}).catch(e=>t("LOGOUT_USER")):t("LOGOUT_USER")},logoutUser:({commit:t})=>{t("LOGOUT_USER")}},$t={isLogged:t=>{return!0===t.isAuthenticated}},Rt={namespaced:!0,state:Ft,mutations:It,actions:Et,getters:$t},Lt={namespaced:!0,state:{isError:!1,msg:""},mutations:{error:(t,e)=>{t.isError=!0,t.msg=e},clearError:t=>{t.isError=!1,t.msg=""}},actions:{getError:({commit:t},e)=>{t("error",e),setTimeout(()=>{t("clearError")},2e3)},clearError:({commit:t})=>{t("clearError")}},getters:{errorMsg:t=>{return t.msg}}},Pt=a("0e44");s["a"].use(B["a"]);var Nt=new B["a"].Store({modules:{auth:Rt,errors:Lt},plugins:[Object(Pt["a"])()]}),Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[null===t.auth||!1===t.auth.isAuthenticated||"bookkeeper"!==t.auth.user.account?a("div",[a("RestrictedResource")],1):a("div",[a("DashboardBookkeeperComponent")],1)])},Ut=[],zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restricted"},[a("v-container",{staticClass:"my-6",attrs:{fluid:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[a("v-card",{staticClass:"elevation-12 mt-8"},[a("v-toolbar",{staticClass:"error",attrs:{flat:"",dark:""}},[a("v-toolbar-title",[a("span",[t._v("Error")])])],1),a("v-card-text",[a("v-alert",{staticClass:"mx-4",attrs:{dense:"",text:"",type:"error"}},[t._v("\n              This is a restricted page. You will need to register or login an account.\n            ")])],1)],1)],1)],1)],1)],1)},Yt=[],Jt={name:"RestrictedResource"},qt=Jt,Ht=Object(u["a"])(qt,zt,Yt,!1,null,"531f79c3",null),Zt=Ht.exports;p()(Ht,{VAlert:Vt["a"],VCard:f["a"],VCardText:b["b"],VContainer:Bt["a"],VFlex:jt["a"],VLayout:Tt["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Kt,Qt,Wt,Xt,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-text",[a("Barchart")],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-text",[a("ExpenseBarChart")],1)],1)],1)],1)],1)],1)],1)},ee=[],ae=a("1fca"),se={name:"Barchart",extends:ae["a"],data(){return{loading:!1,year:(new Date).getFullYear(),sales:[]}},methods:{...Object(B["b"])("errors",["getError"]),formatBalance(t){const e=-1*t;return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(B["c"])(["auth"])},async mounted(){try{const t=await Mt.a.get(`/api/graphs/sales/${this.auth.user.BranchId}/${this.year}`);this.sales=t.data}catch(a){}const t={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Sales",data:[this.formatBalance(this.sales[0].january),this.formatBalance(this.sales[0].february),this.formatBalance(this.sales[0].march),this.formatBalance(this.sales[0].april),this.formatBalance(this.sales[0].may),this.formatBalance(this.sales[0].june),this.formatBalance(this.sales[0].july),this.formatBalance(this.sales[0].august),this.formatBalance(this.sales[0].september),this.formatBalance(this.sales[0].october),this.formatBalance(this.sales[0].november),this.formatBalance(this.sales[0].december)],backgroundColor:"#039be5"}]},e={scales:{xAxes:[{barPercentage:.5,gridLines:{offsetGridLines:!0}}],yAxes:[{ticks:{beginAtZero:!0}}]}};this.renderChart(t,e)}},oe=se,re=Object(u["a"])(oe,Kt,Qt,!1,null,"d28ed460",null),ne=re.exports,ie={name:"ExpenseBarChart",extends:ae["a"],data(){return{loading:!1,year:(new Date).getFullYear(),expenses:[]}},methods:{...Object(B["b"])("errors",["getError"]),formatBalance(t){const e=1*t;return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(B["c"])(["auth"])},async mounted(){try{const t=await Mt.a.get(`/api/graphs/expenses/${this.auth.user.BranchId}/${this.year}`);this.expenses=t.data}catch(a){}const t={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Expenses",data:[this.formatBalance(this.expenses[0].january),this.formatBalance(this.expenses[0].february),this.formatBalance(this.expenses[0].march),this.formatBalance(this.expenses[0].april),this.formatBalance(this.expenses[0].may),this.formatBalance(this.expenses[0].june),this.formatBalance(this.expenses[0].july),this.formatBalance(this.expenses[0].august),this.formatBalance(this.expenses[0].september),this.formatBalance(this.expenses[0].october),this.formatBalance(this.expenses[0].november),this.formatBalance(this.expenses[0].december)],backgroundColor:"#f44336"}]},e={scales:{xAxes:[{barPercentage:.5,gridLines:{offsetGridLines:!0}}],yAxes:[{ticks:{beginAtZero:!0}}]}};this.renderChart(t,e)}},le=ie,ce=Object(u["a"])(le,Wt,Xt,!1,null,"67f5040e",null),de=ce.exports,me={name:"DashboardBookkeeperComponent",components:{Barchart:ne,ExpenseBarChart:de}},ue=me,he=a("62ad"),pe=a("0fd9"),ve=Object(u["a"])(ue,te,ee,!1,null,"12dc703e",null),fe=ve.exports;p()(ve,{VCard:f["a"],VCardText:b["b"],VCol:he["a"],VFlex:jt["a"],VLayout:Tt["a"],VRow:pe["a"]});var be={name:"DashboardBookkeeper",components:{RestrictedResource:Zt,DashboardBookkeeperComponent:fe},computed:{...Object(B["c"])(["auth"])}},ge=be,Ce=Object(u["a"])(ge,Gt,Ut,!1,null,"5b87f7f2",null),_e=Ce.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[null===t.$store.state.auth||!1===t.$store.state.auth.isAuthenticated||"bookkeeper"===t.$store.state.auth.user.account?a("div",{staticClass:"not-authenticated"},[a("RestrictedResource")],1):t._e()])},ke=[],we={name:"DashboardAdmin",components:{RestrictedResource:Zt}},De=we,ye=Object(u["a"])(De,xe,ke,!1,null,"ae7d5c42",null),Ve=ye.exports,Be=[{path:"/bookkeeper/dashboard",name:"dashboard-bookkeeper",component:_e,meta:{title:"Dashboard"}},{path:"/admin/dashboard",name:"dashboard-admin",component:Ve,meta:{title:"Dashboard"}}],je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[null===t.$store.state.auth||!1===t.$store.state.auth.isAuthenticated||"bookkeeper"!==t.$store.state.auth.user.account?a("div",{staticClass:"not-authenticated"},[a("RestrictedResource")],1):a("div",[a("ChartOfAccount")],1)])},Te=[],Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-of-account"},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-col",{attrs:{cols:"6",md:"6"}}),a("v-col",{attrs:{cols:"6",md:"6"}},[a("v-text-field",{attrs:{outlined:"","append-icon":"search",label:"Filter accounts","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"elevation-3",attrs:{dense:"","item-key":"code",headers:t.headers,items:t.accounts,"items-per-page":15,search:t.search,loading:t.loading,"loading-text":"Loading..."}})],1)],1)],1)],1)],1)},Ae=[],Fe={name:"ChartOfAccount",data(){return{search:"",accounts:[],loading:!1,headers:[{text:"Account Name",value:"name"},{text:"Account Subtype",value:"SubType.name"},{text:"Account Type",value:"SubType.Type.name"}]}},async mounted(){const t={headers:{Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Mt.a.get("/api/charts",t),s=a.data;this.loading=!1,this.accounts=s}catch(e){this.loading=!1,console.log(e)}}},Ie=Fe,Oe=a("8fea"),Me=Object(u["a"])(Ie,Se,Ae,!1,null,"0335dfa8",null),Ee=Me.exports;p()(Me,{VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VDataTable:Oe["a"],VFlex:jt["a"],VLayout:Tt["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var $e={name:"ChartofAccountBookkeeper",components:{ChartOfAccount:Ee,RestrictedResource:Zt}},Re=$e,Le=Object(u["a"])(Re,je,Te,!1,null,"77fd1fbb",null),Pe=Le.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[null===t.$store.state.auth||0==t.$store.state.auth.isAuthenticated||"bookkeeper"===t.$store.state.auth.user.account?a("div",{staticClass:"not-authenticated"},[a("RestrictedResource")],1):a("div",[a("ChartOfAccount")],1)])},Ge=[],Ue={name:"ChartofAccountAdmin",components:{ChartOfAccount:Ee,RestrictedResource:Zt}},ze=Ue,Ye=Object(u["a"])(ze,Ne,Ge,!1,null,"5cf6ffbc",null),Je=Ye.exports,qe=[{path:"/bookkeeper/chart_of_account",name:"chart-bookkeeper",component:Pe,meta:{title:"Chart of Accounts"}},{path:"/admin/chart_of_account",name:"chart-admin",component:Je,meta:{title:"Chart of Accounts"}}],He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[null===t.$store.state.auth||!1===t.$store.state.auth.isAuthenticated||"admin"===t.$store.state.auth.user.account?a("div",{staticClass:"not-authenticated"},[a("RestrictedResource")],1):a("div",[a("GeneralJournal")],1)])},Ze=[],Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"general-journal"},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{height:"4",outlined:"",label:"Description"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"primary",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[a("span",[t._v("Add")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("GeneralJournalDialog",{on:{"close-dialog":function(e){t.dialog=!1},"add-transaction":t.add}})],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.deleteItems},attrs:{color:"red",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("delete")])],1)]}}],null,!0)},[a("span",[t._v("Delete")])])]}}]),model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Delete")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to delete?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialogDelete=!1}}},[t._v("\n                      Cancel\n                    ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.clear}},[t._v("\n                      Delete\n                    ")])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.selectedItems},attrs:{color:"success",dark:"",fab:"",small:""},on:{click:t.save}},s),[a("v-icon",[t._v("save")])],1)]}}])},[a("span",[t._v("Save")])])],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"show-select":"","hide-default-footer":"","disable-sort":"",headers:t.headers,items:t.indexedItems,"item-key":"id","no-data-text":"Add General Journal transactions"},scopedSlots:t._u([{key:"body.append",fn:function(e){e.headers;return[a("tr",[a("td"),a("td",[a("span",{staticClass:"font-weight-bold caption"},[t._v("Total:")])]),a("td",[0===t.sumDebit?a("span"):a("span",{class:{"red--text":t.isNotTheSame}},[t._v(t._s(t.sumDebit))])]),a("td",[0===t.sumCredit?a("span"):a("span",{class:{"red--text":t.isNotTheSame}},[t._v(t._s(t.sumCredit))])])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("RecordStatus",{attrs:{hidden:t.hidden,statusId:t.statusId},on:{"close-status":function(e){t.hidden=!0}}})],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      Saved!\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("\n        Close\n      ")])],1)],1)],1)},Qe=[],We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mt-4 mb-10",attrs:{hidden:t.hidden}},[a("v-card-title",[a("v-progress-linear",{attrs:{active:t.loading,indeterminate:t.loading,absolute:"",top:"",color:"blue darken-2"}}),a("span",{staticClass:"blue--text text--darken-3 title font-weight-medium"},[t._v("\n      Saved!\n    ")]),a("v-spacer"),a("v-btn",{attrs:{text:"",fab:"",color:"red","x-small":""},on:{click:function(e){return t.$emit("close-status")}}},[a("v-icon",[t._v("close")])],1)],1),a("v-card-text",[a("v-data-table",{attrs:{dense:"",headers:t.headers,items:t.items,"hide-default-footer":"","disable-sort":"","item-key":"id"},scopedSlots:t._u([{key:"body",fn:function(e){var s=e.items;return[a("tbody",t._l(s,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.name))]),a("td",[0==e.debit?a("span"):a("span",[t._v(t._s(e.debit))])]),a("td",[0==e.credit?a("span"):a("span",[t._v(t._s(e.credit))])])])}),0)]}}])})],1)],1)},Xe=[],ta={name:"RecordStatus",props:["hidden","statusId"],data(){return{loading:!1,items:[],headers:[{text:"AccountName",align:"left",sortable:!1,value:"name"},{text:"Debit",align:"left",sortable:!1,value:"debit"},{text:"Credit",align:"left",sortable:!1,value:"credit"}]}},methods:{...Object(B["b"])("errors",["getError"])},computed:{...Object(B["c"])(["auth"])},watch:{async statusId(){try{this.loading=!0;const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}},a=await Mt.a.get(`/api/bookkeeping/transactions/latest/${this.auth.user.BranchId}`),s=a.data.id,o=await Mt.a.get(`/api/bookkeeping/transaction-records/trans_id/${s}`,e);this.items=o.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}}}},ea=ta,aa=a("8e36"),sa=Object(u["a"])(ea,We,Xe,!1,null,"14ad5b7a",null),oa=sa.exports;p()(sa,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VDataTable:Oe["a"],VIcon:Z["a"],VProgressLinear:aa["a"],VSpacer:C["a"]});var ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n      Please stand by\n      "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-combobox",{attrs:{items:t.accounts,"item-text":"name",label:"Select Account Name","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{disabled:t.creditNotNull,label:"Debit"},model:{value:t.debit,callback:function(e){t.debit=e},expression:"debit"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{disabled:t.debitNotNull,label:"Credit"},model:{value:t.credit,callback:function(e){t.credit=e},expression:"credit"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isIncomplete},on:{click:t.add}},[t._v("Add")])],1)],1)],1)],1)},na=[],ia={name:"GeneralJournalDialog",data(){return{loading:!1,selected:"",debit:"",credit:"",accounts:[]}},methods:{...Object(B["b"])("errors",["getError"]),add(){const t={AccountId:this.selected.id,AccountName:this.selected.name,debit:this.debit,credit:this.credit};this.$emit("add-transaction",t),this.$emit("close-dialog"),this.selected="",this.debit="",this.credit=""}},async mounted(){try{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};this.loading=!0;const a=await Mt.a.get("/api/accounts",e);this.accounts=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}},computed:{...Object(B["c"])(["auth"]),creditNotNull(){return this.credit.length>0},debitNotNull(){return this.debit.length>0},isIncomplete(){return""===this.selected||""===this.debit&&""===this.credit}}},la=ia,ca=a("2b5d"),da=Object(u["a"])(la,ra,na,!1,null,"61cc96a3",null),ma=da.exports;p()(da,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VCombobox:ca["a"],VContainer:Bt["a"],VForm:g["a"],VProgressLinear:aa["a"],VRow:pe["a"],VTextField:_["a"]});var ua={name:"GeneralJournal",components:{GeneralJournalDialog:ma,RecordStatus:oa},data(){return{selected:[],snackbar:!1,timeout:2e3,BookId:1,dialog:!1,dialogDelete:!1,memo:"",menu:!1,date:(new Date).toISOString().substr(0,10),headers:[{text:"AccountName",value:"AccountName"},{text:"Debit",value:"debit"},{text:"Credit",value:"credit"}],items:[],hidden:!0,statusId:0}},methods:{...Object(B["b"])("errors",["getError"]),add(t){this.items=[...this.items,t]},clearAll(){this.memo="",this.items=[]},clear(){for(let t=0;t<this.selected.length;t++){const e=this.items.indexOf(this.selected[t]);this.items.splice(e,1)}this.selected=[],this.dialogDelete=!1},closeSnackBar(){this.snackbar=!1,this.clearAll()},deleteItem(t){const e=this.items.indexOf(t);this.items.splice(e,1)},async save(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=JSON.stringify({BranchId:this.auth.user.BranchId,BookId:this.BookId,memo:this.memo,date:this.date,data:this.formatItems}),s=await Mt.a.post("/api/bookkeeping/general-journal",a,t),o=s.data;o||console.log("Failed"),this.snackbar=!0,this.clearAll(),this.statusId++,this.hidden=!1}catch(e){this.getError(e.response.data)}}},computed:{...Object(B["c"])(["auth"]),formatItems(){const t=this.items.map(t=>{return t.debit.length<=0?t.debit=null:t.credit.length<=0&&(t.credit=null),t});return t},totalDebit(){const t=this.items.map(t=>{return+t.debit});return t},totalCredit(){const t=this.items.map(t=>{return+t.credit});return t},sumDebit(){let t=0;for(let e=0;e<this.totalDebit.length;e++)t+=this.totalDebit[e];return t},sumCredit(){let t=0;for(let e=0;e<this.totalCredit.length;e++)t+=this.totalCredit[e];return t},isNotTheSame(){return this.sumDebit!==this.sumCredit},indexedItems(){return this.items.map((t,e)=>({id:e,...t}))},selectedItems(){return this.items<=0},deleteItems(){return this.selected<=0}}},ha=ua,pa=(a("6902"),a("2e4b")),va=a("3a2f"),fa=Object(u["a"])(ha,Ke,Qe,!1,null,"6d7689ed",null),ba=fa.exports;p()(fa,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCol:he["a"],VDataTable:Oe["a"],VDatePicker:pa["a"],VDialog:H["a"],VFlex:jt["a"],VIcon:Z["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VSnackbar:N["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"],VTooltip:va["a"]});var ga={name:"GeneralJournalPage",components:{GeneralJournal:ba,RestrictedResource:Zt}},Ca=ga,_a=Object(u["a"])(Ca,He,Ze,!1,null,"ffc4167c",null),xa=_a.exports,ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CashReceipt")],1)},wa=[],Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"OR number"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{outlined:"",label:"Description"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"primary",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[a("span",[t._v("Add")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("CashReceiptDialog",{on:{"add-transaction":t.add,"close-dialog":function(e){t.dialog=!1}}})],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.deleteItems},attrs:{color:"red",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("delete")])],1)]}}],null,!0)},[a("span",[t._v("Delete")])])]}}]),model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Delete")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to delete?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialogDelete=!1}}},[t._v("\n                      Cancel\n                    ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.clear}},[t._v("\n                      Delete\n                    ")])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.selectedItems},attrs:{color:"success",dark:"",fab:"",small:""},on:{click:t.save}},s),[a("v-icon",[t._v("save")])],1)]}}])},[a("span",[t._v("Save")])])],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"show-select":"","item-key":"id","hide-default-footer":"","disable-sort":"",headers:t.headers,items:t.indexedItems,"no-data-text":"Add Cash Receipt Book Transactions"},scopedSlots:t._u([{key:"body.append",fn:function(e){e.headers;return[a("tr",[a("td"),a("td",[a("span",{staticClass:"font-weight-bold"},[t._v("Total:")])]),a("td",[0===t.totalCash?a("span"):a("span",[t._v(t._s(t.totalCash))])])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("RecordStatus",{attrs:{hidden:t.hidden,statusId:t.statusId},on:{"close-status":function(e){t.hidden=!0}}})],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      Saved!\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("\n        Close\n      ")])],1)],1)],1)},ya=[],Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n      Please stand by\n      "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-combobox",{attrs:{items:t.accounts,"item-text":"name",label:"Select Account Name","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isIncomplete},on:{click:t.add}},[t._v("Add")])],1)],1)],1)],1)},Ba=[],ja={name:"CashReceiptDialog",data(){return{loading:!1,selected:"",amount:"",accounts:[]}},methods:{...Object(B["b"])("errors",["getError"]),add(){const t={AccountId:this.selected.id,AccountName:this.selected.name,debit:null,credit:this.amount};this.$emit("add-transaction",t),this.$emit("close-dialog"),this.selected="",this.amount=""}},async mounted(){try{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};this.loading=!0;const a=await Mt.a.get("/api/accounts",e);this.accounts=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}},computed:{...Object(B["c"])(["auth"]),isIncomplete(){return""===this.selected||""===this.amount}}},Ta=ja,Sa=Object(u["a"])(Ta,Va,Ba,!1,null,"731e36d5",null),Aa=Sa.exports;p()(Sa,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VCombobox:ca["a"],VContainer:Bt["a"],VForm:g["a"],VProgressLinear:aa["a"],VRow:pe["a"],VTextField:_["a"]});var Fa={name:"CashReceipt",components:{CashReceiptDialog:Aa,RecordStatus:oa},data(){return{selected:[],dialogDelete:!1,snackbar:!1,timeout:2e3,menu:!1,date:(new Date).toISOString().substr(0,10),BookId:2,dialog:!1,num:"",memo:"",headers:[{text:"AccountName",value:"AccountName"},{text:"Amount",value:"credit"}],items:[],hidden:!0,statusId:0}},methods:{...Object(B["b"])("errors",["getError"]),add(t){this.items=[...this.items,t]},async save(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a={AccountId:11110,debit:this.totalCash,credit:null},s=[a,...this.items],o=JSON.stringify({BranchId:this.auth.user.BranchId,BookId:this.BookId,memo:this.memo,num:this.num,date:this.date,data:s}),r=await Mt.a.post("/api/bookkeeping/general-journal",o,t),n=r.data;n||console.log("Failed"),this.snackbar=!0,this.clearAll(),this.statusId++,this.hidden=!1}catch(e){this.getError(e.response.data)}},clearAll(){this.memo="",this.num="",this.items=[]},clear(){for(let t=0;t<this.selected.length;t++){const e=this.items.indexOf(this.selected[t]);this.items.splice(e,1)}this.selected=[],this.dialogDelete=!1},closeSnackBar(){this.snackbar=!1,this.clearAll()}},computed:{...Object(B["c"])(["auth"]),totalCash(){let t=this.items.map(t=>{let e=parseFloat(t.credit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},indexedItems(){return this.items.map((t,e)=>({id:e,...t}))},selectedItems(){return this.items<=0},deleteItems(){return this.selected<=0}}},Ia=Fa,Oa=(a("4a24"),Object(u["a"])(Ia,Da,ya,!1,null,"62625266",null)),Ma=Oa.exports;p()(Oa,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCol:he["a"],VDataTable:Oe["a"],VDatePicker:pa["a"],VDialog:H["a"],VFlex:jt["a"],VIcon:Z["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VSnackbar:N["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"],VTooltip:va["a"]});var Ea={name:"CashReceiptPage",components:{CashReceipt:Ma}},$a=Ea,Ra=Object(u["a"])($a,ka,wa,!1,null,"7fdc220c",null),La=Ra.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CashDisbursement")],1)},Na=[],Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Check number"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{outlined:"",label:"Description"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"primary",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[a("span",[t._v("Add")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("CashDisbursementDialog",{on:{"add-transaction":t.add,"close-dialog":function(e){t.dialog=!1}}})],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.deleteItems},attrs:{color:"red",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("delete")])],1)]}}],null,!0)},[a("span",[t._v("Delete")])])]}}]),model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Delete")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to delete?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialogDelete=!1}}},[t._v("\n                      Cancel\n                    ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.clear}},[t._v("\n                      Delete\n                    ")])],1)],1)],1)],1),a("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"1"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({class:{"disable-events":t.selectedItems},attrs:{color:"success",dark:"",fab:"",small:""},on:{click:t.save}},s),[a("v-icon",[t._v("save")])],1)]}}])},[a("span",[t._v("Save")])])],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"show-select":"","item-key":"id","hide-default-footer":"","disable-sort":"",headers:t.headers,items:t.indexedItems,"no-data-text":"Add Cash Disbursement Book Transactions"},scopedSlots:t._u([{key:"body.append",fn:function(e){e.headers;return[a("tr",[a("td"),a("td",[a("span",{staticClass:"font-weight-bold"},[t._v("Total:")])]),a("td",[0===t.totalCash?a("span"):a("span",[t._v(t._s(t.totalCash))])])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("RecordStatus",{attrs:{hidden:t.hidden,statusId:t.statusId},on:{"close-status":function(e){t.hidden=!0}}})],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      Saved!\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("\n        Close\n      ")])],1)],1)],1)},Ua=[],za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n    Please stand by\n    "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-combobox",{attrs:{items:t.accounts,"item-text":"name",label:"Select Account Name","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isIncomplete},on:{click:t.add}},[t._v("Add")])],1)],1)],1)},Ya=[],Ja={name:"CashDisbursementDialog",data(){return{loading:!1,selected:"",amount:"",accounts:[]}},methods:{...Object(B["b"])("errors",["getError"]),add(){const t={AccountId:this.selected.id,AccountName:this.selected.name,debit:this.amount,credit:null};this.$emit("add-transaction",t),this.$emit("close-dialog"),this.selected="",this.amount=""}},async mounted(){try{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};this.loading=!0;const a=await Mt.a.get("/api/accounts",e);this.accounts=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}},computed:{...Object(B["c"])(["auth"]),isIncomplete(){return""===this.selected||""===this.amount}}},qa=Ja,Ha=Object(u["a"])(qa,za,Ya,!1,null,"62619798",null),Za=Ha.exports;p()(Ha,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VCombobox:ca["a"],VContainer:Bt["a"],VForm:g["a"],VProgressLinear:aa["a"],VRow:pe["a"],VTextField:_["a"]});var Ka={name:"CashDisbursement",components:{CashDisbursementDialog:Za,RecordStatus:oa},data(){return{selected:[],dialogDelete:!1,snackbar:!1,timeout:2e3,menu:!1,date:(new Date).toISOString().substr(0,10),BookId:3,dialog:!1,num:"",memo:"",headers:[{text:"AccountName",value:"AccountName"},{text:"Amount",value:"debit"}],items:[],hidden:!0,statusId:0}},methods:{...Object(B["b"])("errors",["getError"]),add(t){this.items=[...this.items,t]},async save(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a={AccountId:11130,debit:null,credit:this.totalCash},s=[...this.items,a],o=JSON.stringify({BranchId:this.auth.user.BranchId,BookId:this.BookId,memo:this.memo,num:this.num,date:this.date,data:s}),r=await Mt.a.post("/api/bookkeeping/general-journal",o,t),n=r.data;n||console.log("Failed"),this.snackbar=!0,this.clearAll(),this.statusId++,this.hidden=!1}catch(e){this.getError(e.response.data)}},clearAll(){this.memo="",this.num="",this.items=[]},clear(){for(let t=0;t<this.selected.length;t++){const e=this.items.indexOf(this.selected[t]);this.items.splice(e,1)}this.selected=[],this.dialogDelete=!1},closeSnackBar(){this.snackbar=!1,this.clearAll()}},computed:{...Object(B["c"])(["auth"]),totalCash(){let t=this.items.map(t=>{let e=parseFloat(t.debit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},indexedItems(){return this.items.map((t,e)=>({id:e,...t}))},selectedItems(){return this.items<=0},deleteItems(){return this.selected<=0}}},Qa=Ka,Wa=(a("6bdd"),Object(u["a"])(Qa,Ga,Ua,!1,null,"06edb897",null)),Xa=Wa.exports;p()(Wa,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCol:he["a"],VDataTable:Oe["a"],VDatePicker:pa["a"],VDialog:H["a"],VFlex:jt["a"],VIcon:Z["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VSnackbar:N["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"],VTooltip:va["a"]});var ts={name:"CashDisbursementPage",components:{CashDisbursement:Xa}},es=ts,as=Object(u["a"])(es,Pa,Na,!1,null,"2f23f5ec",null),ss=as.exports,os=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("SalesBook")],1)},rs=[],ns=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Sales slip number"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{outlined:"",label:"Customer"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{persistent:"","max-width":"400px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"primary",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[a("span",[t._v("Add")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("SalesBookDialog",{on:{"add-transaction":t.add,"close-dialog":function(e){t.dialog=!1}}})],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.deleteItems},attrs:{color:"red",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("delete")])],1)]}}],null,!0)},[a("span",[t._v("Delete")])])]}}]),model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Delete")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to delete?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialogDelete=!1}}},[t._v("\n                      Cancel\n                    ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.clear}},[t._v("\n                      Delete\n                    ")])],1)],1)],1)],1),a("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"1"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({class:{"disable-events":t.selectedItems},attrs:{color:"success",dark:"",fab:"",small:""},on:{click:t.save}},s),[a("v-icon",[t._v("save")])],1)]}}])},[a("span",[t._v("Save")])])],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"show-select":"","item-key":"id","hide-default-footer":"","disable-sort":"",headers:t.headers,items:t.indexedItems,"no-data-text":"Add Sales Book Transactions"},scopedSlots:t._u([{key:"body.append",fn:function(e){e.headers;return[a("tr",[a("td"),a("td",[a("span",{staticClass:"font-weight-bold"},[t._v("Total:")])]),a("td",[0===t.totalCash?a("span"):a("span",[t._v(t._s(t.totalCash))])])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("RecordStatus",{attrs:{hidden:t.hidden,statusId:t.statusId},on:{"close-status":function(e){t.hidden=!0}}})],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      Saved!\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("\n        Close\n      ")])],1)],1)],1)},is=[],ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n    Please stand by\n    "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isIncomplete},on:{click:t.add}},[t._v("Add")])],1)],1)],1)},cs=[],ds={name:"SalesBookDialog",data(){return{loading:!1,selected:"",amount:"",AccountId:40310,AccountName:"40310-Sales"}},methods:{...Object(B["b"])("errors",["getError"]),add(){const t={AccountId:this.AccountId,AccountName:this.AccountName,debit:null,credit:this.amount};this.$emit("add-transaction",t),this.$emit("close-dialog"),this.selected="",this.amount=""}},computed:{...Object(B["c"])(["auth"]),isIncomplete(){return""===this.amount}}},ms=ds,us=Object(u["a"])(ms,ls,cs,!1,null,"d8f8dc96",null),hs=us.exports;p()(us,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VContainer:Bt["a"],VForm:g["a"],VProgressLinear:aa["a"],VRow:pe["a"],VTextField:_["a"]});var ps={name:"SalesBook",components:{SalesBookDialog:hs,RecordStatus:oa},data(){return{selected:[],dialogDelete:!1,snackbar:!1,timeout:2e3,menu:!1,date:(new Date).toISOString().substr(0,10),BookId:5,dialog:!1,num:"",memo:"",headers:[{text:"AccountName",value:"AccountName"},{text:"Amount",value:"credit"}],items:[],hidden:!0,statusId:0}},methods:{...Object(B["b"])("errors",["getError"]),add(t){this.items=[...this.items,t]},async save(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a={AccountId:11250,debit:this.totalCash,credit:null,date:this.date},s=[a,...this.items],o=JSON.stringify({BranchId:this.auth.user.BranchId,BookId:this.BookId,memo:this.memo,num:this.num,date:this.date,data:s}),r=await Mt.a.post("/api/bookkeeping/general-journal",o,t),n=r.data;n||console.log("Failed"),this.snackbar=!0,this.clearAll(),this.statusId++,this.hidden=!1}catch(e){this.getError(e.response.data)}},clearAll(){this.memo="",this.num="",this.items=[]},clear(){for(let t=0;t<this.selected.length;t++){const e=this.items.indexOf(this.selected[t]);this.items.splice(e,1)}this.selected=[],this.dialogDelete=!1},closeSnackBar(){this.snackbar=!1,this.clearAll()}},computed:{...Object(B["c"])(["auth"]),totalCash(){let t=this.items.map(t=>{let e=parseFloat(t.credit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},indexedItems(){return this.items.map((t,e)=>({id:e,...t}))},selectedItems(){return this.items<=0},deleteItems(){return this.selected<=0}}},vs=ps,fs=(a("b778"),Object(u["a"])(vs,ns,is,!1,null,"1ff8f27f",null)),bs=fs.exports;p()(fs,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCol:he["a"],VDataTable:Oe["a"],VDatePicker:pa["a"],VDialog:H["a"],VFlex:jt["a"],VIcon:Z["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VSnackbar:N["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"],VTooltip:va["a"]});var gs={name:"SalesBookPage",components:{SalesBook:bs}},Cs=gs,_s=Object(u["a"])(Cs,os,rs,!1,null,"6207652c",null),xs=_s.exports,ks=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PurchaseBook")],1)},ws=[],Ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{outlined:"",label:"Vendor"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"primary",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[a("span",[t._v("Add")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("PurchaseBookDialog",{on:{"add-transaction":t.add,"close-dialog":function(e){t.dialog=!1}}})],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",class:{"disable-events":t.deleteItems},attrs:{color:"red",dark:"",fab:"",small:""}},Object.assign({},s,o)),[a("v-icon",[t._v("delete")])],1)]}}],null,!0)},[a("span",[t._v("Delete")])])]}}]),model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Delete")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to delete?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialogDelete=!1}}},[t._v("\n                      Cancel\n                    ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.clear}},[t._v("\n                      Delete\n                    ")])],1)],1)],1)],1),a("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"1"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({class:{"disable-events":t.selectedItems},attrs:{color:"success",dark:"",fab:"",small:""},on:{click:t.save}},s),[a("v-icon",[t._v("save")])],1)]}}])},[a("span",[t._v("Save")])])],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"show-select":"","item-key":"id","hide-default-footer":"","disable-sort":"",headers:t.headers,items:t.indexedItems,"no-data-text":"Add Purchase Book Transactions"},scopedSlots:t._u([{key:"body.append",fn:function(e){e.headers;return[a("tr",[a("td"),a("td",[a("span",{staticClass:"font-weight-bold"},[t._v("Total:")])]),a("td",[0===t.totalCash?a("span"):a("span",[t._v(t._s(t.totalCash))])])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("RecordStatus",{attrs:{hidden:t.hidden,statusId:t.statusId},on:{"close-status":function(e){t.hidden=!0}}})],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      Saved!\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("\n        Close\n      ")])],1)],1)],1)},ys=[],Vs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n      Please stand by\n      "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-combobox",{attrs:{items:t.accounts,"item-text":"name",label:"Select Account Name","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isIncomplete},on:{click:t.add}},[t._v("Add")])],1)],1)],1)],1)},Bs=[],js={name:"PurchaseBookDialog",data(){return{loading:!1,selected:"",amount:"",accounts:[]}},methods:{...Object(B["b"])("errors",["getError"]),add(){const t={AccountId:this.selected.id,AccountName:this.selected.name,debit:this.amount,credit:null};this.$emit("add-transaction",t),this.$emit("close-dialog"),this.selected="",this.amount=""}},async mounted(){try{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};this.loading=!0;const a=await Mt.a.get("/api/accounts",e);this.accounts=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}},computed:{...Object(B["c"])(["auth"]),isIncomplete(){return""===this.selected||""===this.amount}}},Ts=js,Ss=Object(u["a"])(Ts,Vs,Bs,!1,null,"0aa8ffe6",null),As=Ss.exports;p()(Ss,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VCombobox:ca["a"],VContainer:Bt["a"],VForm:g["a"],VProgressLinear:aa["a"],VRow:pe["a"],VTextField:_["a"]});var Fs={name:"PurchaseBook",components:{PurchaseBookDialog:As,RecordStatus:oa},data(){return{selected:[],dialogDelete:!1,snackbar:!1,timeout:2e3,menu:!1,date:(new Date).toISOString().substr(0,10),BookId:4,dialog:!1,memo:"",headers:[{text:"AccountName",value:"AccountName"},{text:"Amount",value:"debit"}],items:[],hidden:!0,statusId:0}},methods:{...Object(B["b"])("errors",["getError"]),add(t){this.items=[...this.items,t]},async save(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a={AccountId:21210,debit:null,credit:this.totalCash},s=[...this.items,a],o=JSON.stringify({BranchId:this.auth.user.BranchId,BookId:this.BookId,memo:this.memo,num:this.num,date:this.date,data:s}),r=await Mt.a.post("/api/bookkeeping/general-journal",o,t),n=r.data;n||console.log("Failed"),this.snackbar=!0,this.clearAll(),this.statusId++,this.hidden=!1}catch(e){this.getError(e.response.data)}},clearAll(){this.memo="",this.items=[]},clear(){for(let t=0;t<this.selected.length;t++){const e=this.items.indexOf(this.selected[t]);this.items.splice(e,1)}this.selected=[],this.dialogDelete=!1},closeSnackBar(){this.snackbar=!1,this.clearAll()}},computed:{...Object(B["c"])(["auth"]),totalCash(){let t=this.items.map(t=>{let e=parseFloat(t.debit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},indexedItems(){return this.items.map((t,e)=>({id:e,...t}))},selectedItems(){return this.items<=0},deleteItems(){return this.selected<=0}}},Is=Fs,Os=(a("09eb"),Object(u["a"])(Is,Ds,ys,!1,null,"2ce3d036",null)),Ms=Os.exports;p()(Os,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCol:he["a"],VDataTable:Oe["a"],VDatePicker:pa["a"],VDialog:H["a"],VFlex:jt["a"],VIcon:Z["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VSnackbar:N["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"],VTooltip:va["a"]});var Es={name:"PurchaseBookPage",components:{PurchaseBook:Ms}},$s=Es,Rs=Object(u["a"])($s,ks,ws,!1,null,"c29d02bc",null),Ls=Rs.exports,Ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TransactionList")],1)},Ns=[],Gs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-combobox",{attrs:{items:t.prependBook,"item-text":"name",label:"Select Book","return-object":""},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}}),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{outlined:"","append-icon":"search",label:"Filter transactions","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Delete")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to delete?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n                  Cancel\n                ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("\n                  Delete\n                ")])],1)],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"item-key":"TransId",headers:t.headers,items:t.formatTransactions,"items-per-page":5,search:t.search,loading:t.loading,"loading-text":"Loading..."},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{dark:"",small:"",color:"green"},on:{click:function(e){return t.goToItem(s)}}},[a("v-icon",{attrs:{small:""}},[t._v("search")])],1),a("v-btn",{staticClass:"mx-1",attrs:{dark:"",color:"blue",small:""},on:{click:function(e){return t.editItem(s)}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("edit")])],1),a("v-btn",{staticClass:"mx-1",attrs:{dark:"",small:"",color:"red"},on:{click:function(e){return t.prepareDelete(s)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)]}}])})],1)],1),a("v-snackbar",{attrs:{bottom:"bottom",color:"red",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n        Deleted!\n        "),a("v-btn",{attrs:{color:"white",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)],1)],1)},Us=[],zs=a("c1df"),Ys=a.n(zs),Js={name:"TransactionList",data(){return{select:{id:0,name:"All"},books:[],search:"",transactions:[],loading:!1,dialog:!1,headers:[{text:"Date",value:"date"},{text:"TransactionID",value:"id"},{text:"Memo",value:"memo"},{text:"Actions",value:"action",align:"center",sortable:!1}],timeout:2e3,snackbar:!1,itemToDelete:""}},methods:{...Object(B["b"])("errors",["getError"]),prepareDelete(t){this.itemToDelete=t,this.dialog=!0},async deleteItem(){const t=this.transactions.indexOf(this.itemToDelete);try{const a=await Mt.a.delete(`/api/bookkeeping/transactions/${this.itemToDelete.id}`);console.log(a.data),this.transactions.splice(t,1),this.dialog=!1,this.snackbar=!0}catch(e){this.getError(e.response.data)}},goToItem(t){this.$router.push(`/bookkeeper/transactions/${t.id}`)}},computed:{...Object(B["c"])(["auth"]),prependBook(){const t=[{id:0,name:"All"},...this.books];return t},formatTransactions(){return this.transactions.map(t=>{return t.date=Ys()(t.date).format("MMM DD"),t})},deleteItems(){return this.selected<=0}},watch:{async select(){if(0===this.select.id){const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Mt.a.get(`/api/bookkeeping/transactions/branch/${this.auth.user.BranchId}`,e);this.loading=!1,this.transactions=a.data}catch(t){this.loading=!1,this.getError(t.response.data)}}else{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Mt.a.get(`/api/bookkeeping/transactions/book/${this.auth.user.BranchId}/${this.select.id}`,e);this.loading=!1,this.transactions=a.data}catch(t){this.loading=!1,this.getError(t.response.data)}}}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get("/api/books",t);this.loading=!0;const s=await Mt.a.get(`/api/bookkeeping/transactions/branch/${this.auth.user.BranchId}`,t);this.books=a.data,this.loading=!1,this.transactions=s.data}catch(e){this.getError(e.response.data)}}},qs=Js,Hs=(a("e951"),Object(u["a"])(qs,Gs,Us,!1,null,"06056d64",null)),Zs=Hs.exports;p()(Hs,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCol:he["a"],VCombobox:ca["a"],VDataTable:Oe["a"],VDialog:H["a"],VFlex:jt["a"],VIcon:Z["a"],VLayout:Tt["a"],VRow:pe["a"],VSnackbar:N["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Ks={name:"TransactionListPage",components:{TransactionList:Zs}},Qs=Ks,Ws=Object(u["a"])(Qs,Ps,Ns,!1,null,"a3e2d044",null),Xs=Ws.exports,to=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TransactionFilter")],1)},eo=[],ao=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Select Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Num",readonly:""},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-text-field",{attrs:{outlined:"",label:"Description",readonly:""},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("TransactionFilterDialog",{attrs:{transaction:t.propTransaction},on:{"close-dialog":t.closeUpdateDialog,updated:t.transactionUpdated}})],1),a("v-simple-table",{staticClass:"mb-10",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Account")]),a("th",{staticClass:"text-left"},[t._v("Debit")]),a("th",{staticClass:"text-left"},[t._v("Credit")]),a("th",{staticClass:"text-left"},[t._v("Action")])])]),a("tbody",t._l(t.formatTransactions,function(e,s){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.name))]),a("td",[0==e.debit?a("p"):a("p",[t._v(t._s(e.debit))])]),a("td",[0==e.credit?a("p"):a("p",[t._v(t._s(e.credit))])]),a("td",[a("v-btn",{staticClass:"mt-0",attrs:{dark:"","x-small":"",color:"primary"},on:{click:function(e){return t.openUpdateDialog(s)}}},[a("v-icon",{attrs:{small:""}},[t._v("edit")])],1)],1)])}),0)]},proxy:!0}])})],1)],1),a("v-snackbar",{attrs:{bottom:"bottom",color:"primary",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n        Updated!\n        "),a("v-btn",{attrs:{color:"white",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)],1)],1)},so=[],oo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n      Please stand by\n      "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-combobox",{attrs:{items:t.accounts,"item-text":"name",label:"Select Account Name","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Debit"},model:{value:t.transaction.debit,callback:function(e){t.$set(t.transaction,"debit",e)},expression:"transaction.debit"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Credit"},model:{value:t.transaction.credit,callback:function(e){t.$set(t.transaction,"credit",e)},expression:"transaction.credit"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDialog}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.updateTransaction}},[t._v("Update")])],1)],1)],1)],1)},ro=[],no={name:"TransactionFilterDialog",props:["transaction"],data(){return{loading:!1,selected:"",accounts:[]}},methods:{...Object(B["b"])("errors",["getError"]),closeDialog(){this.$emit("close-dialog"),this.selected=""},async updateTransaction(){const t={headers:{"Content-Type":"application/json"}},e={AccountId:this.selected.id,debit:this.transaction.debit,credit:this.transaction.credit};try{const s=await Mt.a.put(`/api/bookkeeping/transactions/update/${this.transaction.id}`,e,t);console.log(s.data),this.$emit("updated"),this.closeDialog()}catch(a){this.getError(a.response.data.msg),this.closeDialog()}}},computed:{...Object(B["c"])(["auth"])},async mounted(){this.selected={id:this.transaction.account_id,name:this.transaction.name};try{const e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};this.loading=!0;const a=await Mt.a.get("/api/accounts",e);this.accounts=a.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}},watch:{transaction(){this.selected={id:this.transaction.account_id,name:this.transaction.name}}}},io=no,lo=Object(u["a"])(io,oo,ro,!1,null,null,null),co=lo.exports;p()(lo,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VCombobox:ca["a"],VContainer:Bt["a"],VForm:g["a"],VProgressLinear:aa["a"],VRow:pe["a"],VTextField:_["a"]});var mo={name:"TransactionFilter",components:{TransactionFilterDialog:co},data(){return{dialog:!1,date:"",num:"",memo:"",search:"",transactions:[],loading:!1,headers:[{text:"Account",value:"name"},{text:"Debit",value:"debit"},{text:"Credit",value:"credit"}],propTransaction:"",update:0,timeout:2e3,snackbar:!1}},methods:{openUpdateDialog(t){this.propTransaction=this.transactions[t],this.dialog=!0},closeUpdateDialog(){this.dialog=!1,this.propTransaction=""},transactionUpdated(){this.update++,this.snackbar=!0},formatDate(t){return Ys()(t).format("MMM DD YYYY")},formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{formatTransactions(){return this.transactions.map(t=>{return t.date=Ys()(t.date).format("MMM DD"),t})},totalDebit(){let t=this.transactions.map(t=>{let e=parseFloat(t.debit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(a)},totalCredit(){let t=this.transactions.map(t=>{let e=parseFloat(t.credit);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(a)}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Mt.a.get(`/api/bookkeeping/transaction-records/trans_id/${this.$route.params.transId}`),s=await Mt.a.get(`/api/bookkeeping/transactions/trans_id/${this.$route.params.transId}`,t);this.loading=!1,this.transactions=a.data,this.date=this.formatDate(s.data[0].date),this.num=s.data[0].num,this.memo=s.data[0].memo}catch(e){this.getError(e.response.data)}},watch:{async update(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Mt.a.get(`/api/bookkeeping/transaction-records/trans_id/${this.$route.params.transId}`),s=await Mt.a.get(`/api/bookkeeping/transactions/trans_id/${this.$route.params.transId}`,t);this.loading=!1,this.transactions=a.data,this.date=this.formatDate(s.data[0].date),this.num=s.data[0].num,this.memo=s.data[0].memo}catch(e){this.getError(e.response.data)}}}},uo=mo,ho=a("1f4f"),po=Object(u["a"])(uo,ao,so,!1,null,"a0417edc",null),vo=po.exports;p()(po,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCol:he["a"],VDialog:H["a"],VFlex:jt["a"],VIcon:Z["a"],VLayout:Tt["a"],VRow:pe["a"],VSimpleTable:ho["a"],VSnackbar:N["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var fo={name:"TransactionFilterPage",components:{TransactionFilter:vo}},bo=fo,go=Object(u["a"])(bo,to,eo,!1,null,"1cbb0aac",null),Co=go.exports,_o=[{path:"/bookkeeper/general-journal",name:"general-journal-bookkeeper",component:xa,meta:{title:"General Journal"}},{path:"/bookkeeper/cash-receipt",name:"cash-receipt-bookkeeper",component:La,meta:{title:"Cash Receipt Books"}},{path:"/bookkeeper/cash-disbursement",name:"cash-disbursement-bookkeeper",component:ss,meta:{title:"Cash Disbursement Books"}},{path:"/bookkeeper/sales-book",name:"sales-book-bookkeeper",component:xs,meta:{title:"Sales Book"}},{path:"/bookkeeper/purchase-book",name:"purchase-book-bookkeeper",component:Ls,meta:{title:"Purchase Book"}},{path:"/bookkeeper/transactions",name:"transactions-bookkeeper",component:Xs,meta:{title:"Transactions"}},{path:"/bookkeeper/transactions/:transId",name:"transactions-filter",component:Co,meta:{title:"Transactions"}}],xo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.$store.state.auth.isAuthenticated||"bookkeeper"!==t.$store.state.auth.user.account?a("div",[a("RestrictedResource")],1):a("div",[a("JournalReport")],1)])},ko=[],wo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"journal-report",attrs:{id:"journal"}},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-menu",{ref:"fromMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"From","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.books,"item-text":"name",label:"Select Book","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"5"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"mx-12",attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[null===t.selected||""===t.selected||1===t.selected.id?a("div",[a("GeneralJournalComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems}})],1):2===t.selected.id?a("div",[a("CashReceiptComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems}})],1):3===t.selected.id?a("div",[a("CashDisbursementComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems}})],1):4===t.selected.id?a("div",[a("PurchaseComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems}})],1):5===t.selected.id?a("div",[a("SalesComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems}})],1):t._e()])],1)],1)],1)],1)],1)},Do=[],yo=a("d67e"),Vo=a.n(yo),Bo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"general-journal"},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.selectedBranch.branchName)+"\n      ")]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),t._m(0),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])]),a("hr")]),a("v-row",{staticClass:"ml-4"},[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Date")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Memo")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Account")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Credit")])])],1),a("hr"),t._l(t.formatItems,function(e){return a("div",{key:e.trans_id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[null===e.debit?a("span"):a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.date))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[null===e.debit?a("span"):a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.memo))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.accountname))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[0===e.debit?a("p",{staticClass:"caption font-weight-medium text-right"}):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.debit))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[0===e.credit?a("p",{staticClass:"caption font-weight-medium text-right"}):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.credit))])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Total")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(t.formatBalance(t.totalDebit)))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(t.formatBalance(t.totalCredit)))])])],1)],2)},jo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-1"},[t._v("General Journal")])])}],To={name:"GeneralJournalComponent",props:["formatFromDate","formatToDate","formatItems","selectedBranch"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(B["c"])(["auth"]),totalDebit(){let t=this.formatItems.map(t=>{return null===t.debit&&(t.debit=0),t}),e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalCredit(){let t=this.formatItems.map(t=>{return null===t.credit&&(t.credit=0),t}),e=t.map(t=>{let e=parseFloat(t.credit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s}}},So=To,Ao=Object(u["a"])(So,Bo,jo,!1,null,"36cb7d2a",null),Fo=Ao.exports;p()(Ao,{VCol:he["a"],VRow:pe["a"]});var Io=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"general-journal"},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.selectedBranch.branchName)+"\n      ")]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),t._m(0),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])]),a("hr")]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Account Credited")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Cash Received")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Sales Credit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("L/R Credit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("A/R Credit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Others")])])],1),a("hr"),t._l(t.filterCredits,function(e,s){return a("div",{key:e.trans_id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[(s+1)%9===0?a("p",{staticClass:"html2pdf__page-break"},[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.accountname))])]):a("p",[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.accountname))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.credit))])]),a("v-col",{attrs:{cols:"12",md:"2"}},["sales"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.credit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["loans"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.credit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["a/r"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.credit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["others"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.credit)+"\n        ")])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Total")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalCash))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalSales))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalLoans))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalAR))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalOthers))+"\n      ")])])],1)],2)},Oo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Cash Receipts Journal")])])}],Mo={name:"CashReceiptComponent",props:["formatFromDate","formatToDate","formatItems","selectedBranch"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(B["c"])(["auth"]),filterCredits(){const t=this.formatItems.filter(t=>{return null===t.debit}),e=t.map(t=>{return t.account_id>=40300&&t.account_id<=40390?t.tags="sales":t.account_id>=11210&&t.account_id<=11240?t.tags="loans":t.account_id>=11250&&t.account_id<=11280?t.tags="a/r":t.tags="others",t});return e},totalCash(){let t=this.filterCredits.map(t=>{let e=parseFloat(t.credit);return parseFloat(this.formatBalance(e))});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},totalSales(){const t=this.filterCredits.filter(t=>{return"sales"===t.tags});let e=t.map(t=>{let e=parseFloat(t.credit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalLoans(){const t=this.filterCredits.filter(t=>{return"loans"===t.tags});let e=t.map(t=>{let e=parseFloat(t.credit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalAR(){const t=this.filterCredits.filter(t=>{return"a/r"===t.tags});let e=t.map(t=>{let e=parseFloat(t.credit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalOthers(){const t=this.filterCredits.filter(t=>{return"others"===t.tags});let e=t.map(t=>{let e=parseFloat(t.credit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s}}},Eo=Mo,$o=Object(u["a"])(Eo,Io,Oo,!1,null,"723f2477",null),Ro=$o.exports;p()($o,{VCol:he["a"],VRow:pe["a"]});var Lo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.selectedBranch.branchName)+"\n      ")]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),t._m(0),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])]),a("hr")]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Account Debited")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Cash Paid")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("A/P Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Salaries Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Expenses Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Others")])])],1),a("hr"),t._l(t.filterDebits,function(e,s){return a("div",{key:e.trans_id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[(s+1)%9===0?a("p",{staticClass:"html2pdf__page-break"},[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.accountname))])]):a("p",[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.accountname))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.debit))])]),a("v-col",{attrs:{cols:"12",md:"2"}},["a/p"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["salaries"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["expenses"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["others"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Total")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalCash))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalAP))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalSalaries))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalExpenses))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalOthers))+"\n      ")])])],1)],2)},Po=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Cash Disbursements Journal")])])}],No={name:"CashDisbursementComponent",props:["formatFromDate","formatToDate","formatItems","selectedBranch"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(B["c"])(["auth"]),filterDebits(){const t=this.formatItems.filter(t=>{return null===t.credit}),e=t.map(t=>{return t.account_id>=21210&&t.account_id<=21220?t.tags="a/p":61210===t.account_id||62210===t.account_id||72210===t.account_id||73210===t.account_id?t.tags="salaries":t.account_id>=7e4&&t.account_id<8e4?t.tags="expenses":t.tags="others",t});return e},totalCash(){let t=this.filterDebits.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},totalAP(){const t=this.filterDebits.filter(t=>{return"a/p"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalSalaries(){const t=this.filterDebits.filter(t=>{return"salaries"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalExpenses(){const t=this.filterDebits.filter(t=>{return"expenses"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalOthers(){const t=this.filterDebits.filter(t=>{return"others"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s}}},Go=No,Uo=Object(u["a"])(Go,Lo,Po,!1,null,"b5c6d578",null),zo=Uo.exports;p()(Uo,{VCol:he["a"],VRow:pe["a"]});var Yo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.selectedBranch.branchName)+"\n      ")]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),t._m(0),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])]),a("hr")]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Vendor")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("A/P Credit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Inventory Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Office Supplies Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Others")])])],1),a("hr"),t._l(t.filterDebits,function(e,s){return a("div",{key:e.trans_id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[(s+1)%9===0?a("p",{staticClass:"html2pdf__page-break"},[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.memo))])]):a("p",[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.memo))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.debit))])]),a("v-col",{attrs:{cols:"12",md:"2"}},["inventory"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["office"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},["others"!==e.tags?a("p"):a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n          "+t._s(e.debit)+"\n        ")])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Total")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalDebit))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalInventory))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalOffice))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalOthers))+"\n      ")])])],1)],2)},Jo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Purchases Journal")])])}],qo={name:"PurchaseComponent",props:["formatFromDate","formatToDate","formatItems","selectedBranch"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(B["c"])(["auth"]),filterDebits(){const t=this.formatItems.filter(t=>{return null===t.credit}),e=t.map(t=>{return t.account_id>=11510&&t.account_id<=11590?t.tags="inventory":73370===t.account_id?t.tags="office":t.tags="others",t});return e},totalDebit(){let t=this.filterDebits.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},totalInventory(){const t=this.filterDebits.filter(t=>{return"inventory"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalOffice(){const t=this.filterDebits.filter(t=>{return"office"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s},totalOthers(){const t=this.filterDebits.filter(t=>{return"others"===t.tags});let e=t.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const a=t=>t.reduce((t,e)=>t+e,0),s=a(e);return s}}},Ho=qo,Zo=Object(u["a"])(Ho,Yo,Jo,!1,null,"68f019ca",null),Ko=Zo.exports;p()(Zo,{VCol:he["a"],VRow:pe["a"]});var Qo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v("\n        "+t._s(t.selectedBranch.branchName)+"\n      ")]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),t._m(0),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])]),a("hr")]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Customer")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("A/R Debit")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("Sales Credit")])])],1),a("hr"),t._l(t.filterDebits,function(e,s){return a("div",{key:e.trans_id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[(s+1)%9===0?a("p",{staticClass:"html2pdf__page-break"},[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.memo))])]):a("p",[a("span",{staticClass:"caption font-weight-medium"},[t._v(t._s(e.memo))])])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.debit))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v(t._s(e.debit))])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium"},[t._v("Total")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalDebit))+"\n      ")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"caption font-weight-medium text-right"},[t._v("\n        "+t._s(t.formatBalance(t.totalDebit))+"\n      ")])])],1)],2)},Wo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Sales Journal")])])}],Xo={name:"SalesComponent",props:["formatFromDate","formatToDate","formatItems","selectedBranch"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}},computed:{...Object(B["c"])(["auth"]),filterDebits(){const t=this.formatItems.filter(t=>{return null===t.credit}),e=t.map(t=>{return t.account_id>=11510&&t.account_id<=11590?t.tags="inventory":73370===t.account_id?t.tags="office":t.tags="others",t});return e},totalDebit(){let t=this.filterDebits.map(t=>{let e=parseFloat(t.debit);return parseFloat(this.formatBalance(e))});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a}}},tr=Xo,er=Object(u["a"])(tr,Qo,Wo,!1,null,"5af7f34d",null),ar=er.exports;p()(er,{VCol:he["a"],VRow:pe["a"]});var sr={name:"JournalReport",components:{GeneralJournalComponent:Fo,CashReceiptComponent:Ro,CashDisbursementComponent:zo,PurchaseComponent:Ko,SalesComponent:ar},data(){return{selected:{id:1,name:"General Journal"},books:[],fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),headers:[{text:"Date",value:"date",width:"20%"},{text:"Memo",value:"memo",width:"30%"},{text:"AccountId",value:"Account.name",width:"20%"},{text:"Debit",value:"debit",width:"15%"},{text:"Credit",value:"credit",width:"15%"}],items:[],hidden:!0}},methods:{...Object(B["b"])("errors",["getError"]),async generate(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get(`/api/reports/journal/${this.auth.user.BranchId}/${this.selected.id}/${this.fromDate}/${this.toDate}`,t);this.items=a.data}catch(e){e.response.data&&this.getError(e.response.data),this.getError("Can't fetch journal")}this.hidden=!1},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"Journal.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:4,canvas:t},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}};Vo()().from(t).set(e).save()}},computed:{...Object(B["c"])(["auth"]),formatFromDate(){return Ys()(this.fromDate).format("MMMM DD")},formatToDate(){return Ys()(this.toDate).format("MMMM DD YYYY")},formatItems(){const t=this.items.map(t=>{return t.date=Ys()(t.date).format("MMM DD"),t});return t}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get("/api/books",t);this.books=a.data}catch(e){this.getError(e.response.data)}},watch:{selected(){null===this.selected&&""===this.selected||this.generate()}}},or=sr,rr=(a("8405"),Object(u["a"])(or,wo,Do,!1,null,"32ba59f9",null)),nr=rr.exports;p()(rr,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VCombobox:ca["a"],VDatePicker:pa["a"],VFlex:jt["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var ir={name:"JournalReportPage",components:{JournalReport:nr,RestrictedResource:Zt}},lr=ir,cr=Object(u["a"])(lr,xo,ko,!1,null,"5fbb8064",null),dr=cr.exports,mr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("LedgerReport")],1)},ur=[],hr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger-report"},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Choose Date","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user?a("span",{staticClass:"headline"},[t._v("DARBMUPCO")]):a("span",{staticClass:"headline"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("General Ledger")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])])]),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v("Account")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v("Debit")])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v("Credit")])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v("Balance")])])])],1),a("hr"),a("br"),a("CurrentAssets",{attrs:{currentAssets:t.currentAssets,balance:t.balanceCurrentAsset}}),a("NonCurrentAssets",{attrs:{nonCurrentAssets:t.nonCurrentAssets,balance:t.balanceNonCurrentAsset}}),a("CurrentLiabilities",{attrs:{currentLiabilities:t.currentLiabilities,balance:t.balanceCurrentLiabilities}}),a("NonCurrentLiabilities",{attrs:{nonCurrentLiabilities:t.nonCurrentLiabilities,balance:t.balanceNonCurrentLiabilities}}),a("Equity",{attrs:{equity:t.equity,balance:t.balanceEquity}}),a("Revenue",{attrs:{revenue:t.revenue,balance:t.balanceRevenue}}),a("CostOfGoodsSold",{attrs:{costOfGoods:t.costOfGoods,balance:t.balanceCostOfGoods}}),a("CostOfServices",{attrs:{costOfServices:t.costOfServices,balance:t.balanceCostOfServices}}),a("Expenses",{attrs:{expenses:t.expenses,balance:t.balanceExpenses}})],1)],1)],1)],1)],1)],1)},pr=[],vr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.currentAssets,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Current Assets:")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.currentAssets.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},fr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Current Assets")])])}],br={name:"CurrentAssetsLedger",props:["currentAssets","balance"]},gr=br,Cr=Object(u["a"])(gr,vr,fr,!1,null,"a9d00adc",null),_r=Cr.exports;p()(Cr,{VCol:he["a"],VRow:pe["a"]});var xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.nonCurrentAssets,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Non-Current Assets: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.nonCurrentAssets.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},kr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Non Current Assets")])])}],wr={name:"NonCurrentAssets",props:["nonCurrentAssets","balance"]},Dr=wr,yr=Object(u["a"])(Dr,xr,kr,!1,null,"3e666e9e",null),Vr=yr.exports;p()(yr,{VCol:he["a"],VRow:pe["a"]});var Br=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.currentLiabilities,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Current Liabilities: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.currentLiabilities.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},jr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Current Liabilities")])])}],Tr={name:"CurrentLiabilities",props:["currentLiabilities","balance"]},Sr=Tr,Ar=Object(u["a"])(Sr,Br,jr,!1,null,"3dbebc96",null),Fr=Ar.exports;p()(Ar,{VCol:he["a"],VRow:pe["a"]});var Ir=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.nonCurrentLiabilities,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Non Current Liabilities: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.nonCurrentLiabilities.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},Or=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Non Current Liabilities")])])}],Mr={name:"NonCurrentLiabilities",props:["nonCurrentLiabilities","balance"]},Er=Mr,$r=Object(u["a"])(Er,Ir,Or,!1,null,"43946c40",null),Rr=$r.exports;p()($r,{VCol:he["a"],VRow:pe["a"]});var Lr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.equity,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Equity: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.equity.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},Pr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Equity")])])}],Nr={name:"Equity",props:["equity","balance"]},Gr=Nr,Ur=Object(u["a"])(Gr,Lr,Pr,!1,null,"0246da84",null),zr=Ur.exports;p()(Ur,{VCol:he["a"],VRow:pe["a"]});var Yr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.revenue,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Revenue: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.revenue.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},Jr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Revenue")])])}],qr={name:"Revenue",props:["revenue","balance"]},Hr=qr,Zr=Object(u["a"])(Hr,Yr,Jr,!1,null,"534e9173",null),Kr=Zr.exports;p()(Zr,{VCol:he["a"],VRow:pe["a"]});var Qr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.costOfGoods,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Cost of Goods Sold: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.costOfGoods.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},Wr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Cost of Goods Sold")])])}],Xr={name:"CostOfGoodsSold",props:["costOfGoods","balance"]},tn=Xr,en=Object(u["a"])(tn,Qr,Wr,!1,null,"ac9c842a",null),an=en.exports;p()(en,{VCol:he["a"],VRow:pe["a"]});var sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.costOfServices,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Cost of Services: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.costOfServices.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},on=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Cost of Services")])])}],rn={name:"CostOfServices",props:["costOfServices","balance"]},nn=rn,ln=Object(u["a"])(nn,sn,on,!1,null,"86224582",null),cn=ln.exports;p()(ln,{VCol:he["a"],VRow:pe["a"]});var dn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger"},[t._m(0),t._l(t.expenses,function(e){return a("div",{key:e.AccountId},[a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.name))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.debit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.credit))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.balance))])])])],1)],1)}),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("span",{staticClass:"subtitle-2"},[t._v("Total Expenses: ")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[t.expenses.length<1?a("p",[a("span")]):a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.balance))])])])],1),a("br")],2)},mn=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"subtitle-2"},[t._v("Expenses")])])}],un={name:"Expenses",props:["expenses","balance"]},hn=un,pn=Object(u["a"])(hn,dn,mn,!1,null,"61e7b1d4",null),vn=pn.exports;p()(pn,{VCol:he["a"],VRow:pe["a"]});var fn={name:"LedgerReport",components:{CurrentAssets:_r,NonCurrentAssets:Vr,CurrentLiabilities:Fr,NonCurrentLiabilities:Rr,Equity:zr,Revenue:Kr,CostOfGoodsSold:an,CostOfServices:cn,Expenses:vn},data(){return{fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),items:[],hidden:!0}},methods:{async generate(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get(`/api/reports/ledger/${this.auth.user.BranchId}/${this.fromDate}/${this.toDate}`,t);this.items=a.data}catch(e){this.getError(e.response.data)}this.hidden=!1},pdf(){const t=document.getElementById("content"),e={margin:1,filename:"Ledger.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};Vo()().from(t).set(e).save()}},computed:{...Object(B["c"])(["auth"]),formatFromDate(){return Ys()(this.fromDate).format("MMMM DD")},formatToDate(){return Ys()(this.toDate).format("MMMM DD YYYY")},formatItems(){const t=this.items.map(t=>{return t.date=Ys()(t.date).format("MMM DD YYYY"),t});return t},currentAssets(){return this.items.filter(t=>{return 11e3===t.id})},nonCurrentAssets(){return this.items.filter(t=>{return 13e3===t.id})},currentLiabilities(){return this.items.filter(t=>{return 21e3===t.id})},nonCurrentLiabilities(){return this.items.filter(t=>{return 22e3===t.id})},equity(){return this.items.filter(t=>{return 30100===t.id})},revenue(){return this.items.filter(t=>{return 4e4===t.id})},costOfGoods(){return this.items.filter(t=>{return 5e4===t.id})},costOfServices(){return this.items.filter(t=>{return 6e4===t.id})},expenses(){return this.items.filter(t=>{return 7e4===t.id})},subsidy(){return this.items.filter(t=>{return 8e4===t.id})},balanceCurrentAsset(){let t=this.currentAssets.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceNonCurrentAsset(){let t=this.nonCurrentAssets.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceCurrentLiabilities(){let t=this.currentLiabilities.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceNonCurrentLiabilities(){let t=this.nonCurrentLiabilities.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceEquity(){let t=this.equity.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceRevenue(){let t=this.revenue.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceCostOfGoods(){let t=this.costOfGoods.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceCostOfServices(){let t=this.costOfServices.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceExpenses(){let t=this.expenses.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceSubsidy(){let t=this.subsidy.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)}}},bn=fn,gn=(a("9162"),Object(u["a"])(bn,hr,pr,!1,null,"26c53bbe",null)),Cn=gn.exports;p()(gn,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VDatePicker:pa["a"],VFlex:jt["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var _n={name:"LedgerReportPage",components:{LedgerReport:Cn}},xn=_n,kn=Object(u["a"])(xn,mr,ur,!1,null,"12f53804",null),wn=kn.exports,Dn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TrialBalanceReport")],1)},yn=[],Vn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Choose Date","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v(t._s(t.selectedBranch.branchName))]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Trial Balance")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])])]),a("hr"),a("div",{staticClass:"text-center"}),a("v-row",{staticClass:"ml-4"},[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"font-weight-medium"},[t._v("Type")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"font-weight-medium"},[t._v("Category")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"font-weight-medium"},[t._v("Account")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"font-weight-medium text-right"},[t._v("Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"font-weight-medium text-right"},[t._v("Credit")])])],1),a("hr"),t._l(t.filterNullItems,function(e){return a("div",{key:e.id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.type))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.subtype))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.account))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[e.balance>0?a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(e.balance)))])]):a("p",[a("span")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[e.balance<0?a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(e.balance)))])]):a("p",[a("span")])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("span",{staticClass:"font-weight-medium"},[t._v("TOTAL")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"2"}},[this.items.length<=0?a("p"):a("p",{staticClass:"underlined text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(this.formatBalance(this.totalDebit)))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[this.items.length<=0?a("p"):a("p",{staticClass:"underlined text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(this.formatBalance(this.totalCredit)))])])])],1)],2)],1)],1)],1)],1)],1)],1)},Bn=[],jn={name:"TrialBalanceReport",data(){return{selectedBranch:{id:0,branchName:"DARBMUPCO"},fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),items:[],hidden:!0,branches:[]}},methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"TrialBalance.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};Vo()().from(t).set(e).save()},async generate(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get(`/api/reports/trial-balance/${this.auth.user.BranchId}/${this.fromDate}/${this.toDate}`,t);this.items=a.data}catch(e){this.getError(e.response.data)}this.hidden=!1}},computed:{...Object(B["c"])(["auth"]),formatFromDate(){return Ys()(this.fromDate).format("MMMM DD")},formatToDate(){return Ys()(this.toDate).format("MMMM DD YYYY")},filterNullItems(){return this.items.filter(t=>{return null!==t.balance})},filterDebit(){const t=this.items.filter(t=>{return t.balance>0}),e=t.map(t=>{return t.balance});return e},filterCredit(){const t=this.items.filter(t=>{return t.balance<0}),e=t.map(t=>{return t.balance});return e},totalDebit(){let t=this.filterDebit.map(t=>{let e=parseFloat(t);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},totalCredit(){let t=this.filterCredit.map(t=>{let e=parseFloat(t);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a}}},Tn=jn,Sn=(a("9952"),Object(u["a"])(Tn,Vn,Bn,!1,null,"d51d9b12",null)),An=Sn.exports;p()(Sn,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VDatePicker:pa["a"],VFlex:jt["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Fn={name:"TrialBalanceReportPage",components:{TrialBalanceReport:An}},In=Fn,On=Object(u["a"])(In,Dn,yn,!1,null,"d1773f50",null),Mn=On.exports,En=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("IncomeStatementReport")],1)},$n=[],Rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Choose Date","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user?a("span",{staticClass:"headline"},[t._v("DARBMUPCO")]):a("span",{staticClass:"headline"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Income Statement")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])])]),a("hr"),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Revenues")])]),a("ItemComponent",{attrs:{accounts:t.filterItems(4e4,5e4),total:t.totalBalance(4e4,5e4),msg:t.totalMsg("Total Revenue")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Cost of Goods Sold")])]),a("ItemComponent",{attrs:{accounts:t.filterItems(5e4,6e4),total:t.totalBalance(5e4,6e4),msg:t.totalMsg("Total Cost of Goods Sold")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Cost of Services")])]),a("ItemComponent",{attrs:{accounts:t.filterItems(6e4,7e4),total:t.totalBalance(6e4,7e4),msg:t.totalMsg("Total Cost of Services")}}),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",{staticClass:"font-weight-bold"},[t._v("Gross Profit")])]),a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right font-weight-bold"},[a("span",[t._v(t._s(t.grossProfit))])])])],1),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Expenses")])]),a("ItemComponent",{attrs:{accounts:t.filterItems(7e4,8e4),total:t.totalBalance(7e4,8e4),msg:t.totalMsg("Total Expenses")}}),a("hr"),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t.netProfit<0?a("span",{staticClass:"font-weight-bold red--text"},[t._v("Net Loss")]):a("span",{staticClass:"font-weight-bold"},[t._v("Net Income")])]),a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.netProfit<0?a("p",{staticClass:"text-right font-weight-bold red--text"},[a("span",[t._v(t._s(t.formatBalance(t.netProfit)))])]):a("p",{staticClass:"text-right font-weight-bold"},[a("span",[t._v(t._s(t.formatBalance(t.netProfit)))])])])],1)],1)],1)],1)],1)],1)],1)],1)},Ln=[],Pn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ml-12"},[t._l(t.accounts,function(e){return a("div",{key:e.id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",[t._v(t._s(e.subtype))])]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",[t._v(t._s(e.account))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[a("span",[t._v(t._s(t.formatBalance(e.balance)))])])])],1)],1)}),a("v-row",[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.msg))])]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("span")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(t.total)))])])])],1)],2)},Nn=[],Gn={name:"RevenueComponent",props:["accounts","total","msg"],methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)}}},Un=Gn,zn=Object(u["a"])(Un,Pn,Nn,!1,null,"f019b2a4",null),Yn=zn.exports;p()(zn,{VCol:he["a"],VRow:pe["a"]});var Jn={name:"IncomeStatementReport",components:{ItemComponent:Yn},data(){return{fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),items:[],hidden:!0}},methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},totalBalance(t,e){let a=this.items.filter(a=>{return a.id>=t&&a.id<=e}),s=a.map(t=>{let e=parseFloat(t.balance);return e});const o=t=>t.reduce((t,e)=>t+e,0),r=o(s);return r},totalMsg(t){return t},filterItems(t,e){const a=this.items.filter(a=>{return a.id>=t&&a.id<=e});return a},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"IncomeStatement.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};Vo()().from(t).set(e).save()},async generate(){try{const e=await Mt.a.get(`/api/reports/income-statement/${this.auth.user.BranchId}/${this.fromDate}/${this.toDate}`);this.items=e.data}catch(t){this.getError(t.response.data)}this.hidden=!1}},computed:{...Object(B["c"])(["auth"]),formatFromDate(){return Ys()(this.fromDate).format("MMMM DD")},formatToDate(){return Ys()(this.toDate).format("MMMM DD YYYY")},grossProfit(){const t=this.formatBalance(this.totalBalance(4e4,5e4)),e=this.formatBalance(this.totalBalance(5e4,6e4)),a=this.formatBalance(this.totalBalance(6e4,7e4)),s=parseFloat(t)-(parseFloat(e)+parseFloat(a));return parseFloat(s).toFixed(2)},netProfit(){const t=parseFloat(this.grossProfit)-parseFloat(this.formatBalance(this.totalBalance(7e4,8e4)));return parseFloat(t).toFixed(2)}}},qn=Jn,Hn=(a("bd39"),Object(u["a"])(qn,Rn,Ln,!1,null,"78f7207e",null)),Zn=Hn.exports;p()(Hn,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VDatePicker:pa["a"],VFlex:jt["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Kn={name:"IncomeStatementPage",components:{IncomeStatementReport:Zn}},Qn=Kn,Wn=Object(u["a"])(Qn,En,$n,!1,null,"024fb24a",null),Xn=Wn.exports,ti=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("BalanceSheetReport")],1)},ei=[],ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Choose Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}}),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{attrs:{hidden:t.hidden,id:"content"}},[a("v-card-text",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user?a("span",{staticClass:"headline"},[t._v("DARBMUPCO")]):a("span",{staticClass:"headline"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Balance Sheet")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v("As of "+t._s(t.formatDate))])])])]),a("hr"),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Current Assets")])]),a("BalanceSheetComponent",{attrs:{accounts:t.filterItems(11e3,12999),total:t.totalBalance(11e3,12999),msg:t.totalMsg("Total Current Assets")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Non Current Assets")])]),a("BalanceSheetComponent",{attrs:{accounts:t.filterItems(13e3,19999),total:t.totalBalance(13e3,20999),msg:t.totalMsg("Total Non Current Assets")}}),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t.totalAssets<=0?a("div",[a("span",{staticClass:"font-weight-bold red--text text--darken-3"},[t._v("\n                    Total Assets\n                  ")])]):a("div",[a("span",{staticClass:"font-weight-bold blue--text text--darken-3"},[t._v("\n                    Total Assets\n                  ")])])]),a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.totalAssets<=0?a("div",[a("p",{staticClass:"text-right font-weight-bold underlined red--text text--darken-3"},[a("span",[t._v(t._s(t.totalAssets))])])]):a("div",[a("p",{staticClass:"text-right font-weight-bold underlined blue--text text--darken-3"},[a("span",[t._v(t._s(t.totalAssets))])])])])],1),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Current Liabilities")])]),a("LiabilityComponent",{attrs:{accounts:t.filterItems(21e3,21999),total:t.totalBalance(21e3,21999),msg:t.totalMsg("Total Current Liabilities")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Non Current Liabilities")])]),a("LiabilityComponent",{attrs:{accounts:t.filterItems(22e3,29999),total:t.totalBalance(22e3,29999),msg:t.totalMsg("Total Non Current Liabilities")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Equity")])]),a("LiabilityComponent",{attrs:{accounts:t.filterItems(3e4,39999),total:t.totalBalance(3e4,39999),msg:t.totalMsg("Total Equity")}}),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",{staticClass:"font-weight-medium"},[t._v("Net Income")])]),a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right font-weight-medium"},[a("span",[t._v(t._s(t.netProfit))])])])],1),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t.totalLiabilities<=0?a("div",[a("span",{staticClass:"font-weight-bold red--text text--darken-3"},[t._v("\n                    Total Liabilities and Equity\n                  ")])]):a("div",[a("span",{staticClass:"font-weight-bold blue--text text--darken-3"},[t._v("\n                    Total Liabilities and Equity\n                  ")])])]),a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.totalLiabilities<=0?a("div",[a("p",{staticClass:"text-right font-weight-bold red--text text--darken-3 underlined"},[a("span",[t._v(t._s(t.totalLiabilities))])])]):a("div",[a("p",{staticClass:"text-right font-weight-bold blue--text text--darken-3 underlined"},[a("span",[t._v(t._s(t.totalLiabilities))])])])])],1)],1)],1)],1)],1)],1)],1)},si=[],oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ml-12"},[t._l(t.accounts,function(e){return a("div",{key:e.id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",[t._v(t._s(e.subtype))])]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",[t._v(t._s(e.account))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[a("span",[t._v(t._s(e.balance))])])])],1)],1)}),a("v-row",[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.msg))])]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("span")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(t.total)))])])])],1)],2)},ri=[],ni={name:"BalanceSheetComponent",props:["accounts","total","msg"],methods:{formatBalance(t){return parseFloat(t).toFixed(2)}}},ii=ni,li=Object(u["a"])(ii,oi,ri,!1,null,"4eea26ee",null),ci=li.exports;p()(li,{VCol:he["a"],VRow:pe["a"]});var di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ml-12"},[t._l(t.accounts,function(e){return a("div",{key:e.id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",[t._v(t._s(e.subtype))])]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",[t._v(t._s(e.account))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[a("span",[t._v(t._s(t.formatBalance(e.balance)))])])])],1)],1)}),a("v-row",[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.msg))])]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("span")]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(t.total)))])])])],1)],2)},mi=[],ui={name:"LiabilityComponent",props:["accounts","total","msg"],methods:{formatBalance(t){return parseFloat(-1*t).toFixed(2)}}},hi=ui,pi=Object(u["a"])(hi,di,mi,!1,null,"3ac45949",null),vi=pi.exports;p()(pi,{VCol:he["a"],VRow:pe["a"]});var fi={name:"BalanceSheetReport",components:{BalanceSheetComponent:ci,LiabilityComponent:vi},data(){return{menu:!1,date:(new Date).toISOString().substr(0,10),items:[],profits:[],hidden:!0}},methods:{formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},totalBalance(t,e){let a=this.items.filter(a=>{return a.id>=t&&a.id<=e}),s=a.map(t=>{let e=parseFloat(t.balance);return e});const o=t=>t.reduce((t,e)=>t+e,0),r=o(s);return parseFloat(r).toFixed(2)},totalProfit(t,e){let a=this.profits.filter(a=>{return a.id>=t&&a.id<=e}),s=a.map(t=>{let e=parseFloat(t.balance);return e});const o=t=>t.reduce((t,e)=>t+e,0),r=o(s);return parseFloat(r).toFixed(2)},totalMsg(t){return t},filterItems(t,e){const a=this.items.filter(a=>{return a.id>=t&&a.id<=e});return a},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"BalanceSheet.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};Vo()().from(t).set(e).save()},async generate(){try{const e=await Mt.a.get(`/api/reports/balance-sheet/${this.auth.user.BranchId}/${this.date}`),a=await Mt.a.get(`/api/reports/net-profit/${this.auth.user.BranchId}/${this.date}`);this.items=e.data,this.profits=a.data}catch(t){this.getError(t.response.data),this.getError(t.profit.data)}this.hidden=!1}},computed:{...Object(B["c"])(["auth"]),formatDate(){return Ys()(this.date).format("MMMM DD YYYY")},totalAssets(){const t=parseFloat(this.totalBalance(11e3,12999)),e=parseFloat(this.totalBalance(13e3,20999));return parseFloat(t+e).toFixed(2)},totalLiabilities(){const t=-1*parseFloat(this.totalBalance(21e3,21999)),e=-1*parseFloat(this.totalBalance(22e3,29999)),a=-1*parseFloat(this.totalBalance(3e4,39999)),s=parseFloat(this.netProfit);return parseFloat(t+e+a+s).toFixed(2)},grossProfit(){const t=this.formatBalance(this.totalProfit(4e4,5e4)),e=this.formatBalance(this.totalProfit(5e4,6e4)),a=this.formatBalance(this.totalProfit(6e4,7e4)),s=parseFloat(t)-(parseFloat(e)+parseFloat(a));return parseFloat(s).toFixed(2)},netProfit(){const t=parseFloat(this.grossProfit)-parseFloat(this.formatBalance(this.totalProfit(7e4,8e4)));return parseFloat(t).toFixed(2)}}},bi=fi,gi=(a("f7b3"),Object(u["a"])(bi,ai,si,!1,null,"99439b00",null)),Ci=gi.exports;p()(gi,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VDatePicker:pa["a"],VFlex:jt["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var _i={name:"BalanceSheetPage",components:{BalanceSheetReport:Ci}},xi=_i,ki=Object(u["a"])(xi,ti,ei,!1,null,"6a0552f8",null),wi=ki.exports,Di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.$store.state.auth.isAuthenticated||"admin"!==t.$store.state.auth.user.account?a("div",[a("RestrictedResource")],1):a("div",[a("AdminJournalReport")],1)])},yi=[],Vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"journal-report",attrs:{id:"journal"}},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-menu",{ref:"fromMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"From","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.books,"item-text":"name",label:"Select Book","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",label:"Select Branch","return-object":""},model:{value:t.selectedBranch,callback:function(e){t.selectedBranch=e},expression:"selectedBranch"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"5"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{staticClass:"mx-12",attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[null===t.selected||""===t.selected||1===t.selected.id?a("div",[a("GeneralJournalComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems,selectedBranch:t.selectedBranch}})],1):2===t.selected.id?a("div",[a("CashReceiptComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems,selectedBranch:t.selectedBranch}})],1):3===t.selected.id?a("div",[a("CashDisbursementComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems,selectedBranch:t.selectedBranch}})],1):4===t.selected.id?a("div",[a("PurchaseComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems,selectedBranch:t.selectedBranch}})],1):5===t.selected.id?a("div",[a("SalesComponent",{attrs:{formatFromDate:t.formatFromDate,formatToDate:t.formatToDate,formatItems:t.formatItems,selectedBranch:t.selectedBranch}})],1):t._e()])],1)],1)],1)],1)],1)},Bi=[],ji={name:"AdminJournalReport",components:{GeneralJournalComponent:Fo,CashReceiptComponent:Ro,CashDisbursementComponent:zo,PurchaseComponent:Ko,SalesComponent:ar},data(){return{selected:{id:1,name:"General Journal"},selectedBranch:{id:0,branchName:"DARBMUPCO"},books:[],fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),headers:[{text:"Date",value:"date",width:"20%"},{text:"Memo",value:"memo",width:"30%"},{text:"AccountId",value:"Account.name",width:"20%"},{text:"Debit",value:"debit",width:"15%"},{text:"Credit",value:"credit",width:"15%"}],items:[],hidden:!0,branches:[]}},methods:{...Object(B["b"])("errors",["getError"]),async generate(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get(`/api/reports/journal/${this.selectedBranch.id}/${this.selected.id}/${this.fromDate}/${this.toDate}`,t);this.items=a.data}catch(e){e.response.data&&this.getError(e.response.data),this.getError("Can't fetch journal")}this.hidden=!1},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"Journal.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:4,canvas:t},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}};Vo()().from(t).set(e).save()}},computed:{...Object(B["c"])(["auth"]),formatFromDate(){return Ys()(this.fromDate).format("MMMM DD")},formatToDate(){return Ys()(this.toDate).format("MMMM DD YYYY")},formatItems(){const t=this.items.map(t=>{return t.date=Ys()(t.date).format("MMM DD"),t});return t}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get("/api/books",t),s=await Mt.a.get("/api/admin/branches",t);this.books=a.data,this.branches=[{id:0,branchName:"DARBMUPCO"},...s.data]}catch(e){this.getError(e.response.data)}},watch:{selected(){null===this.selected&&""===this.selected||this.generate()}}},Ti=ji,Si=(a("417a"),Object(u["a"])(Ti,Vi,Bi,!1,null,"1b54e0d8",null)),Ai=Si.exports;p()(Si,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VCombobox:ca["a"],VDatePicker:pa["a"],VFlex:jt["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Fi={name:"AdminJournal",components:{AdminJournalReport:Ai,RestrictedResource:Zt}},Ii=Fi,Oi=Object(u["a"])(Ii,Di,yi,!1,null,"48553932",null),Mi=Oi.exports,Ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminLedgerReport")],1)},$i=[],Ri=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ledger-report"},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Choose Date","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",label:"Select Branch","return-object":""},model:{value:t.selectedBranch,callback:function(e){t.selectedBranch=e},expression:"selectedBranch"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v(t._s(t.selectedBranch.branchName))]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("General Ledger")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])])]),a("hr"),a("v-row",{staticClass:"ml-12"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("span",{staticClass:"font-weight-medium"},[t._v("Account")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v("Debit")])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v("Credit")])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v("Balance")])])])],1),a("hr"),a("br"),a("CurrentAssets",{attrs:{currentAssets:t.currentAssets,balance:t.balanceCurrentAsset}}),a("NonCurrentAssets",{attrs:{nonCurrentAssets:t.nonCurrentAssets,balance:t.balanceNonCurrentAsset}}),a("CurrentLiabilities",{attrs:{currentLiabilities:t.currentLiabilities,balance:t.balanceCurrentLiabilities}}),a("NonCurrentLiabilities",{attrs:{nonCurrentLiabilities:t.nonCurrentLiabilities,balance:t.balanceNonCurrentLiabilities}}),a("Equity",{attrs:{equity:t.equity,balance:t.balanceEquity}}),a("Revenue",{attrs:{revenue:t.revenue,balance:t.balanceRevenue}}),a("CostOfGoodsSold",{attrs:{costOfGoods:t.costOfGoods,balance:t.balanceCostOfGoods}}),a("CostOfServices",{attrs:{costOfServices:t.costOfServices,balance:t.balanceCostOfServices}}),a("Expenses",{attrs:{expenses:t.expenses,balance:t.balanceExpenses}})],1)],1)],1)],1)],1)],1)},Li=[],Pi={name:"AdminLedgerReport",components:{CurrentAssets:_r,NonCurrentAssets:Vr,CurrentLiabilities:Fr,NonCurrentLiabilities:Rr,Equity:zr,Revenue:Kr,CostOfGoodsSold:an,CostOfServices:cn,Expenses:vn},data(){return{selectedBranch:{id:0,branchName:"DARBMUPCO"},fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),items:[],hidden:!0,branches:[]}},methods:{...Object(B["b"])("errors",["getError"]),async generate(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get(`/api/reports/ledger/${this.selectedBranch.id}/${this.fromDate}/${this.toDate}`,t);this.items=a.data}catch(e){this.getError(e.response.data)}this.hidden=!1},pdf(){const t=document.getElementById("content"),e={margin:1,filename:"Ledger.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};Vo()().from(t).set(e).save()}},computed:{...Object(B["c"])(["auth"]),formatFromDate(){return Ys()(this.fromDate).format("MMMM DD")},formatToDate(){return Ys()(this.toDate).format("MMMM DD YYYY")},formatItems(){const t=this.items.map(t=>{return t.date=Ys()(t.date).format("MMM DD YYYY"),t});return t},currentAssets(){return this.items.filter(t=>{return 11e3===t.id})},nonCurrentAssets(){return this.items.filter(t=>{return 13e3===t.id})},currentLiabilities(){return this.items.filter(t=>{return 21e3===t.id})},nonCurrentLiabilities(){return this.items.filter(t=>{return 22e3===t.id})},equity(){return this.items.filter(t=>{return 30100===t.id})},revenue(){return this.items.filter(t=>{return 4e4===t.id})},costOfGoods(){return this.items.filter(t=>{return 5e4===t.id})},costOfServices(){return this.items.filter(t=>{return 6e4===t.id})},expenses(){return this.items.filter(t=>{return 7e4===t.id})},subsidy(){return this.items.filter(t=>{return 8e4===t.id})},balanceCurrentAsset(){let t=this.currentAssets.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceNonCurrentAsset(){let t=this.nonCurrentAssets.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceCurrentLiabilities(){let t=this.currentLiabilities.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceNonCurrentLiabilities(){let t=this.nonCurrentLiabilities.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceEquity(){let t=this.equity.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceRevenue(){let t=this.revenue.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceCostOfGoods(){let t=this.costOfGoods.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceCostOfServices(){let t=this.costOfServices.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceExpenses(){let t=this.expenses.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)},balanceSubsidy(){let t=this.subsidy.map(t=>{let e=parseFloat(t.balance);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return parseFloat(Math.round(100*a)/100).toFixed(2)}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get("/api/admin/branches",t);this.branches=[{id:0,branchName:"DARBMUPCO"},...a.data]}catch(e){this.getError(e.response.data)}}},Ni=Pi,Gi=(a("d93f"),Object(u["a"])(Ni,Ri,Li,!1,null,"a92008b8",null)),Ui=Gi.exports;p()(Gi,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VCombobox:ca["a"],VDatePicker:pa["a"],VFlex:jt["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var zi={name:"AdminLedgerPage",components:{AdminLedgerReport:Ui}},Yi=zi,Ji=Object(u["a"])(Yi,Ei,$i,!1,null,"a1d6a85e",null),qi=Ji.exports,Hi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminTrialBalanceReport")],1)},Zi=[],Ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Choose Date","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",label:"Select Branch","return-object":""},model:{value:t.selectedBranch,callback:function(e){t.selectedBranch=e},expression:"selectedBranch"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v(t._s(t.selectedBranch.branchName))]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Trial Balance")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])])]),a("hr"),a("div",{staticClass:"text-center"}),a("v-row",{staticClass:"ml-4"},[a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"font-weight-medium"},[t._v("Type")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"font-weight-medium"},[t._v("Category")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"font-weight-medium"},[t._v("Account")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"font-weight-medium text-right"},[t._v("Debit")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[a("p",{staticClass:"font-weight-medium text-right"},[t._v("Credit")])])],1),a("hr"),t._l(t.filterNullItems,function(e){return a("div",{key:e.id},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.type))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.subtype))])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(e.account))])]),a("v-col",{attrs:{cols:"12",md:"2"}},[e.balance>0?a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(e.balance)))])]):a("p",[a("span")])]),a("v-col",{attrs:{cols:"12",md:"2"}},[e.balance<0?a("p",{staticClass:"text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(t.formatBalance(e.balance)))])]):a("p",[a("span")])])],1)],1)}),a("hr"),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("span",{staticClass:"font-weight-medium"},[t._v("TOTAL")])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("span",{staticClass:"font-weight-medium"})]),a("v-col",{attrs:{cols:"12",md:"2"}},[this.items.length<=0?a("p"):a("p",{staticClass:"underlined text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(this.formatBalance(this.totalDebit)))])])]),a("v-col",{attrs:{cols:"12",md:"2"}},[this.items.length<=0?a("p"):a("p",{staticClass:"underlined text-right"},[a("span",{staticClass:"font-weight-medium"},[t._v(t._s(this.formatBalance(this.totalCredit)))])])])],1)],2)],1)],1)],1)],1)],1)],1)},Qi=[],Wi={name:"AdminTrialBalanceReport",data(){return{selectedBranch:{id:0,branchName:"DARBMUPCO"},fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),items:[],hidden:!0,branches:[]}},methods:{...Object(B["b"])("errors",["getError"]),formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"TrialBalance.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};Vo()().from(t).set(e).save()},async generate(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get(`/api/reports/trial-balance/${this.selectedBranch.id}/${this.fromDate}/${this.toDate}`,t);this.items=a.data}catch(e){this.getError(e.response.data)}this.hidden=!1}},computed:{...Object(B["c"])(["auth"]),formatFromDate(){return Ys()(this.fromDate).format("MMMM DD")},formatToDate(){return Ys()(this.toDate).format("MMMM DD YYYY")},filterNullItems(){return this.items.filter(t=>{return null!==t.balance})},filterDebit(){const t=this.items.filter(t=>{return t.balance>0}),e=t.map(t=>{return t.balance});return e},filterCredit(){const t=this.items.filter(t=>{return t.balance<0}),e=t.map(t=>{return t.balance});return e},totalDebit(){let t=this.filterDebit.map(t=>{let e=parseFloat(t);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a},totalCredit(){let t=this.filterCredit.map(t=>{let e=parseFloat(t);return e});const e=t=>t.reduce((t,e)=>t+e,0),a=e(t);return a}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get("/api/admin/branches",t);this.branches=[{id:0,branchName:"DARBMUPCO"},...a.data]}catch(e){this.getError(e.response.data)}}},Xi=Wi,tl=(a("0acb"),Object(u["a"])(Xi,Ki,Qi,!1,null,"f2254ce0",null)),el=tl.exports;p()(tl,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VCombobox:ca["a"],VDatePicker:pa["a"],VFlex:jt["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var al={name:"AdminTrialBalancePage",components:{AdminTrialBalanceReport:el}},sl=al,ol=Object(u["a"])(sl,Hi,Zi,!1,null,"b9c70ed2",null),rl=ol.exports,nl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminBalanceSheetReport")],1)},il=[],ll=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Choose Date","prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",label:"Select Branch","return-object":""},model:{value:t.selectedBranch,callback:function(e){t.selectedBranch=e},expression:"selectedBranch"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{attrs:{hidden:t.hidden,id:"content"}},[a("v-card-text",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v(t._s(t.selectedBranch.branchName))]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Balance Sheet")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v("As of "+t._s(t.formatDate))])])])]),a("hr"),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Current Assets")])]),a("BalanceSheetComponent",{attrs:{accounts:t.filterItems(11e3,12999),total:t.totalBalance(11e3,12999),msg:t.totalMsg("Total Current Assets")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Non Current Assets")])]),a("BalanceSheetComponent",{attrs:{accounts:t.filterItems(13e3,19999),total:t.totalBalance(13e3,20999),msg:t.totalMsg("Total Non Current Assets")}}),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t.totalAssets<=0?a("div",[a("span",{staticClass:"font-weight-bold red--text text--darken-3"},[t._v("\n                    Total Assets\n                  ")])]):a("div",[a("span",{staticClass:"font-weight-bold blue--text text--darken-3"},[t._v("\n                    Total Assets\n                  ")])])]),a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.totalAssets<=0?a("div",[a("p",{staticClass:"text-right font-weight-bold underlined red--text text--darken-3"},[a("span",[t._v(t._s(t.totalAssets))])])]):a("div",[a("p",{staticClass:"text-right font-weight-bold underlined blue--text text--darken-3"},[a("span",[t._v(t._s(t.totalAssets))])])])])],1),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Current Liabilities")])]),a("LiabilityComponent",{attrs:{accounts:t.filterItems(21e3,21999),total:t.totalBalance(21e3,21999),msg:t.totalMsg("Total Current Liabilities")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Non Current Liabilities")])]),a("LiabilityComponent",{attrs:{accounts:t.filterItems(22e3,29999),total:t.totalBalance(22e3,29999),msg:t.totalMsg("Total Non Current Liabilities")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Equity")])]),a("LiabilityComponent",{attrs:{accounts:t.filterItems(3e4,39999),total:t.totalBalance(3e4,39999),msg:t.totalMsg("Total Equity")}}),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",{staticClass:"font-weight-medium"},[t._v("Net Income")])]),a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right font-weight-medium"},[a("span",[t._v(t._s(t.netProfit))])])])],1),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t.totalLiabilities<=0?a("div",[a("span",{staticClass:"font-weight-bold red--text text--darken-3"},[t._v("\n                    Total Liabilities and Equity\n                  ")])]):a("div",[a("span",{staticClass:"font-weight-bold blue--text text--darken-3"},[t._v("\n                    Total Liabilities and Equity\n                  ")])])]),a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.totalLiabilities<=0?a("div",[a("p",{staticClass:"text-right font-weight-bold red--text text--darken-3 underlined"},[a("span",[t._v(t._s(t.totalLiabilities))])])]):a("div",[a("p",{staticClass:"text-right font-weight-bold blue--text text--darken-3 underlined"},[a("span",[t._v(t._s(t.totalLiabilities))])])])])],1)],1)],1)],1)],1)],1)],1)},cl=[],dl={name:"AdminBalanceSheetReport",components:{BalanceSheetComponent:ci,LiabilityComponent:vi},data(){return{selectedBranch:{id:0,branchName:"DARBMUPCO"},menu:!1,date:(new Date).toISOString().substr(0,10),items:[],profits:[],hidden:!0,branches:[]}},methods:{...Object(B["b"])("errors",["getError"]),formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},totalBalance(t,e){let a=this.items.filter(a=>{return a.id>=t&&a.id<=e}),s=a.map(t=>{let e=parseFloat(t.balance);return e});const o=t=>t.reduce((t,e)=>t+e,0),r=o(s);return parseFloat(r).toFixed(2)},totalProfit(t,e){let a=this.profits.filter(a=>{return a.id>=t&&a.id<=e}),s=a.map(t=>{let e=parseFloat(t.balance);return e});const o=t=>t.reduce((t,e)=>t+e,0),r=o(s);return parseFloat(r).toFixed(2)},totalMsg(t){return t},filterItems(t,e){const a=this.items.filter(a=>{return a.id>=t&&a.id<=e});return a},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"BalanceSheet.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};Vo()().from(t).set(e).save()},async generate(){try{const e=await Mt.a.get(`/api/reports/balance-sheet/${this.selectedBranch.id}/${this.date}`),a=await Mt.a.get(`/api/reports/net-profit/${this.selectedBranch.id}/${this.date}`);this.items=e.data,this.profits=a.data}catch(t){this.getError(t.response.data),this.getError(t.profit.data)}this.hidden=!1}},computed:{...Object(B["c"])(["auth"]),formatDate(){return Ys()(this.date).format("MMMM DD YYYY")},totalAssets(){const t=parseFloat(this.totalBalance(11e3,12999)),e=parseFloat(this.totalBalance(13e3,20999));return parseFloat(t+e).toFixed(2)},totalLiabilities(){const t=-1*parseFloat(this.totalBalance(21e3,21999)),e=-1*parseFloat(this.totalBalance(22e3,29999)),a=-1*parseFloat(this.totalBalance(3e4,39999)),s=parseFloat(this.netProfit);return parseFloat(t+e+a+s).toFixed(2)},grossProfit(){const t=this.formatBalance(this.totalProfit(4e4,5e4)),e=this.formatBalance(this.totalProfit(5e4,6e4)),a=this.formatBalance(this.totalProfit(6e4,7e4)),s=parseFloat(t)-(parseFloat(e)+parseFloat(a));return parseFloat(s).toFixed(2)},netProfit(){const t=parseFloat(this.grossProfit)-parseFloat(this.formatBalance(this.totalProfit(7e4,8e4)));return parseFloat(t).toFixed(2)}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get("/api/admin/branches",t);this.branches=[{id:0,branchName:"DARBMUPCO"},...a.data]}catch(e){this.getError(e.response.data)}}},ml=dl,ul=(a("c377"),Object(u["a"])(ml,ll,cl,!1,null,"5f21e3f2",null)),hl=ul.exports;p()(ul,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VCombobox:ca["a"],VDatePicker:pa["a"],VFlex:jt["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var pl={name:"AdminBalanceSheetPage",components:{AdminBalanceSheetReport:hl}},vl=pl,fl=Object(u["a"])(vl,nl,il,!1,null,"587af15d",null),bl=fl.exports,gl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminIncomeStatementReport")],1)},Cl=[],_l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{staticClass:"mb-10",attrs:{outlined:"",elevation:"10","min-height":"400"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"Choose Date","prepend-icon":"event",readonly:""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},s))]}}]),model:{value:t.fromMenu,callback:function(e){t.fromMenu=e},expression:"fromMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.fromMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-menu",{ref:"toMenu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-text-field",t._g({attrs:{label:"To","prepend-icon":"event",readonly:""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},s))]}}]),model:{value:t.toMenu,callback:function(e){t.toMenu=e},expression:"toMenu"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",label:"Select Branch","return-object":""},model:{value:t.selectedBranch,callback:function(e){t.selectedBranch=e},expression:"selectedBranch"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"primary"},on:{click:t.generate}},[t._v("Generate")]),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",color:"success"},on:{click:t.pdf}},[t._v("Download PDF")])],1)],1)],1),a("div",{attrs:{id:"content",hidden:t.hidden}},[a("v-card-text",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("div",{staticClass:"text-center"},[a("p",[null===t.auth.user||"admin"==t.auth.user.account?a("span",{staticClass:"headline"},[t._v(t._s(t.selectedBranch.branchName))]):a("span",{staticClass:"headline centered"},[t._v(t._s(t.auth.user.Branch.branchName))])]),a("p",[a("span",{staticClass:"subtitle-1"},[t._v("Income Statement")])]),a("p",[a("span",{staticClass:"subtitle-2"},[t._v(t._s(t.formatFromDate)+" through "+t._s(t.formatToDate))])])]),a("hr"),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Revenues")])]),a("ItemComponent",{attrs:{accounts:t.filterItems(4e4,5e4),total:t.totalBalance(4e4,5e4),msg:t.totalMsg("Total Revenue")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Cost of Goods Sold")])]),a("ItemComponent",{attrs:{accounts:t.filterItems(5e4,6e4),total:t.totalBalance(5e4,6e4),msg:t.totalMsg("Total Cost of Goods Sold")}}),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Cost of Services")])]),a("ItemComponent",{attrs:{accounts:t.filterItems(6e4,7e4),total:t.totalBalance(6e4,7e4),msg:t.totalMsg("Total Cost of Services")}}),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[a("span",{staticClass:"font-weight-bold"},[t._v("Gross Profit")])]),a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[a("p",{staticClass:"text-right font-weight-bold"},[a("span",[t._v(t._s(t.grossProfit))])])])],1),a("v-row",{staticClass:"ml-4 mt-4"},[a("span",{staticClass:"subtitle-1 font-weight-bold"},[t._v("Expenses")])]),a("ItemComponent",{attrs:{accounts:t.filterItems(7e4,8e4),total:t.totalBalance(7e4,8e4),msg:t.totalMsg("Total Expenses")}}),a("hr"),a("v-row",{staticClass:"ml-4 mb-4"},[a("v-col",{attrs:{cols:"12",md:"5"}},[t.netProfit<0?a("span",{staticClass:"font-weight-bold red--text"},[t._v("Net Loss")]):a("span",{staticClass:"font-weight-bold"},[t._v("Net Income")])]),a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.netProfit<0?a("p",{staticClass:"text-right font-weight-bold red--text"},[a("span",[t._v(t._s(t.formatBalance(t.netProfit)))])]):a("p",{staticClass:"text-right font-weight-bold"},[a("span",[t._v(t._s(t.formatBalance(t.netProfit)))])])])],1)],1)],1)],1)],1)],1)],1)],1)},xl=[],kl={name:"AdminIncomeStatementReport",components:{ItemComponent:Yn},data(){return{selectedBranch:{id:0,branchName:"DARBMUPCO"},fromMenu:!1,toMenu:!1,fromDate:(new Date).toISOString().substr(0,10),toDate:(new Date).toISOString().substr(0,10),items:[],hidden:!0,branches:[]}},methods:{...Object(B["b"])("errors",["getError"]),formatBalance(t){const e=Math.abs(t);return parseFloat(Math.round(100*e)/100).toFixed(2)},totalBalance(t,e){let a=this.items.filter(a=>{return a.id>=t&&a.id<=e}),s=a.map(t=>{let e=parseFloat(t.balance);return e});const o=t=>t.reduce((t,e)=>t+e,0),r=o(s);return r},totalMsg(t){return t},filterItems(t,e){const a=this.items.filter(a=>{return a.id>=t&&a.id<=e});return a},pdf(){const t=document.getElementById("content"),e={margin:.5,filename:"IncomeStatement.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};Vo()().from(t).set(e).save()},async generate(){try{const e=await Mt.a.get(`/api/reports/income-statement/${this.selectedBranch.id}/${this.fromDate}/${this.toDate}`);this.items=e.data}catch(t){this.getError(t.response.data)}this.hidden=!1}},computed:{...Object(B["c"])(["auth"]),formatFromDate(){return Ys()(this.fromDate).format("MMMM DD")},formatToDate(){return Ys()(this.toDate).format("MMMM DD YYYY")},grossProfit(){const t=this.formatBalance(this.totalBalance(4e4,5e4)),e=this.formatBalance(this.totalBalance(5e4,6e4)),a=this.formatBalance(this.totalBalance(6e4,7e4)),s=parseFloat(t)-(parseFloat(e)+parseFloat(a));return parseFloat(s).toFixed(2)},netProfit(){const t=parseFloat(this.grossProfit)-parseFloat(this.formatBalance(this.totalBalance(7e4,8e4)));return parseFloat(t).toFixed(2)}},async mounted(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get("/api/admin/branches",t);this.branches=[{id:0,branchName:"DARBMUPCO"},...a.data]}catch(e){this.getError(e.response.data)}}},wl=kl,Dl=(a("ece6"),Object(u["a"])(wl,_l,xl,!1,null,"b5819588",null)),yl=Dl.exports;p()(Dl,{VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VCombobox:ca["a"],VDatePicker:pa["a"],VFlex:jt["a"],VLayout:Tt["a"],VMenu:Q["a"],VRow:pe["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Vl={name:"AdminIncomeStatementPage",components:{AdminIncomeStatementReport:yl}},Bl=Vl,jl=Object(u["a"])(Bl,gl,Cl,!1,null,"5fd9147f",null),Tl=jl.exports,Sl=[{path:"/bookkeeper/reports/journal",name:"reports-journal",component:dr,meta:{title:"Journal"}},{path:"/bookkeeper/reports/ledger",name:"reports-ledger",component:wn,meta:{title:"Ledger"}},{path:"/bookkeeper/reports/trial-balance",name:"reports-trialBalance",component:Mn,meta:{title:"Trial Balance"}},{path:"/bookkeeper/reports/income-statement",name:"reports-incomeStatement",component:Xn,meta:{title:"Income Statement"}},{path:"/bookkeeper/reports/balance-sheet",name:"reports-balanceSheet",component:wi,meta:{title:"Balance Sheet"}},{path:"/admin/reports/journal",name:"reports-journal-admin",component:Mi,meta:{title:"Journal"}},{path:"/admin/reports/ledger",name:"reports-ledger-admin",component:qi,meta:{title:"Ledger"}},{path:"/admin/reports/trial-balance",name:"reports-trialBalance-admin",component:rl,meta:{title:"Trial Balance"}},{path:"/admin/reports/balance-sheet",name:"reports-balanceSheet-admin",component:bl,meta:{title:"Balance Sheet"}},{path:"/admin/reports/income-statement",name:"reports-incomeStatement-admin",component:Tl,meta:{title:"Income Statement"}}],Al=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("BookkeeperAdmin")],1)},Fl=[],Il=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",{attrs:{outlined:"",elevation:"10"}},[a("v-toolbar",{attrs:{color:"light-blue darken-3",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.$route.meta.title))])],1),a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mr-2",attrs:{depressed:"",dark:"",color:"primary"}},s),[t._v("Add Account")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Bookkeeper")])]),a("v-card-text",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Username"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-combobox",{attrs:{items:t.branches,"item-text":"branchName",value:"branchId",label:"Select Branch"},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)],1)],1),a("v-card-text",[a("v-dialog",{attrs:{width:"500"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-toolbar",{attrs:{color:"red lighten-1",dark:""}},[a("v-toolbar-title",[t._v("Delete")])],1),a("v-card-text",[a("p",{staticClass:"subtitle-1 mt-5"},[t._v("Are you sure you want to delete?")])]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.deleteDialog=!1}}},[t._v("\n                  Cancel\n                ")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteItem}},[t._v("\n                  Delete\n                ")])],1)],1)],1),a("v-data-table",{attrs:{headers:t.headers,items:t.items,loading:t.loading},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"mx-1",attrs:{dark:"",small:"",color:"red"},on:{click:function(e){return t.prepareDelete(s)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)]}}])})],1)],1)],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.msg)+"\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("\n        Close\n      ")])],1)],1)],1)},Ol=[],Ml={name:"BookkeeperAdmin",data(){return{name:"",password:"",branchId:"",select:"",dialog:!1,deleteDialog:!1,snackbar:!1,timeout:2e3,saved:1,loading:!1,msg:"",items:[],branches:[],headers:[{text:"ID",value:"id"},{text:"Username",value:"name"},{text:"Branch",value:"branch"},{text:"Actions",align:"center",value:"action",sortable:!1}],userToDelete:""}},methods:{...Object(B["b"])("errors",["getError"]),async save(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}},e=JSON.stringify({userName:this.name,password:this.password,account:"bookkeeper",BranchId:this.select.id});try{const s=await Mt.a.post("http://localhost:5000/api/bookkeepers",e,t),o=s.data;o||this.getError("Failed"),this.msg="Saved!",this.saved++,this.snackbar=!0,this.dialog=!1}catch(a){this.getError(a.response.data)}},prepareDelete(t){this.userToDelete=t,this.deleteDialog=!0},async deleteItem(){const t=this.items.indexOf(this.userToDelete),e={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const s=await Mt.a.delete(`/api/bookkeepers/${this.userToDelete.id}`,e);this.items.splice(t,1),this.deleteDialog=!1,this.msg=s.data.msg,this.snackbar=!0}catch(a){this.getError(a.response.data)}},closeSnackBar(){this.snackbar=!1,this.clear()},clear(){this.name="",this.password="",this.select="",this.msg=""}},async mounted(){this.loading=!0;const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{const a=await Mt.a.get("/api/bookkeepers/all-bookkeepers",t),s=await Mt.a.get("/api/admin/branches",t);this.loading=!1,this.branches=s.data,this.items=a.data}catch(e){this.loading=!1,this.getError(e.response.data)}},watch:{async saved(){const t={headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Mt.a.get("/api/bookkeepers/all-bookkeepers",t);this.loading=!1,this.items=a.data}catch(e){this.loading=!1,this.getError(e.response.data)}}}},El=Ml,$l=Object(u["a"])(El,Il,Ol,!1,null,"89d1703e",null),Rl=$l.exports;p()($l,{VBtn:v["a"],VCard:f["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:he["a"],VCombobox:ca["a"],VDataTable:Oe["a"],VDialog:H["a"],VFlex:jt["a"],VIcon:Z["a"],VLayout:Tt["a"],VRow:pe["a"],VSnackbar:N["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:k["b"]});var Ll={name:"BookkeepersAdmin",components:{BookkeeperAdmin:Rl}},Pl=Ll,Nl=Object(u["a"])(Pl,Al,Fl,!1,null,"d8d1e44c",null),Gl=Nl.exports,Ul=[{path:"/admin/bookkeepers",name:"admin-bookkeepers",component:Gl,meta:{title:"Bookkeepers"}}];s["a"].use(it["a"]);var zl=new it["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",beforeEnter(t,e,a){Nt.getters["auth/isLogged"]?a("/bookkeeper/dashboard"):a()},component:vt},{path:"/admin",name:"homeAdmin",beforeEnter(t,e,a){Nt.getters["auth/isLogged"]?a("/bookkeeper/dashboard"):a()},component:xt},...Be,...qe,..._o,...Sl,...Ul,{path:"*",name:"notFound",component:At,meta:{title:"Page Not Found"}}]}),Yl=a("f309");s["a"].use(Yl["a"]);var Jl=new Yl["a"]({icons:{iconfont:"mdi"}});s["a"].config.productionTip=!1,new s["a"]({router:zl,store:Nt,vuetify:Jl,render:t=>t(nt)}).$mount("#app")},6902:function(t,e,a){"use strict";var s=a("e52b"),o=a.n(s);o.a},"6bdd":function(t,e,a){"use strict";var s=a("704c"),o=a.n(s);o.a},"704c":function(t,e,a){},8043:function(t,e,a){},8405:function(t,e,a){"use strict";var s=a("ec86"),o=a.n(s);o.a},8777:function(t,e,a){},9162:function(t,e,a){"use strict";var s=a("52a8"),o=a.n(s);o.a},9952:function(t,e,a){"use strict";var s=a("2ae8"),o=a.n(s);o.a},b778:function(t,e,a){"use strict";var s=a("e8c9"),o=a.n(s);o.a},bd39:function(t,e,a){"use strict";var s=a("0c87"),o=a.n(s);o.a},bd54:function(t,e,a){},c377:function(t,e,a){"use strict";var s=a("1855"),o=a.n(s);o.a},c5a5:function(t,e,a){},d203:function(t,e,a){},d93f:function(t,e,a){"use strict";var s=a("4629"),o=a.n(s);o.a},e52b:function(t,e,a){},e8c9:function(t,e,a){},e951:function(t,e,a){"use strict";var s=a("d203"),o=a.n(s);o.a},ec86:function(t,e,a){},ece6:function(t,e,a){"use strict";var s=a("166e"),o=a.n(s);o.a},f697:function(t,e,a){},f7b3:function(t,e,a){"use strict";var s=a("c5a5"),o=a.n(s);o.a}});
//# sourceMappingURL=app.65efedfd.js.map