(function(t){function e(e){for(var r,n,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&m.push(o[n][0]),o[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(r=!1)}r&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},o={app:0},s=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("1356"),o=a.n(r);o.a},"08e6":function(t,e,a){"use strict";var r=a("f697"),o=a.n(r);o.a},1356:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Navbar"),a("v-content",{staticClass:"view-container"},[a("router-view")],1)],1)},s=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("v-app-bar",{staticClass:"grey lighten-3",attrs:{flat:"",app:""}},[a("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",on:{click:t.toggleDrawer}}),t.isAuth?a("v-toolbar-title",{staticClass:"toolbar-title"},[a("span",{staticClass:"title font-weight-light grey--text text--darken-2"},[t._v(t._s(t.$route.meta.title))])]):a("v-toolbar-title",{staticClass:"toolbar-title"},[a("span",{staticClass:"title grey--text text--darken-2"},[t._v("DARBMUPCO")]),a("span",{staticClass:"hidden-sm-and-down font-weight-light title grey--text text--darken-2"},[t._v("Bookkeeping System")])]),a("v-spacer"),t.isAuth?a("v-toolbar-items",[a("v-menu",{attrs:{"offset-x":!0,"offset-y":!0,transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{text:""}},r),[a("span",{staticClass:"grey--text text--darken-2"},[a("span",{staticClass:"subtitle-1 font-weight-light text-capitalize"},[t._v("\n                "+t._s(t.auth.user.userName)+"\n              ")]),a("v-icon",{attrs:{right:"",medium:""}},[t._v("expand_more")])],1)])]}}])},[a("v-list",[a("v-list-item",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light"},[t._v("Profile")])],1),a("v-list-item",{on:{click:t.logout}},[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light"},[t._v("Logout")])],1)],1)],1)],1):a("v-toolbar-items",[a("v-dialog",{attrs:{persistent:"","max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({staticClass:"font-weight-light",attrs:{text:""}},r),[t._v("Login")])]}}],null,!1,2067144200),model:{value:t.loginDialog,callback:function(e){t.loginDialog=e},expression:"loginDialog"}},[a("LoginDialog",{on:{"close-dialog":function(e){return t.close("login")},"submit-login":t.login,"submit-loginAdmin":t.adminLogin,"goto-admin":t.gotoAdmin}})],1)],1)],1),t.isAuth?a("v-navigation-drawer",{attrs:{app:"",dark:"",floating:"",color:"blue-grey darken-1",width:"260"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("NavDrawer")],1):t._e(),a("ErrorSnackbar",{attrs:{snackbar:t.hasError,text:t.getError},on:{"close-snackbar":function(e){t.hasError}}})],1)},i=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"blue-grey darken-1"}},[t.isAdmin?a("v-toolbar-title",[t._v("Admin Login")]):a("v-toolbar-title",[t._v("Bookkeeper Login")])],1),a("v-form",{on:{submit:function(e){return e.preventDefault(),t.submit(t.user)}}},[a("v-card-text",[a("v-text-field",{attrs:{label:"Username",name:"username",type:"text"},model:{value:t.user.userName,callback:function(e){t.$set(t.user,"userName",e)},expression:"user.userName"}}),a("v-text-field",{attrs:{label:"Password",name:"password",type:"password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t.isAdmin?t._e():a("span",{staticClass:"blue--text\n      link\n      darken-4\n      subtitle-2\n      ml-5 font-weight-light",on:{click:function(e){return t.$emit("goto-admin")}}},[t._v("\n      Click here to sign in as admin\n    ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[a("span",[t._v("Close")])]),a("v-btn",{attrs:{type:"submit",text:"",color:"blue-grey darken-1"}},[a("span",[t._v("Submit")])])],1)],1)],1)},c=[],u={name:"LoginDialog",data(){return{user:{userName:"",password:""}}},computed:{isAdmin(){return"homeAdmin"===this.$route.name}},methods:{submit(t){"homeAdmin"===this.$route.name?this.$emit("submit-loginAdmin",t):this.$emit("submit-login",t),this.user.userName="",this.user.password=""}}},d=u,m=(a("08e6"),a("2877")),v=a("6544"),h=a.n(v),p=a("8336"),b=a("b0af"),g=a("99d9"),f=a("4bd4"),k=a("2fa4"),_=a("8654"),x=a("71d9"),C=a("2a7f"),y=Object(m["a"])(d,l,c,!1,null,"0d2c9e22",null),V=y.exports;h()(y,{VBtn:p["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VForm:f["a"],VSpacer:k["a"],VTextField:_["a"],VToolbar:x["a"],VToolbarTitle:C["b"]});var w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-group",{attrs:{color:"white"}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline text-lg-center"},[t._v("DARBMUPCO")]),a("v-list-item-subtitle",{staticClass:"text-lg-center"},[t._v("Bookkeeping System")])],1)],1),a("v-divider"),"bookkeeper"===t.auth.user.account?a("div",t._l(t.bookkeeperItems,function(e){return a("v-list-group",{key:e.title,attrs:{color:"white",disabled:e.disabled,"prepend-icon":e.action,"append-icon":e.items?void 0:"","no-action":""},on:{click:function(a){t.$router.push(e.route).catch(function(t){})}},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light",domProps:{textContent:t._s(e.title)}})],1)]},proxy:!0}],null,!0),model:{value:e.active,callback:function(a){t.$set(e,"active",a)},expression:"item.active"}},t._l(e.items,function(e){return a("v-list-item",{key:e.title,attrs:{to:e.route}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light",domProps:{textContent:t._s(e.title)}})],1)],1)}),1)}),1):a("div",t._l(t.adminItems,function(e){return a("v-list-group",{key:e.title,attrs:{color:"white",disabled:e.disabled,"prepend-icon":e.action,"append-icon":e.items?void 0:"","no-action":""},on:{click:function(a){t.$router.push(e.route).catch(function(t){})}},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light",domProps:{textContent:t._s(e.title)}})],1)]},proxy:!0}],null,!0),model:{value:e.active,callback:function(a){t.$set(e,"active",a)},expression:"item.active"}},t._l(e.items,function(e){return a("v-list-item",{key:e.title},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"subtitle-2 font-weight-light",domProps:{textContent:t._s(e.title)}})],1)],1)}),1)}),1)],1)},A=[],O=a("2f62"),E={name:"BookkeeperNavDrawer",data(){return{bookkeeperItems:[{action:"dashboard",title:"Dashboard",route:"/bookkeeper/dashboard"},{action:"event_note",title:"Chart of Accounts",route:"/bookkeeper/chart_of_account"},{action:"chrome_reader_mode",title:"Bookkeeping",route:"#",items:[{title:"General Journal",route:"/bookkeeper/general-journal"},{title:"Cash Receipt Book",route:"#"},{title:"Cash Disbursement Book",route:"#"},{title:"Sales Book",route:"#"},{title:"Purchase Book",route:"#"}]}],adminItems:[{action:"dashboard",title:"Dashboard",route:"/admin/dashboard"},{action:"event_note",title:"Chart of Accounts",route:"/admin/chart_of_account"},{action:"local_offer",title:"Transactions",route:"#",items:[{title:"General Journal"},{title:"Cash Receipt Book"},{title:"Cash Disbursement Book"},{title:"Sales Book"},{title:"Purchase Book"}]}]}},computed:{...Object(O["c"])(["auth"])}},S=E,T=a("ce7e"),j=a("56b0"),L=a("da13"),D=a("5d23"),N=a("1baa"),R=Object(m["a"])(S,w,A,!1,null,"7abb293d",null),$=R.exports;h()(R,{VDivider:T["a"],VListGroup:j["a"],VListItem:L["a"],VListItemContent:D["a"],VListItemGroup:N["a"],VListItemSubtitle:D["b"],VListItemTitle:D["c"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{"multi-line":t.multiline,bottom:"bottom",color:"red lighten-1",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.text)+"\n    "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.close}},[t._v("\n      Close\n    ")])],1)],1)},I=[],B={name:"ErrorSnackbar",props:["snackbar","text"],data(){return{multiline:!0,timeout:0}},methods:{...Object(O["b"])("errors",["clearError"]),close(){this.$emit("close-snackbar"),this.clearError()}}},G=B,P=a("2db4"),J=Object(m["a"])(G,U,I,!1,null,"ecd634ac",null),F=J.exports;h()(J,{VBtn:p["a"],VSnackbar:P["a"]});var M={name:"Navbar",components:{LoginDialog:V,ErrorSnackbar:F,NavDrawer:$},data(){return{drawer:!0,loginDialog:!1,registerDialog:!1,width:200}},computed:{...Object(O["c"])(["auth","errors"]),isAuth(){return!(!this.auth.user||!0!==this.auth.isAuthenticated)},hasError(){return!0===this.errors.isError},getError(){return this.errors.msg.msg}},methods:{...Object(O["b"])("auth",["registerUser","loginUser","loginAdmin","logoutUser"]),toggleDrawer(){this.drawer=!0},close(t){"register"===t?this.registerDialog=!1:this.loginDialog=!1},register(t){this.registerUser(t),this.close("register")},login(t){this.loginUser(t),this.close("login")},adminLogin(t){this.loginAdmin(t),this.close("login")},gotoAdmin(){this.$router.push("/admin"),this.loginDialog=!0},logout(){this.logoutUser(),this.$router.push("/")}}},H=M,z=a("40dc"),q=a("5bc1"),Y=a("169a"),K=a("132d"),Q=a("8860"),W=a("e449"),X=a("f774"),Z=Object(m["a"])(H,n,i,!1,null,null,null),tt=Z.exports;h()(Z,{VAppBar:z["a"],VAppBarNavIcon:q["a"],VBtn:p["a"],VDialog:Y["a"],VIcon:K["a"],VList:Q["a"],VListItem:L["a"],VListItemTitle:D["c"],VMenu:W["a"],VNavigationDrawer:X["a"],VSpacer:k["a"],VToolbarItems:C["a"],VToolbarTitle:C["b"]});var et={name:"App",components:{Navbar:tt},computed:{...Object(O["c"])(["auth"])}},at=et,rt=(a("034f"),a("7496")),ot=a("a75b"),st=Object(m["a"])(at,o,s,!1,null,null,null),nt=st.exports;h()(st,{VApp:rt["a"],VContent:ot["a"]});var it=a("8c4f"),lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center ma-12 mt-12"},[t.auth.isLoading?a("v-overlay",{attrs:{value:!t.overlay}}):t._e(),t.auth.isLoading?a("v-progress-circular",{attrs:{size:"90",width:"10",indeterminate:"",color:"primary"}}):t._e()],1)},ct=[],ut={name:"Home",data(){return{overlay:!1}},computed:{...Object(O["c"])(["auth"])}},dt=ut,mt=a("a797"),vt=a("490a"),ht=Object(m["a"])(dt,lt,ct,!1,null,null,null),pt=ht.exports;h()(ht,{VOverlay:mt["a"],VProgressCircular:vt["a"]});var bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center ma-12 mt-12"},[t.auth.isLoading?a("v-overlay",{attrs:{value:!t.overlay}}):t._e(),t.auth.isLoading?a("v-progress-circular",{attrs:{size:"90",width:"15",indeterminate:"",color:"primary"}}):t._e(),a("h1")],1)},gt=[],ft={name:"HomeAdmin",data(){return{overlay:!1}},computed:{...Object(O["c"])(["auth"])}},kt=ft,_t=Object(m["a"])(kt,bt,gt,!1,null,"42c33e94",null),xt=_t.exports;h()(_t,{VOverlay:mt["a"],VProgressCircular:vt["a"]});var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found"},[a("v-container",{staticClass:"my-6",attrs:{fluid:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[a("v-card",{staticClass:"mt-8"},[a("v-toolbar",{staticClass:"error",attrs:{flat:"",dark:""}},[a("v-toolbar-title",[a("span",[t._v("Error")])])],1),a("v-card-text",[a("v-alert",{staticClass:"text-center mx-4",attrs:{dense:"",text:"",type:"error"}},[t._v("\n              404 The page you requested was not found.\n            ")])],1)],1)],1)],1)],1)],1)},yt=[],Vt={name:"PageNotFound"},wt=Vt,At=a("0798"),Ot=a("a523"),Et=a("0e8f"),St=a("a722"),Tt=Object(m["a"])(wt,Ct,yt,!1,null,"932520de",null),jt=Tt.exports;h()(Tt,{VAlert:At["a"],VCard:b["a"],VCardText:g["b"],VContainer:Ot["a"],VFlex:Et["a"],VLayout:St["a"],VToolbar:x["a"],VToolbarTitle:C["b"]});var Lt={token:localStorage.getItem("token"),user:null,isAuthenticated:!1,isLoading:!1},Dt={AUTH_USER:(t,e)=>{localStorage.setItem("token",e.token),t.token=e.token,t.isLoading=!1,t.isAuthenticated=!0,t.user=e.user},LOGOUT_USER:t=>{localStorage.removeItem("token"),t.token=null,t.user=null,t.isAuthenticated=!1,t.isLoading=!1},USER_LOADED:(t,e)=>{t.isLoading=!1,t.isAuthenticated=!0,t.user=e,t.token=e.token},USER_LOADING:t=>{t.isLoading=!0}},Nt=a("bc3a"),Rt=a.n(Nt),$t={registerUser:({commit:t,dispatch:e},a)=>{const{firstName:r,lastName:o,email:s,password:n}=a,i={headers:{"Content-Type":"application/json"}},l=JSON.stringify({firstName:r,lastName:o,email:s,password:n});Rt.a.post("/api/bookkeepers",l,i).then(e=>t("AUTH_USER",e.data)).catch(a=>{t("LOGOUT_USER"),e("errors/getError",a.response.data,{root:!0})})},loginUser:({commit:t,dispatch:e},a)=>{t("USER_LOADING");const{userName:r,password:o}=a,s={headers:{"Content-Type":"application/json"}},n=JSON.stringify({userName:r,password:o});Rt.a.post("/api/bookkeepers/login",n,s).then(e=>{t("AUTH_USER",e.data),ta.push("/bookkeeper/dashboard")}).catch(a=>{t("LOGOUT_USER"),e("errors/getError",a.response.data,{root:!0})})},loginAdmin:({commit:t,dispatch:e},a)=>{t("USER_LOADING");const{userName:r,password:o}=a,s={headers:{"Content-Type":"application/json"}},n=JSON.stringify({userName:r,password:o});Rt.a.post("/api/admin/login",n,s).then(e=>{t("AUTH_USER",e.data),ta.push("/admin/dashboard")}).catch(a=>{t("LOGOUT_USER"),e("errors/getError",a.response.data,{root:!0})})},loadUser:({commit:t,state:e})=>{t("USER_LOADING");const a={headers:{Authorization:localStorage.getItem("token")}};"bookkeeper"===e.user.account?Rt.a.get("/api/bookkeepers",a).then(e=>{t("USER_LOADED",e.data)}).catch(e=>t("LOGOUT_USER")):Rt.a.get("/api/admin",a).then(e=>{t("USER_LOADED",e.data)}).catch(e=>t("LOGOUT_USER"))},logoutUser:({commit:t})=>{t("LOGOUT_USER")}},Ut={isLogged:t=>{return!0===t.isAuthenticated}},It={namespaced:!0,state:Lt,mutations:Dt,actions:$t,getters:Ut},Bt={namespaced:!0,state:{isError:!1,msg:""},mutations:{error:(t,e)=>{t.isError=!0,t.msg=e},clearError:t=>{t.isError=!1,t.msg=""}},actions:{getError:({commit:t},e)=>{t("error",e)},clearError:({commit:t})=>{t("clearError")}},getters:{errorMsg:t=>{return t.msg}}},Gt=a("0e44");r["a"].use(O["a"]);var Pt=new O["a"].Store({modules:{auth:It,errors:Bt},plugins:[Object(Gt["a"])()]}),Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[0==t.auth.isAuthenticated||"bookkeeper"!==t.auth.user.account?a("div",[a("RestrictedResource")],1):a("div",[a("h1")])])},Ft=[],Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restricted"},[a("v-container",{staticClass:"my-6",attrs:{fluid:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[a("v-card",{staticClass:"elevation-12 mt-8"},[a("v-toolbar",{staticClass:"error",attrs:{flat:"",dark:""}},[a("v-toolbar-title",[a("span",[t._v("Error")])])],1),a("v-card-text",[a("v-alert",{staticClass:"mx-4",attrs:{dense:"",text:"",type:"error"}},[t._v("\n              This is a restricted page. You will need to register or login an account.\n            ")])],1)],1)],1)],1)],1)],1)},Ht=[],zt={name:"RestrictedResource"},qt=zt,Yt=Object(m["a"])(qt,Mt,Ht,!1,null,"531f79c3",null),Kt=Yt.exports;h()(Yt,{VAlert:At["a"],VCard:b["a"],VCardText:g["b"],VContainer:Ot["a"],VFlex:Et["a"],VLayout:St["a"],VToolbar:x["a"],VToolbarTitle:C["b"]});var Qt={name:"DashboardBookkeeper",components:{RestrictedResource:Kt},computed:{...Object(O["c"])(["auth"])}},Wt=Qt,Xt=Object(m["a"])(Wt,Jt,Ft,!1,null,"148c717f",null),Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.$store.state.auth.isAuthenticated||"bookkeeper"===t.$store.state.auth.user.account?a("div",{staticClass:"not-authenticated"},[a("RestrictedResource")],1):t._e()])},ee=[],ae={name:"DashboardAdmin",components:{RestrictedResource:Kt}},re=ae,oe=Object(m["a"])(re,te,ee,!1,null,"1b8deb46",null),se=oe.exports,ne=[{path:"/bookkeeper/dashboard",name:"dashboard-bookkeeper",component:Zt,meta:{title:"Dashboard"}},{path:"/admin/dashboard",name:"dashboard-admin",component:se,meta:{title:"Dashboard"}}],ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.$store.state.auth.isAuthenticated||"bookkeeper"!==t.$store.state.auth.user.account?a("div",{staticClass:"not-authenticated"},[a("RestrictedResource")],1):a("div",[a("ChartOfAccount")],1)])},le=[],ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-of-account"},[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",[a("v-card-title",[a("v-col",{attrs:{cols:"6",md:"6"}}),a("v-col",{attrs:{cols:"6",md:"6"}},[a("v-text-field",{attrs:{solo:"","append-icon":"search",label:"Filter accounts","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("v-card-text",[a("v-data-table",{staticClass:"elevation-3",attrs:{dense:"","item-key":"code",headers:t.headers,items:t.accounts,"items-per-page":15,search:t.search,loading:t.loading,"loading-text":"Loading..."}})],1)],1)],1)],1)],1)},ue=[],de={name:"ChartOfAccount",data(){return{search:"",accounts:[],loading:!1,headers:[{text:"Account Name",value:"name"},{text:"Account Subtype",value:"SubType.name"},{text:"Account Type",value:"SubType.Type.name"}]}},async mounted(){const t={headers:{Authorization:localStorage.getItem("token")}};try{this.loading=!0;const a=await Rt.a.get("/api/charts",t),r=a.data;this.loading=!1,this.accounts=r}catch(e){this.loading=!1,console.log(e)}}},me=de,ve=a("62ad"),he=a("8fea"),pe=Object(m["a"])(me,ce,ue,!1,null,"1ce23c01",null),be=pe.exports;h()(pe,{VCard:b["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:ve["a"],VDataTable:he["a"],VFlex:Et["a"],VLayout:St["a"],VTextField:_["a"]});var ge={name:"ChartofAccountBookkeeper",components:{ChartOfAccount:be,RestrictedResource:Kt}},fe=ge,ke=Object(m["a"])(fe,ie,le,!1,null,"a936d426",null),_e=ke.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.$store.state.auth.isAuthenticated||"bookkeeper"===t.$store.state.auth.user.account?a("div",{staticClass:"not-authenticated"},[a("RestrictedResource")],1):a("div",[a("ChartOfAccount")],1)])},Ce=[],ye={name:"ChartofAccountAdmin",components:{ChartOfAccount:be,RestrictedResource:Kt}},Ve=ye,we=Object(m["a"])(Ve,xe,Ce,!1,null,"42b6d4e8",null),Ae=we.exports,Oe=[{path:"/bookkeeper/chart_of_account",name:"chart-bookkeeper",component:_e,meta:{title:"Chart of Accounts"}},{path:"/admin/chart_of_account",name:"chart-admin",component:Ae,meta:{title:"Chart of Accounts"}}],Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("GeneralJournal")],1)},Se=[],Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md10:"","offset-md1":""}},[a("v-card",[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-textarea",{attrs:{outlined:"",rows:"1","row-height":"15",name:"input-7-4",label:"Description...",value:"",model:t.memo}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"primary",dark:"",fab:"",small:""}},Object.assign({},r,o)),[a("v-icon",[t._v("note_add")])],1)]}}],null,!0)},[a("span",[t._v("Add")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("GeneralJournalDialog",{attrs:{transId:t.transId,memo:t.memo},on:{"close-dialog":function(e){t.dialog=!1},"add-transaction":t.add}})],1)],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"red",dark:"",fab:"",small:""},on:{click:t.clear}},r),[a("v-icon",[t._v("delete")])],1)]}}])},[a("span",[t._v("Clear")])])],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({staticClass:"mt-4",attrs:{color:"success",dark:"",fab:"",small:""},on:{click:t.save}},r),[a("v-icon",[t._v("save")])],1)]}}])},[a("span",[t._v("Save")])])],1)],1),a("v-data-table",{staticClass:"elevation-3",attrs:{"hide-default-footer":"","disable-sort":"",headers:t.headers,items:t.items,"no-data-text":"Add General Journal transactions"}})],1)],1)],1)],1),a("div",{staticClass:"text-center"},[a("v-snackbar",{attrs:{bottom:"bottom",color:"green",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      Saved!\n      "),a("v-btn",{attrs:{color:"white",text:""},on:{click:t.closeSnackBar}},[t._v("\n        Close\n      ")])],1)],1)],1)},je=[],Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[!0===t.loading?a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n      Please stand by\n      "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1):a("v-card",[a("v-card-title",[a("span",{staticClass:"title"},[t._v("Add Transaction")])]),a("v-form",[a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-combobox",{attrs:{items:t.accounts,"item-text":"name",label:"Select Account Name","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{disabled:t.creditNotNull,label:"Debit"},model:{value:t.debit,callback:function(e){t.debit=e},expression:"debit"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{disabled:t.debitNotNull,label:"Credit"},model:{value:t.credit,callback:function(e){t.credit=e},expression:"credit"}})],1)],1)],1)],1),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-dialog")}}},[t._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isIncomplete},on:{click:t.add}},[t._v("Add")])],1)],1)],1)],1)},De=[],Ne={name:"GeneralJournalDialog",props:["transId","memo"],data(){return{loading:!1,selected:"",debit:"",credit:"",accounts:[]}},methods:{...Object(O["b"])("errors",["getError"]),add(){const t={BookkeeperId:this.auth.user.id,TransId:this.transId,AccountId:this.selected.id,memo:this.memo,AccountName:this.selected.name,debit:parseInt(this.debit),credit:parseInt(this.credit)};this.$emit("add-transaction",t),this.$emit("close-dialog"),this.selected="",this.debit="",this.credit=""}},async mounted(){try{this.loading=!0;const e=await Rt.a.get("/api/accounts");this.accounts=e.data,this.loading=!1}catch(t){this.getError(t.response.data),this.loading=!1}},computed:{...Object(O["c"])(["auth"]),creditNotNull(){return this.credit.length>0},debitNotNull(){return this.debit.length>0},isIncomplete(){return""===this.selected||""===this.debit&&""===this.credit}}},Re=Ne,$e=a("2b5d"),Ue=a("8e36"),Ie=a("0fd9"),Be=Object(m["a"])(Re,Le,De,!1,null,"22ae2bef",null),Ge=Be.exports;h()(Be,{VBtn:p["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:ve["a"],VCombobox:$e["a"],VContainer:Ot["a"],VForm:f["a"],VProgressLinear:Ue["a"],VRow:Ie["a"],VTextField:_["a"]});var Pe=a("c64e"),Je=a.n(Pe),Fe={name:"GeneralJournal",components:{GeneralJournalDialog:Ge},data(){return{snackbar:!1,timeout:0,transId:Je()(),dialog:!1,memo:"",headers:[{text:"AccountName",value:"AccountName"},{text:"Debit",value:"debit"},{text:"Credit",value:"credit"}],items:[]}},methods:{...Object(O["b"])("errors",["getError"]),add(t){this.items=[...this.items,t],console.log(this.items)},clear(){this.items=[]},closeSnackBar(){this.snackbar=!1,this.clear()},async save(){const t={headers:{"Content-Type":"application/json"}};try{const a=JSON.stringify({data:this.items});console.log(a);const r=await Rt.a.post("/api/general-journal",a,t),o=r.data;o||console.log("Failed"),this.snackbar=!0}catch(e){this.getError(e.response.data),console.log(e.response.data)}}}},Me=Fe,He=a("a844"),ze=a("3a2f"),qe=Object(m["a"])(Me,Te,je,!1,null,"a24f0502",null),Ye=qe.exports;h()(qe,{VBtn:p["a"],VCard:b["a"],VCardText:g["b"],VCol:ve["a"],VDataTable:he["a"],VDialog:Y["a"],VFlex:Et["a"],VIcon:K["a"],VLayout:St["a"],VRow:Ie["a"],VSnackbar:P["a"],VTextarea:He["a"],VTooltip:ze["a"]});var Ke={name:"GeneralJournalPage",components:{GeneralJournal:Ye}},Qe=Ke,We=Object(m["a"])(Qe,Ee,Se,!1,null,"57872f2c",null),Xe=We.exports,Ze=[{path:"/bookkeeper/general-journal",name:"general-journal-bookkeeper",component:Xe,meta:{title:"Record General Journal"}}];r["a"].use(it["a"]);var ta=new it["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",beforeEnter(t,e,a){Pt.getters["auth/isLogged"]?a("/bookkeeper/dashboard"):a()},component:pt},{path:"/admin",name:"homeAdmin",beforeEnter(t,e,a){Pt.getters["auth/isLogged"]?a("/bookkeeper/dashboard"):a()},component:xt},...ne,...Oe,...Ze,{path:"*",name:"notFound",component:jt,meta:{title:"Page Not Found"}}]}),ea=a("f309");r["a"].use(ea["a"]);var aa=new ea["a"]({icons:{iconfont:"mdi"}});r["a"].config.productionTip=!1,new r["a"]({router:ta,store:Pt,vuetify:aa,render:t=>t(nt)}).$mount("#app")},f697:function(t,e,a){}});
//# sourceMappingURL=app.6781183a.js.map